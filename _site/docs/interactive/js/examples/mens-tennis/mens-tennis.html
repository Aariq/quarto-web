<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head>
  <meta charset="utf-8">
  <meta name="generator" content="quarto-(Local Development)">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Kaho Cheung">
  <meta name="dcterms.date" content="2021-07-18">
  <title>Quarto – Men’s Tennis</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>

  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script src="../../../../../site_libs/quarto-nav/quarto-nav.js"></script>
  <script src="../../../../../site_libs/quarto-nav/headroom.min.js"></script>
  <meta name="quarto:offset" content="../../../../../">
  <script src="../../../../../site_libs/quarto-search/autocomplete.min.js"></script>
  <script src="../../../../../site_libs/quarto-search/fuse.min.js"></script>
  <script src="../../../../../site_libs/quarto-search/quarto-search.js"></script>
  <link href="../../../../../docs/interactive/shiny/index.html" rel="next">
  <link href="../../../../../docs/interactive/js/examples/france-vaccination.html" rel="prev">
  <script src="../../../../../site_libs/quarto-html/quarto.js"></script>
  <script src="../../../../../site_libs/quarto-html/popper.min.js"></script>
  <script src="../../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
  <script src="../../../../../site_libs/quarto-html/clipboard.min.js"></script>
  <script src="../../../../../site_libs/quarto-html/anchor.min.js"></script>
  <script src="../../../../../site_libs/quarto-html/quarto-html.js"></script>
  <link href="../../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
  <link class="quarto-color-scheme" href="../../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
  <link class="quarto-color-scheme quarto-color-alternate" rel="prefetch" href="../../../../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css">
  <script src="../../../../../site_libs/bootstrap/bootstrap.min.js"></script>
  <link href="../../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
  <link class="quarto-color-scheme" href="../../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
  <link class="quarto-color-scheme quarto-color-alternate" rel="prefetch" href="../../../../../site_libs/bootstrap/bootstrap-dark.min.css">
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-FV9Z7SDZ0M"></script>

  <script type="text/javascript">

  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-FV9Z7SDZ0M', { 'anonymize_ip': true});
  </script>
  <script type="module" src="../../../../../site_libs/quarto-ojs/ojs-bundle.js"></script>
  <link href="../../../../../site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
  <link rel="stylesheet" href="../../../../../styles.css">
<meta name="og:title" content="Quarto - Men's Tennis">
<meta name="og:description" content="How Has Men’s Tennis Changed From 1973–2021? Originally published at <https://observablehq.com/@unkleho/how-has-mens-tennis-changed-from-1973-2021>">
<meta name="og:image" content="https://quarto.org/quarto.png">
<meta name="og:site-name" content="Quarto">
<meta name="og:image:height" content="152">
<meta name="og:image:width" content="624">
<meta name="twitter:title" content="Quarto - Men's Tennis">
<meta name="twitter:description" content="How Has Men’s Tennis Changed From 1973–2021? Originally published at <https://observablehq.com/@unkleho/how-has-mens-tennis-changed-from-1973-2021>">
<meta name="twitter:image" content="https://quarto.org/quarto.png">
<meta name="twitter:image-height" content="152">
<meta name="twitter:image-width" content="624">
<meta name="twitter:card" content="summary_large_image">
</head>
<body>
<div id="quarto-search-results"></div>
<header id="quarto-header" class="headroom fixed-top">
<nav class="navbar navbar-expand-lg navbar-light bg-light ">
    <div class="container-fluid">
  <a class="navbar-brand" href="../../../../../index.html">
    <img src="../../../../../quarto.png" alt="">
  </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../../index.html">
 Get Started</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../../../../../docs/authoring/markdown-basics.html" aria-current="page">
 Using</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../docs/output-formats/html-basics.html">
 Formats</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../docs/projects/quarto-projects.html">
 Projects</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../about.html">
 About</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/quarto-dev/quarto-cli"><i class="bi-github" role="img">
</i> 
 </a>
  </li>  
</ul>
          <div>
            <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;"><i class="bi"></i></a>
          </div>
          <form class="d-flex mb-0">
  <input id="quarto-search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>
      </div> <!-- /navcollapse -->
  </div> <!-- /container-fluid -->
</nav>
<nav class="quarto-secondary-nav py-2 d-lg-none d-md-block " data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <div class="container-fluid d-flex justify-content-between">
    <h1 class="quarto-secondary-nav-title mb-0 fs-3 d-inline">Men’s Tennis</h1>
    <button type="button" class="quarto-btn-toggle btn d-lg-none py-0 px-1 d-inline-block border-0 ">
      <i class="bi bi-chevron-right"></i>
    </button>
  </div>
</nav>
</header>
 <!-- /navbar/sidebar -->
<div class="container-fluid quarto-container d-flex flex-column page-layout-article">
<div class="row flex-fill" id="quarto-content">
  <div id="quarto-sidebar" class="col col-12 col-lg-3 d-lg-flex px-0 pt-0 sidebar collapse sidebar-navigation">
    <nav class="me-lg-auto py-2 docked  overflow-scroll">
  <div class="sidebar-menu-container"> 
  <ul class="list-unstyled mt-3 px-3">
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 " data-bs-toggle="collapse" data-bs-target="#authoring-collapse" aria-expanded="true">
              <div class="me-auto  sidebar-section-item">Authoring</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  show" id="authoring-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../../../../../docs/authoring/markdown-basics.html" class="" data-resolve-title="true">Markdown Basics</a>
</li>
          <li class="sidebar-item">
  <a href="../../../../../docs/authoring/footnotes-and-citations.html" class="" data-resolve-title="true">Citations &amp; Footnotes</a>
</li>
          <li class="sidebar-item">
  <a href="../../../../../docs/authoring/figures-and-layout.html" class="" data-resolve-title="true">Figures &amp; Layout</a>
</li>
          <li class="sidebar-item">
  <a href="../../../../../docs/authoring/cross-references.html" class="" data-resolve-title="true">Cross References</a>
</li>
          <li class="sidebar-item">
  <a href="../../../../../docs/authoring/callouts.html" class="" data-resolve-title="true">Callout Blocks</a>
</li>
          <li class="sidebar-item">
  <a href="../../../../../docs/authoring/shortcodes-and-filters.html" class="" data-resolve-title="true">Shortcodes &amp; Filters</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 " data-bs-toggle="collapse" data-bs-target="#computations-collapse" aria-expanded="true">
              <div class="me-auto  sidebar-section-item">Computations</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  show" id="computations-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../../../../../docs/computations/running-code.html" class="" data-resolve-title="true">Running Code</a>
</li>
          <li class="sidebar-item">
  <a href="../../../../../docs/computations/execution-options.html" class="" data-resolve-title="true">Execution Options</a>
</li>
          <li class="sidebar-item">
  <a href="../../../../../docs/computations/parameters.html" class="" data-resolve-title="true">Parameters</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 " data-bs-toggle="collapse" data-bs-target="#interactivedocs-collapse" aria-expanded="true">
              <div class="me-auto  sidebar-section-item">Interactive Docs</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  show" id="interactivedocs-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../../../../../docs/interactive/index.html" class="">Overview</a>
</li>
          <ul class="list-unstyled sidebar-section depth2">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-item">
            <div class="sidebar-section-link me-auto ">
            <a href="../../../../../docs/interactive/js/index.html" class="">JavaScript</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#javascript-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="javascript-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../../../../../docs/interactive/js/index.html" class="">Introduction</a>
</li>
          <li class="sidebar-item">
  <a href="../../../../../docs/interactive/js/reactivity.html" class="" data-resolve-title="true">Reactivity</a>
</li>
          <li class="sidebar-item">
  <a href="../../../../../docs/interactive/js/data-sources.html" class="" data-resolve-title="true">Data Sources</a>
</li>
          <li class="sidebar-item">
  <a href="../../../../../docs/interactive/js/components.html" class="" data-resolve-title="true">Components</a>
</li>
          <li class="sidebar-item">
  <a href="../../../../../docs/interactive/js/scaling-up.html" class="" data-resolve-title="true">Scaling Up</a>
</li>
          <ul class="list-unstyled sidebar-section depth3">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 " data-bs-toggle="collapse" data-bs-target="#examples-collapse" aria-expanded="true">
              <div class="me-auto  sidebar-item">Examples</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  show" id="examples-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../../../../../docs/interactive/js/examples/dotdensity-map.html" class="" data-resolve-title="true">Dot Density Map</a>
</li>
          <li class="sidebar-item">
  <a href="../../../../../docs/interactive/js/examples/passeports-colors.html" class="" data-resolve-title="true">Passports &amp; Colors</a>
</li>
          <li class="sidebar-item">
  <a href="../../../../../docs/interactive/js/examples/france-vaccination.html" class="">France Vaccination</a>
</li>
          <li class="sidebar-item">
  <a href="../../../../../docs/interactive/js/examples/mens-tennis/mens-tennis.html" class="active" data-resolve-title="true">Men's Tennis</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
        </ul>
      </div>
    </li>
  </ul>
          <ul class="list-unstyled sidebar-section depth2">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-item">
            <div class="sidebar-section-link me-auto ">
            <a href="../../../../../docs/interactive/shiny/index.html" class="">Shiny</a>
            </div>
            <a class="text-start collapsed " data-bs-toggle="collapse" data-bs-target="#shiny-collapse" aria-expanded="false">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  " id="shiny-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../../../../../docs/interactive/shiny/index.html" class="">Introduction</a>
</li>
          <li class="sidebar-item">
  <a href="../../../../../docs/interactive/shiny/running.html" class="" data-resolve-title="true">Running Documents</a>
</li>
          <li class="sidebar-item">
  <a href="../../../../../docs/interactive/shiny/execution.html" class="" data-resolve-title="true">Execution Contexts</a>
</li>
          <li class="sidebar-item">
  <a href="../../../../../docs/interactive/shiny/resources.html" class="" data-resolve-title="true">External Resources</a>
</li>
          <li class="sidebar-item">
  <a href="../../../../../docs/interactive/shiny/ojs.html" class="" data-resolve-title="true">JavaScript &amp; Shiny</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
          <li class="sidebar-item">
  <a href="../../../../../docs/interactive/layout.html" class="" data-resolve-title="true">Component Layout</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
  </ul>
  </div>
</nav>
  </div>
  <div class="col mx-auto col-sm-12 col-md-11 col-lg-9 px-lg-4">
<main>
<header id="title-block-header">
<div class="quarto-title-block d-none d-lg-block"><div><h1 class="title d-none d-lg-block">Men’s Tennis</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
<p class="subtitle lead">How Has Men’s Tennis Changed From 1973–2021? Originally published at <a href="https://observablehq.com/@unkleho/how-has-mens-tennis-changed-from-1973-2021" class="uri">https://observablehq.com/@unkleho/how-has-mens-tennis-changed-from-1973-2021</a></p>
<p class="author">Kaho Cheung</p>
<p class="date">2021-07-18</p>
</header>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<section id="height-and-weight" class="level4 cell quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<h4 class="anchored" data-anchor-id="height-and-weight">Height and Weight</h4>
<div class="cell-output-display">
<div id="ojs-cell-1">

</div>
</div>
</section>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<section id="average-height" class="level4 cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<h4 class="anchored" data-anchor-id="average-height">Average Height</h4>
<div class="cell-output-display">
<div id="ojs-cell-2">

</div>
</div>
</section>
<section id="average-weight" class="level4 cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<h4 class="anchored" data-anchor-id="average-weight">Average Weight</h4>
<div class="cell-output-display">
<div id="ojs-cell-3">

</div>
</div>
</section>
</div>
</div>
<section id="libraries" class="level2">
<h2 class="anchored" data-anchor-id="libraries">Libraries</h2>
<section id="observable-plot" class="level3">
<h3 class="anchored" data-anchor-id="observable-plot">Observable Plot</h3>
<p><a href="https://github.com/observablehq/plot" class="uri">https://github.com/observablehq/plot</a></p>
<p>Most of the charts are created with Observable’s new Plot library. This is my first attempt and I definitely found it easy to work with.</p>
</section>
<section id="d3-render" class="level3">
<h3 class="anchored" data-anchor-id="d3-render">D3 Render</h3>
<p><a href="https://github.com/unkleho/d3-render" class="uri">https://github.com/unkleho/d3-render</a></p>
<p>The <strong>Backhand Comparison</strong> and <strong>Lefty vs Righty</strong> charts both use `d3-render`, an experimental declarative d3 library I have been working on.</p>
<p><a href="https://observablehq.com/@unkleho/introducing-d3-render-truly-declarative-and-reusable-d3" class="uri">https://observablehq.com/@unkleho/introducing-d3-render-truly-declarative-and-reusable-d3</a></p>
</section>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<section id="mens-top-100-year-end-rankings-1973-2021" class="level3">
<h3 class="anchored" data-anchor-id="mens-top-100-year-end-rankings-1973-2021">Mens Top 100 Year End rankings, 1973-2021</h3>
<p>Data from <a href="https://www.atptour.com/en/rankings" class="uri">https://www.atptour.com/en/rankings</a></p>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-4">

</div>
</div>
</div>
</section>
<section id="all-men-in-top-100-1973-2021" class="level3">
<h3 class="anchored" data-anchor-id="all-men-in-top-100-1973-2021">All Men in Top 100, 1973-2021</h3>
<p>Data from <a href="https://www.atptour.com/en/players" class="uri">https://www.atptour.com/en/players</a></p>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-5">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="sourceCode js cell-code code-with-copy"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>playersData <span class="op">=</span> [<span class="op">...</span>rawPlayersData]<span class="op">.</span><span class="fu">map</span>(([key<span class="op">,</span> value]) <span class="kw">=&gt;</span> value)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="ojs-cell-6">

</div>
</div>
</div>
</section>
<section id="merged-rankings-and-player-data" class="level3">
<h3 class="anchored" data-anchor-id="merged-rankings-and-player-data">Merged Rankings and Player Data</h3>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-7">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-8">

</div>
</div>
</div>
</section>
</section>
<section id="helpers" class="level2">
<h2 class="anchored" data-anchor-id="helpers">Helpers</h2>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-9">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-10">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-11">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-12">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-13">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-14">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-15">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-16">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-17">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-18">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-19">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-20">

</div>
</div>
</div>
</section>
<section id="imports" class="level2">
<h2 class="anchored" data-anchor-id="imports">Imports</h2>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-21">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-22">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-23">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-24">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-25">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-26">

</div>
</div>
</div>
<!-- -->
<div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title anchored" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb2" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Men's Tennis"</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> "How Has Men’s Tennis Changed From 1973–2021? Originally published at &lt;https://observablehq.com/@unkleho/how-has-mens-tennis-changed-from-1973-2021&gt;"</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Kaho Cheung"</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> 2021-07-18</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: false</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co">  echo: false</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>::: {layout="[ <span class="co">[</span><span class="ot">1</span><span class="co">]</span>, <span class="co">[</span><span class="ot">1,1</span><span class="co">]</span> ]"}</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Height and Weight</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="in">{</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="in">  // There is some wild data that needs to be cleaned up!</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="in">  const data = playersData.filter(</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="in">    p =&gt;</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a><span class="in">      p.height &amp;&amp;</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="in">      p.height &lt; 300 &amp;&amp;</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="in">      p.height &gt; 100 &amp;&amp;</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a><span class="in">      p.weight &gt; 0 &amp;&amp;</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a><span class="in">      p.weight &lt; 150</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a><span class="in">  );</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a><span class="in">  return Plot.plot({</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a><span class="in">    grid: true,</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a><span class="in">    width,</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a><span class="in">    color: {</span></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a><span class="in">      range: [radixColours.blue.blue4, radixColours.blue.blue11].map(c =&gt;</span></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a><span class="in">        c.replace(/ /g, ',')</span></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a><span class="in">      )</span></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a><span class="in">    x: {</span></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a><span class="in">      label: 'Weight (kg)'</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a><span class="in">    y: {</span></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a><span class="in">      label: 'Height (cm)'</span></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a><span class="in">    marks: [</span></span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a><span class="in">      Plot.rect(</span></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a><span class="in">        data,</span></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a><span class="in">        Plot.bin({ fill: "count" }, { x: "weight", y: "height", inset: 0 })</span></span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a><span class="in">      )</span></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a><span class="in">    ]</span></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a><span class="in">  });</span></span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Average Height</span></span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a><span class="in">{</span></span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a><span class="in">  // Try replacing the two players below with your favourite player!</span></span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a><span class="in">  const labels = isDesktop</span></span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a><span class="in">    ? [getPlayer('John McEnroe'), getPlayer('Roger Federer')]</span></span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a><span class="in">    : [getPlayer('Andy Murray'), getPlayer('Ivan Lendl')];</span></span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a><span class="in">  const data = getData();</span></span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a><span class="in">  return Plot.plot({</span></span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a><span class="in">    width,</span></span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a><span class="in">    y: {</span></span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a><span class="in">      grid: true,</span></span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a><span class="in">      label: 'Average Height (cm)',</span></span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a><span class="in">      nice: true</span></span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a><span class="in">    marks: [</span></span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a><span class="in">      Plot.line(data, {</span></span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a><span class="in">        x: "date",</span></span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a><span class="in">        y: "averageHeight",</span></span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a><span class="in">        curve: "natural",</span></span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a><span class="in">        stroke: colours[0]</span></span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a><span class="in">      }),</span></span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a><span class="in">      Plot.area(data, {</span></span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a><span class="in">        x1: "date",</span></span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a><span class="in">        y1: Math.floor(d3.min(data, d =&gt; d.averageHeight)),</span></span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a><span class="in">        y2: "averageHeight",</span></span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a><span class="in">        curve: "natural",</span></span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a><span class="in">        fill: colours[0],</span></span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a><span class="in">        fillOpacity: 0.2</span></span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a><span class="in">      }),</span></span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a><span class="in">      Plot.link(labels, {</span></span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true" tabindex="-1"></a><span class="in">        x1: "dateStart",</span></span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a><span class="in">        y1: "height",</span></span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a><span class="in">        x2: "dateEnd",</span></span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a><span class="in">        y2: "height"</span></span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true" tabindex="-1"></a><span class="in">      }),</span></span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true" tabindex="-1"></a><span class="in">      Plot.dot(labels, {</span></span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true" tabindex="-1"></a><span class="in">        x: "dateStart",</span></span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true" tabindex="-1"></a><span class="in">        y: "height",</span></span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true" tabindex="-1"></a><span class="in">        fill: 'black'</span></span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true" tabindex="-1"></a><span class="in">      }),</span></span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true" tabindex="-1"></a><span class="in">      Plot.dot(labels, {</span></span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true" tabindex="-1"></a><span class="in">        x: "dateEnd",</span></span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true" tabindex="-1"></a><span class="in">        y: "height",</span></span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true" tabindex="-1"></a><span class="in">        fill: 'black'</span></span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true" tabindex="-1"></a><span class="in">      }),</span></span>
<span id="cb2-109"><a href="#cb2-109" aria-hidden="true" tabindex="-1"></a><span class="in">      Plot.text(labels, {</span></span>
<span id="cb2-110"><a href="#cb2-110" aria-hidden="true" tabindex="-1"></a><span class="in">        x: "dateEnd",</span></span>
<span id="cb2-111"><a href="#cb2-111" aria-hidden="true" tabindex="-1"></a><span class="in">        y: "height",</span></span>
<span id="cb2-112"><a href="#cb2-112" aria-hidden="true" tabindex="-1"></a><span class="in">        text: d =&gt; d.name + ' (' + d.height + 'cm)',</span></span>
<span id="cb2-113"><a href="#cb2-113" aria-hidden="true" tabindex="-1"></a><span class="in">        textAnchor: "end",</span></span>
<span id="cb2-114"><a href="#cb2-114" aria-hidden="true" tabindex="-1"></a><span class="in">        fontSize: 14,</span></span>
<span id="cb2-115"><a href="#cb2-115" aria-hidden="true" tabindex="-1"></a><span class="in">        dx: -5,</span></span>
<span id="cb2-116"><a href="#cb2-116" aria-hidden="true" tabindex="-1"></a><span class="in">        dy: 15</span></span>
<span id="cb2-117"><a href="#cb2-117" aria-hidden="true" tabindex="-1"></a><span class="in">      }),</span></span>
<span id="cb2-118"><a href="#cb2-118" aria-hidden="true" tabindex="-1"></a><span class="in">      Plot.ruleY([</span></span>
<span id="cb2-119"><a href="#cb2-119" aria-hidden="true" tabindex="-1"></a><span class="in">        Math.floor(d3.min(data, d =&gt; d.averageHeight)),</span></span>
<span id="cb2-120"><a href="#cb2-120" aria-hidden="true" tabindex="-1"></a><span class="in">        isDesktop ? Math.ceil(d3.max(data, d =&gt; d.averageHeight)) : 192</span></span>
<span id="cb2-121"><a href="#cb2-121" aria-hidden="true" tabindex="-1"></a><span class="in">      ])</span></span>
<span id="cb2-122"><a href="#cb2-122" aria-hidden="true" tabindex="-1"></a><span class="in">    ]</span></span>
<span id="cb2-123"><a href="#cb2-123" aria-hidden="true" tabindex="-1"></a><span class="in">  });</span></span>
<span id="cb2-124"><a href="#cb2-124" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb2-125"><a href="#cb2-125" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-126"><a href="#cb2-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-127"><a href="#cb2-127" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Average Weight</span></span>
<span id="cb2-128"><a href="#cb2-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-131"><a href="#cb2-131" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-132"><a href="#cb2-132" aria-hidden="true" tabindex="-1"></a><span class="in">{</span></span>
<span id="cb2-133"><a href="#cb2-133" aria-hidden="true" tabindex="-1"></a><span class="in">  const data = getData();</span></span>
<span id="cb2-134"><a href="#cb2-134" aria-hidden="true" tabindex="-1"></a><span class="in">  const labels = [getPlayer('Michael Chang'), getPlayer('Novak Djokovic')];</span></span>
<span id="cb2-135"><a href="#cb2-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-136"><a href="#cb2-136" aria-hidden="true" tabindex="-1"></a><span class="in">  return Plot.plot({</span></span>
<span id="cb2-137"><a href="#cb2-137" aria-hidden="true" tabindex="-1"></a><span class="in">    width,</span></span>
<span id="cb2-138"><a href="#cb2-138" aria-hidden="true" tabindex="-1"></a><span class="in">    y: {</span></span>
<span id="cb2-139"><a href="#cb2-139" aria-hidden="true" tabindex="-1"></a><span class="in">      grid: true,</span></span>
<span id="cb2-140"><a href="#cb2-140" aria-hidden="true" tabindex="-1"></a><span class="in">      label: 'Average Weight (kg)'</span></span>
<span id="cb2-141"><a href="#cb2-141" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb2-142"><a href="#cb2-142" aria-hidden="true" tabindex="-1"></a><span class="in">    marks: [</span></span>
<span id="cb2-143"><a href="#cb2-143" aria-hidden="true" tabindex="-1"></a><span class="in">      Plot.line(getData(), {</span></span>
<span id="cb2-144"><a href="#cb2-144" aria-hidden="true" tabindex="-1"></a><span class="in">        x: "date",</span></span>
<span id="cb2-145"><a href="#cb2-145" aria-hidden="true" tabindex="-1"></a><span class="in">        y: "averageWeight",</span></span>
<span id="cb2-146"><a href="#cb2-146" aria-hidden="true" tabindex="-1"></a><span class="in">        curve: "natural",</span></span>
<span id="cb2-147"><a href="#cb2-147" aria-hidden="true" tabindex="-1"></a><span class="in">        stroke: colours[0]</span></span>
<span id="cb2-148"><a href="#cb2-148" aria-hidden="true" tabindex="-1"></a><span class="in">      }),</span></span>
<span id="cb2-149"><a href="#cb2-149" aria-hidden="true" tabindex="-1"></a><span class="in">      Plot.area(getData(), {</span></span>
<span id="cb2-150"><a href="#cb2-150" aria-hidden="true" tabindex="-1"></a><span class="in">        x1: "date",</span></span>
<span id="cb2-151"><a href="#cb2-151" aria-hidden="true" tabindex="-1"></a><span class="in">        y1: Math.floor(d3.min(data, d =&gt; d.averageWeight)),</span></span>
<span id="cb2-152"><a href="#cb2-152" aria-hidden="true" tabindex="-1"></a><span class="in">        y2: "averageWeight",</span></span>
<span id="cb2-153"><a href="#cb2-153" aria-hidden="true" tabindex="-1"></a><span class="in">        curve: "natural",</span></span>
<span id="cb2-154"><a href="#cb2-154" aria-hidden="true" tabindex="-1"></a><span class="in">        fill: colours[0],</span></span>
<span id="cb2-155"><a href="#cb2-155" aria-hidden="true" tabindex="-1"></a><span class="in">        fillOpacity: 0.2</span></span>
<span id="cb2-156"><a href="#cb2-156" aria-hidden="true" tabindex="-1"></a><span class="in">      }),</span></span>
<span id="cb2-157"><a href="#cb2-157" aria-hidden="true" tabindex="-1"></a><span class="in">      Plot.link(labels, {</span></span>
<span id="cb2-158"><a href="#cb2-158" aria-hidden="true" tabindex="-1"></a><span class="in">        x1: "dateStart",</span></span>
<span id="cb2-159"><a href="#cb2-159" aria-hidden="true" tabindex="-1"></a><span class="in">        y1: "weight",</span></span>
<span id="cb2-160"><a href="#cb2-160" aria-hidden="true" tabindex="-1"></a><span class="in">        x2: "dateEnd",</span></span>
<span id="cb2-161"><a href="#cb2-161" aria-hidden="true" tabindex="-1"></a><span class="in">        y2: "weight"</span></span>
<span id="cb2-162"><a href="#cb2-162" aria-hidden="true" tabindex="-1"></a><span class="in">      }),</span></span>
<span id="cb2-163"><a href="#cb2-163" aria-hidden="true" tabindex="-1"></a><span class="in">      Plot.dot(labels, {</span></span>
<span id="cb2-164"><a href="#cb2-164" aria-hidden="true" tabindex="-1"></a><span class="in">        x: "dateStart",</span></span>
<span id="cb2-165"><a href="#cb2-165" aria-hidden="true" tabindex="-1"></a><span class="in">        y: "weight",</span></span>
<span id="cb2-166"><a href="#cb2-166" aria-hidden="true" tabindex="-1"></a><span class="in">        fill: 'black'</span></span>
<span id="cb2-167"><a href="#cb2-167" aria-hidden="true" tabindex="-1"></a><span class="in">      }),</span></span>
<span id="cb2-168"><a href="#cb2-168" aria-hidden="true" tabindex="-1"></a><span class="in">      Plot.dot(labels, {</span></span>
<span id="cb2-169"><a href="#cb2-169" aria-hidden="true" tabindex="-1"></a><span class="in">        x: "dateEnd",</span></span>
<span id="cb2-170"><a href="#cb2-170" aria-hidden="true" tabindex="-1"></a><span class="in">        y: "weight",</span></span>
<span id="cb2-171"><a href="#cb2-171" aria-hidden="true" tabindex="-1"></a><span class="in">        fill: 'black'</span></span>
<span id="cb2-172"><a href="#cb2-172" aria-hidden="true" tabindex="-1"></a><span class="in">      }),</span></span>
<span id="cb2-173"><a href="#cb2-173" aria-hidden="true" tabindex="-1"></a><span class="in">      Plot.text(labels, {</span></span>
<span id="cb2-174"><a href="#cb2-174" aria-hidden="true" tabindex="-1"></a><span class="in">        x: "dateEnd",</span></span>
<span id="cb2-175"><a href="#cb2-175" aria-hidden="true" tabindex="-1"></a><span class="in">        y: "weight",</span></span>
<span id="cb2-176"><a href="#cb2-176" aria-hidden="true" tabindex="-1"></a><span class="in">        text: d =&gt; d.name + ' (' + d.weight + 'kg)',</span></span>
<span id="cb2-177"><a href="#cb2-177" aria-hidden="true" tabindex="-1"></a><span class="in">        textAnchor: "end",</span></span>
<span id="cb2-178"><a href="#cb2-178" aria-hidden="true" tabindex="-1"></a><span class="in">        fontSize: 14,</span></span>
<span id="cb2-179"><a href="#cb2-179" aria-hidden="true" tabindex="-1"></a><span class="in">        dx: -5,</span></span>
<span id="cb2-180"><a href="#cb2-180" aria-hidden="true" tabindex="-1"></a><span class="in">        dy: 15</span></span>
<span id="cb2-181"><a href="#cb2-181" aria-hidden="true" tabindex="-1"></a><span class="in">      }),</span></span>
<span id="cb2-182"><a href="#cb2-182" aria-hidden="true" tabindex="-1"></a><span class="in">      Plot.ruleY([</span></span>
<span id="cb2-183"><a href="#cb2-183" aria-hidden="true" tabindex="-1"></a><span class="in">        Math.floor(d3.min(data, d =&gt; d.averageWeight)),</span></span>
<span id="cb2-184"><a href="#cb2-184" aria-hidden="true" tabindex="-1"></a><span class="in">        Math.ceil(d3.max(data, d =&gt; d.averageWeight))</span></span>
<span id="cb2-185"><a href="#cb2-185" aria-hidden="true" tabindex="-1"></a><span class="in">      ])</span></span>
<span id="cb2-186"><a href="#cb2-186" aria-hidden="true" tabindex="-1"></a><span class="in">    ]</span></span>
<span id="cb2-187"><a href="#cb2-187" aria-hidden="true" tabindex="-1"></a><span class="in">  });</span></span>
<span id="cb2-188"><a href="#cb2-188" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb2-189"><a href="#cb2-189" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-190"><a href="#cb2-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-191"><a href="#cb2-191" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb2-192"><a href="#cb2-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-193"><a href="#cb2-193" aria-hidden="true" tabindex="-1"></a><span class="fu">## Libraries</span></span>
<span id="cb2-194"><a href="#cb2-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-195"><a href="#cb2-195" aria-hidden="true" tabindex="-1"></a><span class="fu">### Observable Plot</span></span>
<span id="cb2-196"><a href="#cb2-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-197"><a href="#cb2-197" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://github.com/observablehq/plot&gt;</span></span>
<span id="cb2-198"><a href="#cb2-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-199"><a href="#cb2-199" aria-hidden="true" tabindex="-1"></a>Most of the charts are created with Observable's new Plot library. This is my first attempt and I definitely found it easy to work with.</span>
<span id="cb2-200"><a href="#cb2-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-201"><a href="#cb2-201" aria-hidden="true" tabindex="-1"></a><span class="fu">### D3 Render</span></span>
<span id="cb2-202"><a href="#cb2-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-203"><a href="#cb2-203" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://github.com/unkleho/d3-render&gt;</span></span>
<span id="cb2-204"><a href="#cb2-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-205"><a href="#cb2-205" aria-hidden="true" tabindex="-1"></a>The __Backhand Comparison__ and __Lefty vs Righty__ charts both use <span class="sc">\`</span>d3-render<span class="sc">\`</span>, an experimental declarative d3 library I have been working on.</span>
<span id="cb2-206"><a href="#cb2-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-207"><a href="#cb2-207" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://observablehq.com/@unkleho/introducing-d3-render-truly-declarative-and-reusable-d3&gt;</span></span>
<span id="cb2-208"><a href="#cb2-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-209"><a href="#cb2-209" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data</span></span>
<span id="cb2-210"><a href="#cb2-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-211"><a href="#cb2-211" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mens Top 100 Year End rankings, 1973-2021</span></span>
<span id="cb2-212"><a href="#cb2-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-213"><a href="#cb2-213" aria-hidden="true" tabindex="-1"></a>Data from <span class="ot">&lt;https://www.atptour.com/en/rankings&gt;</span></span>
<span id="cb2-214"><a href="#cb2-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-217"><a href="#cb2-217" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-218"><a href="#cb2-218" aria-hidden="true" tabindex="-1"></a><span class="in">rawRankingsData = d3</span></span>
<span id="cb2-219"><a href="#cb2-219" aria-hidden="true" tabindex="-1"></a><span class="in">  .csvParse(await FileAttachment("rankings.csv").text(), d3.autoType)</span></span>
<span id="cb2-220"><a href="#cb2-220" aria-hidden="true" tabindex="-1"></a><span class="in">  .map(d =&gt; {</span></span>
<span id="cb2-221"><a href="#cb2-221" aria-hidden="true" tabindex="-1"></a><span class="in">    return {</span></span>
<span id="cb2-222"><a href="#cb2-222" aria-hidden="true" tabindex="-1"></a><span class="in">      ...d,</span></span>
<span id="cb2-223"><a href="#cb2-223" aria-hidden="true" tabindex="-1"></a><span class="in">      year: d.date.getFullYear()</span></span>
<span id="cb2-224"><a href="#cb2-224" aria-hidden="true" tabindex="-1"></a><span class="in">    };</span></span>
<span id="cb2-225"><a href="#cb2-225" aria-hidden="true" tabindex="-1"></a><span class="in">  })</span></span>
<span id="cb2-226"><a href="#cb2-226" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-227"><a href="#cb2-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-228"><a href="#cb2-228" aria-hidden="true" tabindex="-1"></a><span class="fu">### All Men in Top 100, 1973-2021</span></span>
<span id="cb2-229"><a href="#cb2-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-230"><a href="#cb2-230" aria-hidden="true" tabindex="-1"></a>Data from <span class="ot">&lt;https://www.atptour.com/en/players&gt;</span></span>
<span id="cb2-231"><a href="#cb2-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-234"><a href="#cb2-234" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-235"><a href="#cb2-235" aria-hidden="true" tabindex="-1"></a><span class="in">rawPlayersData = new Map(</span></span>
<span id="cb2-236"><a href="#cb2-236" aria-hidden="true" tabindex="-1"></a><span class="in">  d3</span></span>
<span id="cb2-237"><a href="#cb2-237" aria-hidden="true" tabindex="-1"></a><span class="in">    .csvParse(await FileAttachment("players.csv").text(), d3.autoType)</span></span>
<span id="cb2-238"><a href="#cb2-238" aria-hidden="true" tabindex="-1"></a><span class="in">    .map(d =&gt; [d.id, d])</span></span>
<span id="cb2-239"><a href="#cb2-239" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb2-240"><a href="#cb2-240" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-241"><a href="#cb2-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-244"><a href="#cb2-244" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-245"><a href="#cb2-245" aria-hidden="true" tabindex="-1"></a><span class="in">//| echo: true</span></span>
<span id="cb2-246"><a href="#cb2-246" aria-hidden="true" tabindex="-1"></a><span class="in">playersData = [...rawPlayersData].map(([key, value]) =&gt; value)</span></span>
<span id="cb2-247"><a href="#cb2-247" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-248"><a href="#cb2-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-249"><a href="#cb2-249" aria-hidden="true" tabindex="-1"></a><span class="fu">### Merged Rankings and Player Data</span></span>
<span id="cb2-250"><a href="#cb2-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-253"><a href="#cb2-253" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-254"><a href="#cb2-254" aria-hidden="true" tabindex="-1"></a><span class="in">rawPlayerRankingsData = rawRankingsData.map(d =&gt; {</span></span>
<span id="cb2-255"><a href="#cb2-255" aria-hidden="true" tabindex="-1"></a><span class="in">  const playerId = d.playerUrl</span></span>
<span id="cb2-256"><a href="#cb2-256" aria-hidden="true" tabindex="-1"></a><span class="in">    .replace('https://www.atptour.com/en/players/', '')</span></span>
<span id="cb2-257"><a href="#cb2-257" aria-hidden="true" tabindex="-1"></a><span class="in">    .replace('/overview', '');</span></span>
<span id="cb2-258"><a href="#cb2-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-259"><a href="#cb2-259" aria-hidden="true" tabindex="-1"></a><span class="in">  return {</span></span>
<span id="cb2-260"><a href="#cb2-260" aria-hidden="true" tabindex="-1"></a><span class="in">    ...d,</span></span>
<span id="cb2-261"><a href="#cb2-261" aria-hidden="true" tabindex="-1"></a><span class="in">    ...rawPlayersData.get(playerId),</span></span>
<span id="cb2-262"><a href="#cb2-262" aria-hidden="true" tabindex="-1"></a><span class="in">    count: 1</span></span>
<span id="cb2-263"><a href="#cb2-263" aria-hidden="true" tabindex="-1"></a><span class="in">  };</span></span>
<span id="cb2-264"><a href="#cb2-264" aria-hidden="true" tabindex="-1"></a><span class="in">})</span></span>
<span id="cb2-265"><a href="#cb2-265" aria-hidden="true" tabindex="-1"></a><span class="in">// .filter(d =&gt; d.ranking &lt;= ranking)</span></span>
<span id="cb2-266"><a href="#cb2-266" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-267"><a href="#cb2-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-270"><a href="#cb2-270" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-271"><a href="#cb2-271" aria-hidden="true" tabindex="-1"></a><span class="in">rawCountryData = d3Array.groups(</span></span>
<span id="cb2-272"><a href="#cb2-272" aria-hidden="true" tabindex="-1"></a><span class="in">  rawPlayerRankingsData,</span></span>
<span id="cb2-273"><a href="#cb2-273" aria-hidden="true" tabindex="-1"></a><span class="in">  d =&gt; d.year,</span></span>
<span id="cb2-274"><a href="#cb2-274" aria-hidden="true" tabindex="-1"></a><span class="in">  d =&gt; d.country</span></span>
<span id="cb2-275"><a href="#cb2-275" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb2-276"><a href="#cb2-276" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-277"><a href="#cb2-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-278"><a href="#cb2-278" aria-hidden="true" tabindex="-1"></a><span class="fu">## Helpers</span></span>
<span id="cb2-279"><a href="#cb2-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-282"><a href="#cb2-282" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-283"><a href="#cb2-283" aria-hidden="true" tabindex="-1"></a><span class="in">getData = (ranking = 100) =&gt; {</span></span>
<span id="cb2-284"><a href="#cb2-284" aria-hidden="true" tabindex="-1"></a><span class="in">  const data = d3Array.rollup(</span></span>
<span id="cb2-285"><a href="#cb2-285" aria-hidden="true" tabindex="-1"></a><span class="in">    rawPlayerRankingsData.filter(d =&gt; d.ranking &lt;= ranking),</span></span>
<span id="cb2-286"><a href="#cb2-286" aria-hidden="true" tabindex="-1"></a><span class="in">    v =&gt; {</span></span>
<span id="cb2-287"><a href="#cb2-287" aria-hidden="true" tabindex="-1"></a><span class="in">      const oneHandedBackhand = v.filter(d =&gt; d.backhand === 'one-handed')</span></span>
<span id="cb2-288"><a href="#cb2-288" aria-hidden="true" tabindex="-1"></a><span class="in">        .length;</span></span>
<span id="cb2-289"><a href="#cb2-289" aria-hidden="true" tabindex="-1"></a><span class="in">      const twoHandedBackhand = v.filter(d =&gt; d.backhand === 'two-handed')</span></span>
<span id="cb2-290"><a href="#cb2-290" aria-hidden="true" tabindex="-1"></a><span class="in">        .length;</span></span>
<span id="cb2-291"><a href="#cb2-291" aria-hidden="true" tabindex="-1"></a><span class="in">      const totalBackhand = oneHandedBackhand + twoHandedBackhand;</span></span>
<span id="cb2-292"><a href="#cb2-292" aria-hidden="true" tabindex="-1"></a><span class="in">      const oneHandedBackhandPercent = oneHandedBackhand / totalBackhand;</span></span>
<span id="cb2-293"><a href="#cb2-293" aria-hidden="true" tabindex="-1"></a><span class="in">      const twoHandedBackhandPercent = twoHandedBackhand / totalBackhand;</span></span>
<span id="cb2-294"><a href="#cb2-294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-295"><a href="#cb2-295" aria-hidden="true" tabindex="-1"></a><span class="in">      const rightHanded = v.filter(d =&gt; d.hand === 'right').length;</span></span>
<span id="cb2-296"><a href="#cb2-296" aria-hidden="true" tabindex="-1"></a><span class="in">      const leftHanded = v.filter(d =&gt; d.hand === 'left').length;</span></span>
<span id="cb2-297"><a href="#cb2-297" aria-hidden="true" tabindex="-1"></a><span class="in">      const totalHanded = rightHanded + leftHanded;</span></span>
<span id="cb2-298"><a href="#cb2-298" aria-hidden="true" tabindex="-1"></a><span class="in">      const rightHandedPercent = rightHanded / totalHanded;</span></span>
<span id="cb2-299"><a href="#cb2-299" aria-hidden="true" tabindex="-1"></a><span class="in">      const leftHandedPercent = leftHanded / totalHanded;</span></span>
<span id="cb2-300"><a href="#cb2-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-301"><a href="#cb2-301" aria-hidden="true" tabindex="-1"></a><span class="in">      return {</span></span>
<span id="cb2-302"><a href="#cb2-302" aria-hidden="true" tabindex="-1"></a><span class="in">        averageAge: d3.mean(v, v =&gt; v.age),</span></span>
<span id="cb2-303"><a href="#cb2-303" aria-hidden="true" tabindex="-1"></a><span class="in">        averageHeight: d3.mean(v, v =&gt; v.height),</span></span>
<span id="cb2-304"><a href="#cb2-304" aria-hidden="true" tabindex="-1"></a><span class="in">        averageWeight: d3.mean(v, v =&gt; v.weight),</span></span>
<span id="cb2-305"><a href="#cb2-305" aria-hidden="true" tabindex="-1"></a><span class="in">        oneHandedBackhand,</span></span>
<span id="cb2-306"><a href="#cb2-306" aria-hidden="true" tabindex="-1"></a><span class="in">        twoHandedBackhand,</span></span>
<span id="cb2-307"><a href="#cb2-307" aria-hidden="true" tabindex="-1"></a><span class="in">        oneHandedBackhandPercent,</span></span>
<span id="cb2-308"><a href="#cb2-308" aria-hidden="true" tabindex="-1"></a><span class="in">        twoHandedBackhandPercent,</span></span>
<span id="cb2-309"><a href="#cb2-309" aria-hidden="true" tabindex="-1"></a><span class="in">        rightHanded,</span></span>
<span id="cb2-310"><a href="#cb2-310" aria-hidden="true" tabindex="-1"></a><span class="in">        leftHanded,</span></span>
<span id="cb2-311"><a href="#cb2-311" aria-hidden="true" tabindex="-1"></a><span class="in">        rightHandedPercent,</span></span>
<span id="cb2-312"><a href="#cb2-312" aria-hidden="true" tabindex="-1"></a><span class="in">        leftHandedPercent</span></span>
<span id="cb2-313"><a href="#cb2-313" aria-hidden="true" tabindex="-1"></a><span class="in">      };</span></span>
<span id="cb2-314"><a href="#cb2-314" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb2-315"><a href="#cb2-315" aria-hidden="true" tabindex="-1"></a><span class="in">    d =&gt; d.year</span></span>
<span id="cb2-316"><a href="#cb2-316" aria-hidden="true" tabindex="-1"></a><span class="in">  );</span></span>
<span id="cb2-317"><a href="#cb2-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-318"><a href="#cb2-318" aria-hidden="true" tabindex="-1"></a><span class="in">  return Array.from(data).map(([year, d]) =&gt; ({</span></span>
<span id="cb2-319"><a href="#cb2-319" aria-hidden="true" tabindex="-1"></a><span class="in">    year,</span></span>
<span id="cb2-320"><a href="#cb2-320" aria-hidden="true" tabindex="-1"></a><span class="in">    date: new Date(year, 0, 1),</span></span>
<span id="cb2-321"><a href="#cb2-321" aria-hidden="true" tabindex="-1"></a><span class="in">    ...d</span></span>
<span id="cb2-322"><a href="#cb2-322" aria-hidden="true" tabindex="-1"></a><span class="in">  }));</span></span>
<span id="cb2-323"><a href="#cb2-323" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb2-324"><a href="#cb2-324" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-325"><a href="#cb2-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-328"><a href="#cb2-328" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-329"><a href="#cb2-329" aria-hidden="true" tabindex="-1"></a><span class="in">getPlayer = name =&gt; {</span></span>
<span id="cb2-330"><a href="#cb2-330" aria-hidden="true" tabindex="-1"></a><span class="in">  // const name = 'Roger Federer';</span></span>
<span id="cb2-331"><a href="#cb2-331" aria-hidden="true" tabindex="-1"></a><span class="in">  const rankingsData = rawRankingsData.filter(d =&gt; d.name === name);</span></span>
<span id="cb2-332"><a href="#cb2-332" aria-hidden="true" tabindex="-1"></a><span class="in">  const playerData = [...rawPlayersData]</span></span>
<span id="cb2-333"><a href="#cb2-333" aria-hidden="true" tabindex="-1"></a><span class="in">    .map(([key, value]) =&gt; value)</span></span>
<span id="cb2-334"><a href="#cb2-334" aria-hidden="true" tabindex="-1"></a><span class="in">    .find(value =&gt; value.name === name);</span></span>
<span id="cb2-335"><a href="#cb2-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-336"><a href="#cb2-336" aria-hidden="true" tabindex="-1"></a><span class="in">  return {</span></span>
<span id="cb2-337"><a href="#cb2-337" aria-hidden="true" tabindex="-1"></a><span class="in">    dateStart: new Date(d3.min(rankingsData, d =&gt; d.year), 0, 1),</span></span>
<span id="cb2-338"><a href="#cb2-338" aria-hidden="true" tabindex="-1"></a><span class="in">    dateEnd: new Date(d3.max(rankingsData, d =&gt; d.year), 0, 1),</span></span>
<span id="cb2-339"><a href="#cb2-339" aria-hidden="true" tabindex="-1"></a><span class="in">    ...playerData</span></span>
<span id="cb2-340"><a href="#cb2-340" aria-hidden="true" tabindex="-1"></a><span class="in">  };</span></span>
<span id="cb2-341"><a href="#cb2-341" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb2-342"><a href="#cb2-342" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-343"><a href="#cb2-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-346"><a href="#cb2-346" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-347"><a href="#cb2-347" aria-hidden="true" tabindex="-1"></a><span class="in">area = d3</span></span>
<span id="cb2-348"><a href="#cb2-348" aria-hidden="true" tabindex="-1"></a><span class="in">  .area()</span></span>
<span id="cb2-349"><a href="#cb2-349" aria-hidden="true" tabindex="-1"></a><span class="in">  .curve(d3.curveBasis)</span></span>
<span id="cb2-350"><a href="#cb2-350" aria-hidden="true" tabindex="-1"></a><span class="in">  .x(d =&gt; x(d.data.year))</span></span>
<span id="cb2-351"><a href="#cb2-351" aria-hidden="true" tabindex="-1"></a><span class="in">  .y0(d =&gt; y(d[0]))</span></span>
<span id="cb2-352"><a href="#cb2-352" aria-hidden="true" tabindex="-1"></a><span class="in">  .y1(d =&gt; y(d[1]))</span></span>
<span id="cb2-353"><a href="#cb2-353" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-354"><a href="#cb2-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-357"><a href="#cb2-357" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-358"><a href="#cb2-358" aria-hidden="true" tabindex="-1"></a><span class="in">x = d3</span></span>
<span id="cb2-359"><a href="#cb2-359" aria-hidden="true" tabindex="-1"></a><span class="in">  .scaleTime()</span></span>
<span id="cb2-360"><a href="#cb2-360" aria-hidden="true" tabindex="-1"></a><span class="in">  .domain(</span></span>
<span id="cb2-361"><a href="#cb2-361" aria-hidden="true" tabindex="-1"></a><span class="in">    d3.extent(backhandData, d =&gt; {</span></span>
<span id="cb2-362"><a href="#cb2-362" aria-hidden="true" tabindex="-1"></a><span class="in">      return d.year;</span></span>
<span id="cb2-363"><a href="#cb2-363" aria-hidden="true" tabindex="-1"></a><span class="in">    })</span></span>
<span id="cb2-364"><a href="#cb2-364" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb2-365"><a href="#cb2-365" aria-hidden="true" tabindex="-1"></a><span class="in">  .range([margin.left, width - margin.right])</span></span>
<span id="cb2-366"><a href="#cb2-366" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-367"><a href="#cb2-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-370"><a href="#cb2-370" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-371"><a href="#cb2-371" aria-hidden="true" tabindex="-1"></a><span class="in">y = d3.scaleLinear().range([height - margin.bottom, margin.top])</span></span>
<span id="cb2-372"><a href="#cb2-372" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-373"><a href="#cb2-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-376"><a href="#cb2-376" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-377"><a href="#cb2-377" aria-hidden="true" tabindex="-1"></a><span class="in">color = d3</span></span>
<span id="cb2-378"><a href="#cb2-378" aria-hidden="true" tabindex="-1"></a><span class="in">  .scaleOrdinal()</span></span>
<span id="cb2-379"><a href="#cb2-379" aria-hidden="true" tabindex="-1"></a><span class="in">  .domain(['oneHandedBackhandPercent', 'twoHandedBackhandPercent'])</span></span>
<span id="cb2-380"><a href="#cb2-380" aria-hidden="true" tabindex="-1"></a><span class="in">  .range([radixColours.blue.blue11, radixColours.cyan.cyan8])</span></span>
<span id="cb2-381"><a href="#cb2-381" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-382"><a href="#cb2-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-385"><a href="#cb2-385" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-386"><a href="#cb2-386" aria-hidden="true" tabindex="-1"></a><span class="in">xAxis = g =&gt;</span></span>
<span id="cb2-387"><a href="#cb2-387" aria-hidden="true" tabindex="-1"></a><span class="in">  g.attr("transform", `translate(0,${height - margin.bottom})`).call(</span></span>
<span id="cb2-388"><a href="#cb2-388" aria-hidden="true" tabindex="-1"></a><span class="in">    d3</span></span>
<span id="cb2-389"><a href="#cb2-389" aria-hidden="true" tabindex="-1"></a><span class="in">      .axisBottom(x)</span></span>
<span id="cb2-390"><a href="#cb2-390" aria-hidden="true" tabindex="-1"></a><span class="in">      .ticks(width / 80)</span></span>
<span id="cb2-391"><a href="#cb2-391" aria-hidden="true" tabindex="-1"></a><span class="in">      .tickSizeOuter(0)</span></span>
<span id="cb2-392"><a href="#cb2-392" aria-hidden="true" tabindex="-1"></a><span class="in">      .tickFormat(d3.format("d"))</span></span>
<span id="cb2-393"><a href="#cb2-393" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb2-394"><a href="#cb2-394" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-395"><a href="#cb2-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-398"><a href="#cb2-398" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-399"><a href="#cb2-399" aria-hidden="true" tabindex="-1"></a><span class="in">yAxis = g =&gt;</span></span>
<span id="cb2-400"><a href="#cb2-400" aria-hidden="true" tabindex="-1"></a><span class="in">  g</span></span>
<span id="cb2-401"><a href="#cb2-401" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("transform", `translate(${margin.left},0)`)</span></span>
<span id="cb2-402"><a href="#cb2-402" aria-hidden="true" tabindex="-1"></a><span class="in">    .call(d3.axisLeft(y).ticks(10, "%"))</span></span>
<span id="cb2-403"><a href="#cb2-403" aria-hidden="true" tabindex="-1"></a><span class="in">    .call(g =&gt; g.select(".domain").remove())</span></span>
<span id="cb2-404"><a href="#cb2-404" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-405"><a href="#cb2-405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-408"><a href="#cb2-408" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-409"><a href="#cb2-409" aria-hidden="true" tabindex="-1"></a><span class="in">height = width &gt; 600 ? 500 : 350</span></span>
<span id="cb2-410"><a href="#cb2-410" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-411"><a href="#cb2-411" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-414"><a href="#cb2-414" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-415"><a href="#cb2-415" aria-hidden="true" tabindex="-1"></a><span class="in">margin = ({ top: 4, right: 8, bottom: 20, left: 36 })</span></span>
<span id="cb2-416"><a href="#cb2-416" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-417"><a href="#cb2-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-420"><a href="#cb2-420" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-421"><a href="#cb2-421" aria-hidden="true" tabindex="-1"></a><span class="in">isDesktop = width &gt; 600</span></span>
<span id="cb2-422"><a href="#cb2-422" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-423"><a href="#cb2-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-426"><a href="#cb2-426" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-427"><a href="#cb2-427" aria-hidden="true" tabindex="-1"></a><span class="in">colours = [</span></span>
<span id="cb2-428"><a href="#cb2-428" aria-hidden="true" tabindex="-1"></a><span class="in">  radixColours.blue.blue11,</span></span>
<span id="cb2-429"><a href="#cb2-429" aria-hidden="true" tabindex="-1"></a><span class="in">  radixColours.orange.orange9,</span></span>
<span id="cb2-430"><a href="#cb2-430" aria-hidden="true" tabindex="-1"></a><span class="in">  radixColours.red.red9,</span></span>
<span id="cb2-431"><a href="#cb2-431" aria-hidden="true" tabindex="-1"></a><span class="in">  radixColours.cyan.cyan8,</span></span>
<span id="cb2-432"><a href="#cb2-432" aria-hidden="true" tabindex="-1"></a><span class="in">  radixColours.grass.grass9,</span></span>
<span id="cb2-433"><a href="#cb2-433" aria-hidden="true" tabindex="-1"></a><span class="in">  radixColours.yellow.yellow8</span></span>
<span id="cb2-434"><a href="#cb2-434" aria-hidden="true" tabindex="-1"></a><span class="in">].map(c =&gt; c.replace(/ /g, ','))</span></span>
<span id="cb2-435"><a href="#cb2-435" aria-hidden="true" tabindex="-1"></a><span class="in">// Need to use comma because d3.color doesn't accept space for hsl</span></span>
<span id="cb2-436"><a href="#cb2-436" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-437"><a href="#cb2-437" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-438"><a href="#cb2-438" aria-hidden="true" tabindex="-1"></a><span class="fu">## Imports</span></span>
<span id="cb2-439"><a href="#cb2-439" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-442"><a href="#cb2-442" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-443"><a href="#cb2-443" aria-hidden="true" tabindex="-1"></a><span class="in">import { radio } from '@jashkenas/inputs'</span></span>
<span id="cb2-444"><a href="#cb2-444" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-445"><a href="#cb2-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-448"><a href="#cb2-448" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-449"><a href="#cb2-449" aria-hidden="true" tabindex="-1"></a><span class="in">d3 = require("d3@5")</span></span>
<span id="cb2-450"><a href="#cb2-450" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-451"><a href="#cb2-451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-454"><a href="#cb2-454" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-455"><a href="#cb2-455" aria-hidden="true" tabindex="-1"></a><span class="in">d3Array = require("d3-array")</span></span>
<span id="cb2-456"><a href="#cb2-456" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-457"><a href="#cb2-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-460"><a href="#cb2-460" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-461"><a href="#cb2-461" aria-hidden="true" tabindex="-1"></a><span class="in">render = d3Render.default</span></span>
<span id="cb2-462"><a href="#cb2-462" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-463"><a href="#cb2-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-466"><a href="#cb2-466" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-467"><a href="#cb2-467" aria-hidden="true" tabindex="-1"></a><span class="in">d3Render = require('d3-render')</span></span>
<span id="cb2-468"><a href="#cb2-468" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-469"><a href="#cb2-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-472"><a href="#cb2-472" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb2-473"><a href="#cb2-473" aria-hidden="true" tabindex="-1"></a><span class="in">radixColours = import('https://unpkg.com/@radix-ui/colors@0.1.7/index.mjs?module')</span></span>
<span id="cb2-474"><a href="#cb2-474" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
<!-- -->
</section>
</main>
<div class="page-navigation page-navigation-docked">
  <div class="nav-page nav-page-previous">
      <a href="../../../../../docs/interactive/js/examples/france-vaccination.html">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">France Vaccination</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../../../../docs/interactive/shiny/index.html">
        <span class="nav-page-text">Shiny</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</div>
</div> <!-- /main column -->
</div> <!-- /row -->
</div> <!-- /container fluid -->
<script type="text/javascript">

// replace cmd keyboard shortcut w/ control on non-Mac platforms
const kPlatformMac = typeof navigator !== 'undefined' ? /Mac/.test(navigator.platform) : false;
if (!kPlatformMac) {
   var kbds = document.querySelectorAll("kbd")
   kbds.forEach(function(kbd) {
      kbd.innerHTML = kbd.innerHTML.replace(/⌘/g, '⌃');
   });
}

</script>
<script type="ojs-module-contents">
{"contents":[{"methodName":"interpret","cellName":"ojs-cell-1","inline":false,"source":"{\n  // There is some wild data that needs to be cleaned up!\n  const data = playersData.filter(\n    p =>\n      p.height &&\n      p.height < 300 &&\n      p.height > 100 &&\n      p.weight > 0 &&\n      p.weight < 150\n  );\n\n  return Plot.plot({\n    grid: true,\n    width,\n    color: {\n      range: [radixColours.blue.blue4, radixColours.blue.blue11].map(c =>\n        c.replace(/ /g, ',')\n      )\n    },\n    x: {\n      label: 'Weight (kg)'\n    },\n    y: {\n      label: 'Height (cm)'\n    },\n    marks: [\n      Plot.rect(\n        data,\n        Plot.bin({ fill: \"count\" }, { x: \"weight\", y: \"height\", inset: 0 })\n      )\n    ]\n  });\n}"},{"methodName":"interpret","cellName":"ojs-cell-2","inline":false,"source":"{\n  // Try replacing the two players below with your favourite player!\n  const labels = isDesktop\n    ? [getPlayer('John McEnroe'), getPlayer('Roger Federer')]\n    : [getPlayer('Andy Murray'), getPlayer('Ivan Lendl')];\n  const data = getData();\n\n  return Plot.plot({\n    width,\n    y: {\n      grid: true,\n      label: 'Average Height (cm)',\n      nice: true\n    },\n    marks: [\n      Plot.line(data, {\n        x: \"date\",\n        y: \"averageHeight\",\n        curve: \"natural\",\n        stroke: colours[0]\n      }),\n      Plot.area(data, {\n        x1: \"date\",\n        y1: Math.floor(d3.min(data, d => d.averageHeight)),\n        y2: \"averageHeight\",\n        curve: \"natural\",\n        fill: colours[0],\n        fillOpacity: 0.2\n      }),\n      Plot.link(labels, {\n        x1: \"dateStart\",\n        y1: \"height\",\n        x2: \"dateEnd\",\n        y2: \"height\"\n      }),\n      Plot.dot(labels, {\n        x: \"dateStart\",\n        y: \"height\",\n        fill: 'black'\n      }),\n      Plot.dot(labels, {\n        x: \"dateEnd\",\n        y: \"height\",\n        fill: 'black'\n      }),\n      Plot.text(labels, {\n        x: \"dateEnd\",\n        y: \"height\",\n        text: d => d.name + ' (' + d.height + 'cm)',\n        textAnchor: \"end\",\n        fontSize: 14,\n        dx: -5,\n        dy: 15\n      }),\n      Plot.ruleY([\n        Math.floor(d3.min(data, d => d.averageHeight)),\n        isDesktop ? Math.ceil(d3.max(data, d => d.averageHeight)) : 192\n      ])\n    ]\n  });\n}"},{"methodName":"interpret","cellName":"ojs-cell-3","inline":false,"source":"{\n  const data = getData();\n  const labels = [getPlayer('Michael Chang'), getPlayer('Novak Djokovic')];\n\n  return Plot.plot({\n    width,\n    y: {\n      grid: true,\n      label: 'Average Weight (kg)'\n    },\n    marks: [\n      Plot.line(getData(), {\n        x: \"date\",\n        y: \"averageWeight\",\n        curve: \"natural\",\n        stroke: colours[0]\n      }),\n      Plot.area(getData(), {\n        x1: \"date\",\n        y1: Math.floor(d3.min(data, d => d.averageWeight)),\n        y2: \"averageWeight\",\n        curve: \"natural\",\n        fill: colours[0],\n        fillOpacity: 0.2\n      }),\n      Plot.link(labels, {\n        x1: \"dateStart\",\n        y1: \"weight\",\n        x2: \"dateEnd\",\n        y2: \"weight\"\n      }),\n      Plot.dot(labels, {\n        x: \"dateStart\",\n        y: \"weight\",\n        fill: 'black'\n      }),\n      Plot.dot(labels, {\n        x: \"dateEnd\",\n        y: \"weight\",\n        fill: 'black'\n      }),\n      Plot.text(labels, {\n        x: \"dateEnd\",\n        y: \"weight\",\n        text: d => d.name + ' (' + d.weight + 'kg)',\n        textAnchor: \"end\",\n        fontSize: 14,\n        dx: -5,\n        dy: 15\n      }),\n      Plot.ruleY([\n        Math.floor(d3.min(data, d => d.averageWeight)),\n        Math.ceil(d3.max(data, d => d.averageWeight))\n      ])\n    ]\n  });\n}"},{"methodName":"interpret","cellName":"ojs-cell-4","inline":false,"source":"rawRankingsData = d3\n  .csvParse(await FileAttachment(\"rankings.csv\").text(), d3.autoType)\n  .map(d => {\n    return {\n      ...d,\n      year: d.date.getFullYear()\n    };\n  })"},{"methodName":"interpret","cellName":"ojs-cell-5","inline":false,"source":"rawPlayersData = new Map(\n  d3\n    .csvParse(await FileAttachment(\"players.csv\").text(), d3.autoType)\n    .map(d => [d.id, d])\n)"},{"methodName":"interpret","cellName":"ojs-cell-6","inline":false,"source":"playersData = [...rawPlayersData].map(([key, value]) => value)"},{"methodName":"interpret","cellName":"ojs-cell-7","inline":false,"source":"rawPlayerRankingsData = rawRankingsData.map(d => {\n  const playerId = d.playerUrl\n    .replace('https://www.atptour.com/en/players/', '')\n    .replace('/overview', '');\n\n  return {\n    ...d,\n    ...rawPlayersData.get(playerId),\n    count: 1\n  };\n})\n// .filter(d => d.ranking <= ranking)"},{"methodName":"interpret","cellName":"ojs-cell-8","inline":false,"source":"rawCountryData = d3Array.groups(\n  rawPlayerRankingsData,\n  d => d.year,\n  d => d.country\n)"},{"methodName":"interpret","cellName":"ojs-cell-9","inline":false,"source":"getData = (ranking = 100) => {\n  const data = d3Array.rollup(\n    rawPlayerRankingsData.filter(d => d.ranking <= ranking),\n    v => {\n      const oneHandedBackhand = v.filter(d => d.backhand === 'one-handed')\n        .length;\n      const twoHandedBackhand = v.filter(d => d.backhand === 'two-handed')\n        .length;\n      const totalBackhand = oneHandedBackhand + twoHandedBackhand;\n      const oneHandedBackhandPercent = oneHandedBackhand / totalBackhand;\n      const twoHandedBackhandPercent = twoHandedBackhand / totalBackhand;\n\n      const rightHanded = v.filter(d => d.hand === 'right').length;\n      const leftHanded = v.filter(d => d.hand === 'left').length;\n      const totalHanded = rightHanded + leftHanded;\n      const rightHandedPercent = rightHanded / totalHanded;\n      const leftHandedPercent = leftHanded / totalHanded;\n\n      return {\n        averageAge: d3.mean(v, v => v.age),\n        averageHeight: d3.mean(v, v => v.height),\n        averageWeight: d3.mean(v, v => v.weight),\n        oneHandedBackhand,\n        twoHandedBackhand,\n        oneHandedBackhandPercent,\n        twoHandedBackhandPercent,\n        rightHanded,\n        leftHanded,\n        rightHandedPercent,\n        leftHandedPercent\n      };\n    },\n    d => d.year\n  );\n\n  return Array.from(data).map(([year, d]) => ({\n    year,\n    date: new Date(year, 0, 1),\n    ...d\n  }));\n}"},{"methodName":"interpret","cellName":"ojs-cell-10","inline":false,"source":"getPlayer = name => {\n  // const name = 'Roger Federer';\n  const rankingsData = rawRankingsData.filter(d => d.name === name);\n  const playerData = [...rawPlayersData]\n    .map(([key, value]) => value)\n    .find(value => value.name === name);\n\n  return {\n    dateStart: new Date(d3.min(rankingsData, d => d.year), 0, 1),\n    dateEnd: new Date(d3.max(rankingsData, d => d.year), 0, 1),\n    ...playerData\n  };\n}"},{"methodName":"interpret","cellName":"ojs-cell-11","inline":false,"source":"area = d3\n  .area()\n  .curve(d3.curveBasis)\n  .x(d => x(d.data.year))\n  .y0(d => y(d[0]))\n  .y1(d => y(d[1]))"},{"methodName":"interpret","cellName":"ojs-cell-12","inline":false,"source":"x = d3\n  .scaleTime()\n  .domain(\n    d3.extent(backhandData, d => {\n      return d.year;\n    })\n  )\n  .range([margin.left, width - margin.right])"},{"methodName":"interpret","cellName":"ojs-cell-13","inline":false,"source":"y = d3.scaleLinear().range([height - margin.bottom, margin.top])"},{"methodName":"interpret","cellName":"ojs-cell-14","inline":false,"source":"color = d3\n  .scaleOrdinal()\n  .domain(['oneHandedBackhandPercent', 'twoHandedBackhandPercent'])\n  .range([radixColours.blue.blue11, radixColours.cyan.cyan8])"},{"methodName":"interpret","cellName":"ojs-cell-15","inline":false,"source":"xAxis = g =>\n  g.attr(\"transform\", `translate(0,${height - margin.bottom})`).call(\n    d3\n      .axisBottom(x)\n      .ticks(width / 80)\n      .tickSizeOuter(0)\n      .tickFormat(d3.format(\"d\"))\n  )"},{"methodName":"interpret","cellName":"ojs-cell-16","inline":false,"source":"yAxis = g =>\n  g\n    .attr(\"transform\", `translate(${margin.left},0)`)\n    .call(d3.axisLeft(y).ticks(10, \"%\"))\n    .call(g => g.select(\".domain\").remove())"},{"methodName":"interpret","cellName":"ojs-cell-17","inline":false,"source":"height = width > 600 ? 500 : 350"},{"methodName":"interpret","cellName":"ojs-cell-18","inline":false,"source":"margin = ({ top: 4, right: 8, bottom: 20, left: 36 })"},{"methodName":"interpret","cellName":"ojs-cell-19","inline":false,"source":"isDesktop = width > 600"},{"methodName":"interpret","cellName":"ojs-cell-20","inline":false,"source":"colours = [\n  radixColours.blue.blue11,\n  radixColours.orange.orange9,\n  radixColours.red.red9,\n  radixColours.cyan.cyan8,\n  radixColours.grass.grass9,\n  radixColours.yellow.yellow8\n].map(c => c.replace(/ /g, ','))\n// Need to use comma because d3.color doesn't accept space for hsl"},{"methodName":"interpret","cellName":"ojs-cell-21","inline":false,"source":"import { radio } from '@jashkenas/inputs'"},{"methodName":"interpret","cellName":"ojs-cell-22","inline":false,"source":"d3 = require(\"d3@5\")"},{"methodName":"interpret","cellName":"ojs-cell-23","inline":false,"source":"d3Array = require(\"d3-array\")"},{"methodName":"interpret","cellName":"ojs-cell-24","inline":false,"source":"render = d3Render.default"},{"methodName":"interpret","cellName":"ojs-cell-25","inline":false,"source":"d3Render = require('d3-render')"},{"methodName":"interpret","cellName":"ojs-cell-26","inline":false,"source":"radixColours = import('https://unpkg.com/@radix-ui/colors@0.1.7/index.mjs?module')"}]}
</script>
<script type="module">
window._ojs.paths.runtimeToDoc = "../../docs/interactive/js/examples/mens-tennis";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "../../../../..";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>


</body></html>