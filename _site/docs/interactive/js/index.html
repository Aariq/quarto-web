<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head>
  <meta charset="utf-8">
  <meta name="generator" content="quarto-(Local Development)">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>Quarto – JavaScript</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>

  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
  <script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
  <meta name="quarto:offset" content="../../../">
  <script src="../../../site_libs/quarto-search/autocomplete.min.js"></script>
  <script src="../../../site_libs/quarto-search/fuse.min.js"></script>
  <script src="../../../site_libs/quarto-search/quarto-search.js"></script>
  <link href="../../../docs/interactive/js/" rel="next">
  <link href="../../../docs/interactive/index.html" rel="prev">
  <script src="../../../site_libs/quarto-html/quarto.js"></script>
  <script src="../../../site_libs/quarto-html/popper.min.js"></script>
  <script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
  <script src="../../../site_libs/quarto-html/clipboard.min.js"></script>
  <script src="../../../site_libs/quarto-html/anchor.min.js"></script>
  <script src="../../../site_libs/quarto-html/quarto-html.js"></script>
  <link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
  <link class="quarto-color-scheme" href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
  <link class="quarto-color-scheme quarto-color-alternate" rel="prefetch" href="../../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css">
  <script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
  <link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
  <link class="quarto-color-scheme" href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
  <link class="quarto-color-scheme quarto-color-alternate" rel="prefetch" href="../../../site_libs/bootstrap/bootstrap-dark.min.css">
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-FV9Z7SDZ0M"></script>

  <script type="text/javascript">

  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-FV9Z7SDZ0M', { 'anonymize_ip': true});
  </script>
  <script type="module" src="../../../site_libs/quarto-ojs/ojs-bundle.js"></script>
  <link href="../../../site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
  <link rel="stylesheet" href="../../../styles.css">
<meta name="og:title" content="Quarto - JavaScript">
<meta name="og:image" content="https://quarto.org/quarto.png">
<meta name="og:site-name" content="Quarto">
<meta name="og:image:height" content="152">
<meta name="og:image:width" content="624">
<meta name="twitter:title" content="Quarto - JavaScript">
<meta name="twitter:image" content="https://quarto.org/quarto.png">
<meta name="twitter:image-height" content="152">
<meta name="twitter:image-width" content="624">
<meta name="twitter:card" content="summary_large_image">
</head>
<body>
<div id="quarto-search-results"></div>
<header id="quarto-header" class="headroom fixed-top">
<nav class="navbar navbar-expand-lg navbar-light bg-light ">
    <div class="container-fluid">
  <a class="navbar-brand" href="../../../index.html">
    <img src="../../../quarto.png" alt="">
  </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html">Get Started</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../../../docs/authoring/markdown-basics.html" aria-current="page">Using</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../docs/output-formats/html-basics.html">Formats</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../docs/projects/quarto-projects.html">Projects</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html">About</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/quarto-dev/quarto-cli"><i class="bi-github" role="img">
</i> 
 </a>
  </li>  
</ul>
          <div>
            <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;"><i class="bi"></i></a>
          </div>
          <form class="d-flex mb-0">
  <input id="quarto-search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>
      </div> <!-- /navcollapse -->
  </div> <!-- /container-fluid -->
</nav>
<nav class="quarto-secondary-nav py-2 d-lg-none d-md-block " data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <div class="container-fluid d-flex justify-content-between">
    <h1 class="quarto-secondary-nav-title mb-0 fs-3 d-inline">JavaScript</h1>
    <button type="button" class="quarto-btn-toggle btn d-lg-none py-0 px-1 d-inline-block border-0 ">
      <i class="bi bi-chevron-right"></i>
    </button>
  </div>
</nav>
</header>
 <!-- /navbar/sidebar -->
<div class="container-fluid quarto-container d-flex flex-column page-layout-article">
<div class="row flex-fill" id="quarto-content">
  <div id="quarto-sidebar" class="col col-12 col-lg-3 d-lg-flex px-0 pt-0 sidebar collapse sidebar-navigation">
    <nav class="me-lg-auto py-2 docked  overflow-scroll">
  <div class="sidebar-menu-container"> 
  <ul class="list-unstyled mt-3 px-3">
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 " data-bs-toggle="collapse" data-bs-target="#authoring-collapse" aria-expanded="true">
              <div class="me-auto  sidebar-section-item">Authoring</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  show" id="authoring-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../../../docs/authoring/markdown-basics.html" class="">Markdown Basics</a>
</li>
          <li class="sidebar-item">
  <a href="../../../docs/authoring/footnotes-and-citations.html" class="">Citations &amp; Footnotes</a>
</li>
          <li class="sidebar-item">
  <a href="../../../docs/authoring/figures-and-layout.html" class="">Figures &amp; Layout</a>
</li>
          <li class="sidebar-item">
  <a href="../../../docs/authoring/cross-references.html" class="">Cross References</a>
</li>
          <li class="sidebar-item">
  <a href="../../../docs/authoring/callouts.html" class="">Callout Blocks</a>
</li>
          <li class="sidebar-item">
  <a href="../../../docs/authoring/shortcodes-and-filters.html" class="">Shortcodes &amp; Filters</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 " data-bs-toggle="collapse" data-bs-target="#computations-collapse" aria-expanded="true">
              <div class="me-auto  sidebar-section-item">Computations</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  show" id="computations-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../../../docs/computations/running-code.html" class="">Running Code</a>
</li>
          <li class="sidebar-item">
  <a href="../../../docs/computations/execution-options.html" class="">Execution Options</a>
</li>
          <li class="sidebar-item">
  <a href="../../../docs/computations/parameters.html" class="">Parameters</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
      <ul class="list-unstyled sidebar-section depth1">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 " data-bs-toggle="collapse" data-bs-target="#interactivedocs-collapse" aria-expanded="true">
              <div class="me-auto  sidebar-section-item">Interactive Docs</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  show" id="interactivedocs-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../../../docs/interactive/index.html" class="">Overview</a>
</li>
          <ul class="list-unstyled sidebar-section depth2">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-item">
            <div class="sidebar-section-link me-auto ">
            <a href="../../../docs/interactive/js/index.html" class="active">JavaScript</a>
            </div>
            <a class="text-start  " data-bs-toggle="collapse" data-bs-target="#javascript-collapse" aria-expanded="true">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  show" id="javascript-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../../../docs/interactive/js/" class="active">Introduction</a>
</li>
          <li class="sidebar-item">
  <a href="../../../docs/interactive/js/libraries.html" class="">Libraries</a>
</li>
          <li class="sidebar-item">
  <a href="../../../docs/interactive/js/data-sources.html" class="">Data Sources</a>
</li>
          <li class="sidebar-item">
  <a href="../../../docs/interactive/js/ojs-cells.html" class="">OJS Cells</a>
</li>
          <li class="sidebar-item">
  <a href="../../../docs/interactive/js/reactivity.html" class="">Reactivity</a>
</li>
          <li class="sidebar-item">
  <a href="../../../docs/interactive/js/code-reuse.html" class="">Code Reuse</a>
</li>
          <ul class="list-unstyled sidebar-section depth3">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 collapsed" data-bs-toggle="collapse" data-bs-target="#examples-collapse" aria-expanded="false">
              <div class="me-auto  sidebar-item">Examples</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  " id="examples-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../../../docs/interactive/js/examples/penguins.html" class="">Penguins</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
        </ul>
      </div>
    </li>
  </ul>
          <ul class="list-unstyled sidebar-section depth2">
    <li class="">
        <div class="me-auto ">
          <div class="d-inline-flex w-100 sidebar-item">
            <div class="sidebar-section-link me-auto ">
            <a href="../../../docs/interactive/shiny/index.html" class="">Shiny</a>
            </div>
            <a class="text-start collapsed " data-bs-toggle="collapse" data-bs-target="#shiny-collapse" aria-expanded="false">
              <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
            </div>
        </div>
      <div class="collapse  " id="shiny-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../../../docs/interactive/shiny/index.html" class="">Introduction</a>
</li>
          <li class="sidebar-item">
  <a href="../../../docs/interactive/shiny/running.html" class="">Running Documents</a>
</li>
          <li class="sidebar-item">
  <a href="../../../docs/interactive/shiny/execution.html" class="">Execution Contexts</a>
</li>
          <li class="sidebar-item">
  <a href="../../../docs/interactive/shiny/resources.html" class="">External Resources</a>
</li>
          <li class="sidebar-item">
  <a href="../../../docs/interactive/shiny/ojs.html" class="">JavaScript &amp; Shiny</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
          <ul class="list-unstyled sidebar-section depth2">
    <li class="">
        <div class="me-auto ">
            <a class="sidebar-section-item d-inline-flex text-start w-100 collapsed" data-bs-toggle="collapse" data-bs-target="#widgets-collapse" aria-expanded="false">
              <div class="me-auto  sidebar-item">Widgets</div>
            <div><i class="bi bi-chevron-right ms-2 "></i></div>
            </a>
        </div>
      <div class="collapse  " id="widgets-collapse">
        <ul class="list-unstyled sidebar-item-contents">
          <li class="sidebar-item">
  <a href="../../../docs/interactive/widgets/jupyter.html" class="">Jupyter Widgets</a>
</li>
          <li class="sidebar-item">
  <a href="../../../docs/interactive/widgets/htmlwidgets.html" class="">htmlwidgets for R</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
          <li class="sidebar-item">
  <a href="../../../docs/interactive/layout.html" class="">Layout</a>
</li>
        </ul>
      </div>
    </li>
  </ul>
  </ul>
  </div>
</nav>
  </div>
  <div id="quarto-toc-sidebar" class="col col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-toc order-last"><nav id="TOC" role="doc-toc">
<h2 id="toc-title">On this page</h2>
<ul>
<li><a href="#overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
<li><a href="#example" class="nav-link" data-scroll-target="#example">Example</a></li>
<li><a href="#libraries" class="nav-link" data-scroll-target="#libraries">Libraries</a></li>
<li><a href="#data-sources" class="nav-link" data-scroll-target="#data-sources">Data Sources</a></li>
<li><a href="#ojs-cells" class="nav-link" data-scroll-target="#ojs-cells">OJS Cells</a></li>
<li><a href="#learning-more" class="nav-link" data-scroll-target="#learning-more">Learning More</a></li>
</ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/quarto-dev/quarto-web/edit/main/docs/interactive/js/index.qmd">Edit this page</a></p><p><a href="https://github.com/quarto-dev/quarto-web/issues/new">Report an issue</a></p></div></div></nav></div>
  <div class="col mx-auto col-sm-12 col-md-9 col-lg-7 col-xl-7 px-lg-4 pe-xxl-4 ps-xxl-0">
<main>
<header id="title-block-header">
<h1 class="title d-none d-lg-block display-7">JavaScript</h1>
</header>

<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>Quarto includes native support for <a href="https://observablehq.com/@observablehq/observables-not-javascript">Observable JavaScript</a>, a set of enhancements to vanilla JavaScript created by <a href="https://en.wikipedia.org/wiki/Mike_Bostock">Mike Bostock</a> (also the author of <a href="https://d3js.org/">D3</a>). Observable is distinguished by its <a href="https://github.com/observablehq/runtime">reactive runtime</a>, which is especially well suited for interactive data exploration and analysis.</p>
<p>The creators of Observable run a hosted service at <a href="https://observablehq.com/" class="uri">https://observablehq.com/</a> where you can create and publish notebooks. Additionally, you can use Observable in standalone documents and websites via the <a href="https://github.com/observablehq">open-source libraries</a> at its core.</p>
<p>Quarto uses these core libraries to enable the use of Observable JavaScript (“OJS”) within Quarto documents. You do this by creating <code>{ojs}</code> executable code blocks (much like you create <code>{python}</code> and <code>{r}</code> code blocks in order to execute Python or R code). The rest of this article explains the basics of using OJS with Quarto.</p>
</section>
<section id="example" class="level2">
<h2 class="anchored" data-anchor-id="example">Example</h2>
<p>We’ll start with a simple example based on Allison Horst’s <a href="https://allisonhorst.github.io/palmerpenguins/">Palmer Penguins</a> dataset. Here we look at how penguin body mass varies across both sex and species (use the provided inputs to filter the dataset by bill length and island):</p>
<div class="cell" data-output="auto">
<div class="cell-output-display">
<div id="ojs-cell-1">

</div>
</div>
</div>
<div class="cell" data-output="auto">
<div class="cell-output-display">
<div id="ojs-cell-2">

</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div id="ojs-cell-3-1">

</div>
</div>
</div>
<div class="cell-output-display">
<div>
<div id="ojs-cell-3-2">

</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="ojs-cell-4">

</div>
</div>
</div>
<p>Let’s take a look at the source code for this example. First we create an <code>{ojs}</code> cell that reads in some data from a CSV file using a <a href="https://observablehq.com/@observablehq/file-attachments">FileAttachment</a>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>```<span class="op">{</span>ojs<span class="op">}</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> <span class="fu">FileAttachment</span><span class="op">(</span><span class="st">"palmer-penguins.csv"</span><span class="op">).</span><span class="fu">csv</span><span class="op">()</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>```</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The example above doesn’t plot all of the data but rather a filtered subset. To create our filter we’ll need some inputs, and we’ll want to be able to use the values of these inputs in our filtering function. To do this, we use the <code>viewof</code> keyword and with some standard <a href="https://observablehq.com/@observablehq/inputs">Inputs</a>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>```<span class="op">{</span>ojs<span class="op">}</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>viewof bill_length_min <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span><span class="op">(</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">[</span><span class="dv">32</span><span class="op">,</span> <span class="dv">50</span><span class="op">],</span> </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">{</span>value<span class="op">:</span> <span class="dv">35</span><span class="op">,</span> step<span class="op">:</span> <span class="dv">1</span><span class="op">,</span> label<span class="op">:</span> <span class="st">"Bill length (min):"</span><span class="op">}</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>viewof islands <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">checkbox</span><span class="op">(</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="op">[</span><span class="st">"Torgersen"</span><span class="op">,</span> <span class="st">"Biscoe"</span><span class="op">,</span> <span class="st">"Dream"</span><span class="op">],</span> </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="op">{</span> value<span class="op">:</span> <span class="op">[</span><span class="st">"Torgersen"</span><span class="op">,</span> <span class="st">"Biscoe"</span><span class="op">],</span> </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    label<span class="op">:</span> <span class="st">"Islands:"</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>```</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now we write the filtering function that will transform the <code>data</code> read from the CSV using the values of <code>bill_length_min</code> and <code>island</code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="op">{</span>ojs<span class="op">}</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>filtered <span class="op">=</span> data<span class="op">.</span><span class="fu">filter</span><span class="op">(</span><span class="fu">function</span><span class="op">(</span>penguin<span class="op">)</span> <span class="op">{</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> bill_length_min <span class="op">&lt;</span> penguin<span class="op">.</span><span class="fu">bill_length</span> <span class="op">&amp;&amp;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>         islands<span class="op">.</span><span class="fu">includes</span><span class="op">(</span>penguin<span class="op">.</span><span class="fu">island</span><span class="op">);</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="op">})</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here we see reactivity in action: we don’t need any special syntax to refer to the dynamic input values, they “just work”, and the filtering code is automatically re-run when the inputs change.</p>
<p>Finally, we’ll plot the filtered data using <a href="https://observablehq.com/@observablehq/plot">Observable Plot</a> (an open-source JavaScript library for quick visualization of tabular data):</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="op">{</span>ojs<span class="op">}</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">rectY</span><span class="op">(</span>filtered<span class="op">,</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  Plot<span class="op">.</span><span class="fu">binX</span><span class="op">(</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span>y<span class="op">:</span> <span class="st">"count"</span><span class="op">},</span> </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span>x<span class="op">:</span> <span class="st">"body_mass"</span><span class="op">,</span> fill<span class="op">:</span> <span class="st">"species"</span><span class="op">,</span> thresholds<span class="op">:</span> <span class="dv">20</span><span class="op">}</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">))</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">plot</span><span class="op">({</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    facet<span class="op">:</span> <span class="op">{</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>      data<span class="op">:</span> filtered<span class="op">,</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>      x<span class="op">:</span> <span class="st">"sex"</span><span class="op">,</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>      y<span class="op">:</span> <span class="st">"species"</span><span class="op">,</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>      marginRight<span class="op">:</span> <span class="dv">80</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    marks<span class="op">:</span> <span class="op">[</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">frame</span><span class="op">(),</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">]</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that as with our inputs, we refer to the <code>filtered</code> variable with no special syntax—the plotting code will be automatically re-run whenever <code>filtered</code> changes (which in turn is updated whenever an input changes).</p>
<p>That’s a basic end-to-end example of a simple interactive plot. Below we cover a few more basics then provide links to additional articles that go into more depth.</p>
</section>
<section id="libraries" class="level2">
<h2 class="anchored" data-anchor-id="libraries">Libraries</h2>
<p>Our example above made use of several standard libraries, including:</p>
<ol type="1">
<li><p><a href="https://github.com/observablehq/stdlib">Observable stdlib</a> — Core primitives for DOM manipulation, file handling, importing code, and much more.</p></li>
<li><p><a href="https://github.com/observablehq/inputs">Observable Inputs</a> — Standard inputs controls including sliders, drop-downs, tables, check-boxes, etc.</p></li>
<li><p><a href="https://github.com/observablehq/plot">Observable Plot</a> — High level plotting library for exploratory data visualization.</p></li>
</ol>
<p>The libraries are somewhat special because they are automatically available within notebooks on <a href="https://observablehq.com" class="uri">https://observablehq.com</a> as well as within <code>{ojs}</code> cells in Quarto documents.</p>
<p>Using other JavaScript libraries is also straightforward, they just need to be explicitly imported. For example, here we import a few libraries commonly used in JavaScript data visualization:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>```<span class="op">{</span>ojs<span class="op">}</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>d3 <span class="op">=</span> <span class="fu">require</span><span class="op">(</span><span class="st">"d3@6"</span><span class="op">)</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>arquero <span class="op">=</span> <span class="fu">require</span><span class="op">(</span><span class="st">"arquero"</span><span class="op">)</span> </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>vegalite <span class="op">=</span> <span class="fu">require</span><span class="op">(</span><span class="st">"vega-lite"</span><span class="op">)</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>topojson <span class="op">=</span> <span class="fu">require</span><span class="op">(</span><span class="er">'</span>topojson<span class="er">'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="data-sources" class="level2">
<h2 class="anchored" data-anchor-id="data-sources">Data Sources</h2>
</section>
<section id="ojs-cells" class="level2">
<h2 class="anchored" data-anchor-id="ojs-cells">OJS Cells</h2>
</section>
<section id="learning-more" class="level2">
<h2 class="anchored" data-anchor-id="learning-more">Learning More</h2>

<!-- -->
</section>
</main>
<div class="page-navigation page-navigation-docked">
  <div class="nav-page nav-page-previous">
      <a href="../../../docs/interactive/index.html">Overview</a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../../docs/interactive/js/">Introduction</a>
  </div>
</div>
</div> <!-- /main column -->
</div> <!-- /row -->
</div> <!-- /container fluid -->
<script type="text/javascript">

// replace cmd keyboard shortcut w/ control on non-Mac platforms
const kPlatformMac = typeof navigator !== 'undefined' ? /Mac/.test(navigator.platform) : false;
if (!kPlatformMac) {
   var kbds = document.querySelectorAll("kbd")
   kbds.forEach(function(kbd) {
      kbd.innerHTML = kbd.innerHTML.replace(/⌘/g, '⌃');
   });
}

</script>
<script type="ojs-module-contents">
{"contents":[{"methodName":"interpret","cellName":"ojs-cell-1","inline":false,"source":"data = FileAttachment(\"examples/palmer-penguins.csv\").csv()"},{"methodName":"interpret","cellName":"ojs-cell-2","inline":false,"source":"filtered = data.filter(function(penguin) {\n  return bill_length_min < penguin.bill_length &&\n         islands.includes(penguin.island);\n})"},{"methodName":"interpret","cellName":"ojs-cell-3","inline":false,"source":"viewof bill_length_min = Inputs.range(\n  [32, 50], \n  {value: 35, step: 1, label: \"Bill length (min):\"}\n)\nviewof islands = Inputs.checkbox(\n  [\"Torgersen\", \"Biscoe\", \"Dream\"], \n  { value: [\"Torgersen\", \"Biscoe\"], \n    label: \"Islands:\"\n  }\n)"},{"methodName":"interpret","cellName":"ojs-cell-4","inline":false,"source":"Plot.rectY(filtered, \n  Plot.binX(\n    {y: \"count\"}, \n    {x: \"body_mass\", fill: \"species\", thresholds: 20}\n  ))\n  .plot({\n    facet: {\n      data: filtered,\n      x: \"sex\",\n      y: \"species\",\n      marginRight: 80\n    },\n    marks: [\n      Plot.frame(),\n    ]\n  }\n)"},{"methodName":"interpretQuiet","source":"shinyInput('bill_length_min')"},{"methodName":"interpretQuiet","source":"shinyInput('islands')"}]}
</script>
<script type="module">
window._ojs.paths.runtimeToDoc = "../../docs/interactive/js";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "../../..";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>


</body></html>