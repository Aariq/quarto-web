[
  {
    "href": "docs/tools/vscode.html#overview",
    "title": "VS Code",
    "section": "Overview",
    "text": "Quarto can render Jupyter notebooks represented as plain text (.qmd) or as a normal notebook file (.ipynb). One benefit of using .ipynb is that you can use the VS Code Jupyter Notebook UI as your editor.\nHere is the “Hello, Quarto” example from the homepage inside VSCode:\n\nIf you look at the source code you’ll note that YAML options were provided both at the top of the document and within the code cell. We’ll describe working with YAML options in more detail below."
  },
  {
    "href": "docs/tools/vscode.html#workflow",
    "title": "VS Code",
    "section": "Workflow",
    "text": "The ideal workflow for authoring Quarto notebooks in VS Code is to run the quarto preview command from within a terminal:\nquarto preview notebook.ipynb\nThe notebook will be rendered and a web browser with a “live preview” opened. Position this browser so that you can see it as you edit and save the notebook:\n\nEvery time you save within VS Code the preview will be automatically updated. You can use quarto preview for both HTML and PDF output.\nIn the screenshot above you’ll note that we ran quarto preview inside a VS Code terminal window—this is generally recommended so that you can see progress and error messages when renders occur.\n\n\n\n\n\n\nNote that if you are authoring a book or website you should use quarto serve instead, which will create a live preview for the entire project.\n\n\n\n\nRender without Preview\nYou can render a notebook (or group of notebooks) without previewing them using the quarto render command:\nquarto render notebook.ipynb\nUse the --to argument to render to different formats:\nquarto render notebook.ipynb --to docx"
  },
  {
    "href": "docs/tools/vscode.html#yaml-front-matter",
    "title": "VS Code",
    "section": "YAML Front Matter",
    "text": "The first cell of your notebook should be a Raw cell that contains the document title, author, and any other options you need to specify. Note that you can switch the type of a call to Raw using the cell type menu at the bottom right of the cell:\n\nIn this example we specify that we want code to appear collapsed by default. There are YAML options to control many other aspects of document rendering. See the documentation on Authoring and Output Formats for additional details."
  },
  {
    "href": "docs/tools/vscode.html#markdown-cells",
    "title": "VS Code",
    "section": "Markdown Cells",
    "text": "Here’s the underlying code for the markdown cell:\n\nNote that a Quarto cross-reference (@fig-polar) is included in the markdown. Any valid Pandoc markdown syntax can be included in markdown cells."
  },
  {
    "href": "docs/tools/vscode.html#output-options",
    "title": "VS Code",
    "section": "Output Options",
    "text": "Quarto uses leading comments with a special prefix (#|) to denote cell options. Here we specify the label and fig-cap options so that the plot generated from the cell can be cross-referenced.\n\nNote that options must appear at the very beginning of the cell. As with document front-matter, option names/values use YAML syntax.\nThere are many output options available, including options to optionally hide code, warnings, and/or output. See the documentation on Output Outputs for additional details."
  },
  {
    "href": "docs/tools/vscode.html#cell-execution",
    "title": "VS Code",
    "section": "Cell Execution",
    "text": "Note that when rendering an .ipynb Quarto will not execute the cells within the notebook by default (the presumption being that you already executed them while editing the notebook). If you want to execute the cells you can pass the --execute flag to render:\nquarto render jupyter-document.ipynb --execute\nYou can also specify this behavior within the notebook’s YAML front matter:\n---\ntitle: \"My Document\"\nexecute: true\njupyter: python3\n---\nThere are many other execution options available (e.g. to control caching, optimizing kernel start-up time, etc.). Learn more about these options in Execution Options."
  },
  {
    "href": "docs/tools/vscode.html#plain-text-editing",
    "title": "VS Code",
    "section": "Plain Text Editing",
    "text": "It’s also possible to edit Jupyter notebooks in a plain-text markdown format. You might prefer this if there is more narrative than code in your notebook or if you want to use a file format that is more version control friendly.\nHere is the plain text markdown version of the notebook used in the previous examples:\n---\ntitle: \"Matplotlib Demo\"\nauthor: \"Norah Smith\"\ndate: \"May 22nd, 2021\"\nformat: \n  html:\n    code-fold: true\njupyter: python3\n---\n\n## Polar Axis\n\nFor a demonstration of a line plot on a polar axis, see @fig-polar.\n\n```{python}\n#| label: fig-polar\n#| fig-cap: \"A line plot on a polar axis\"\n\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nr = np.arange(0, 2, 0.01)\ntheta = 2 * np.pi * r\nfig, ax = plt.subplots(subplot_kw={'projection': 'polar'})\nax.plot(theta, r)\nax.set_rticks([0.5, 1, 1.5, 2])\nax.grid(True)\nplt.show()\n```\nNote that we’ve added the jupyter: python3 option to the YAML front matter to indicate which Jupyter kernel to render with. You would render this document with:\nquarto render basics-jupyter.qmd\nMarkdown files with embedded code chunks should use the file extension .qmd.\n\n\n\n\n\n\nTip\n\n\n\nIf you are doing most of your work in .qmd files you should consider using RStudio, which includes full support for editing .qmd files that use Python and Jupyter (including code completion, cell-at-a-time execution, and side-by-side preview). See the article on using RStudio for additional details.\n\n\n\nConverting Notebooks\nYou can convert between .ipynb and .qmd representations of a notebook using the quarto convert command. For example:\nquarto convert basics-jupyter.ipynb --to markdown\nquarto convert basics-jupyter.qmd --to notebook\nSee quarto convert help for additional details on converting notebooks."
  },
  {
    "href": "docs/tools/text-editors.html#overview",
    "title": "Text Editors",
    "section": "Overview",
    "text": "If you are editing plain markdown documents (with no embedded computations) you may want to use your favorite text editor (Vim, Emacs, Sublime, etc.) to author Quarto documents. This articles provides some guidance on the optimal workflow when using text editors with Quarto.\nNote that if you are using either the Jupyter or Knitr computational engine you will likely be better off using JupyterLab or VS Code (for .ipynb notebooks) or RStudio (for .qmd documents) as these environments provide code-completion, incremental cell execution, and other useful tools for working with executable code."
  },
  {
    "href": "docs/tools/text-editors.html#workflow",
    "title": "Text Editors",
    "section": "Workflow",
    "text": "The ideal workflow for authoring Quarto markdown documents is to run the quarto preview command from within a terminal:\nquarto preview document.md\nThe document will be rendered and a web browser with a “live preview” opened. Position this browser so that you can see it as you edit and save the document:\n\nEvery time you save the preview will be automatically updated. You can use quarto preview for both HTML and PDF output.\n\n\n\n\n\n\nNote that if you are authoring a book or website you should use quarto serve instead, which will create a live preview for the entire project.\n\n\n\n\nRender without Preview\nYou can render a document (or group of documents) without previewing them using the quarto render command:\nquarto render document.md\nUse the --to argument to render to different formats:\nquarto render document.md --to docx"
  },
  {
    "href": "docs/tools/text-editors.html#file-extension",
    "title": "Text Editors",
    "section": "File Extension",
    "text": "You’ll likely find that it’s easier to use the .md file extension (rather than .qmd) when working with plain markdown documents. This enables you to take advantage of existing behaviors associated with .md in your text editor configuration (you can certainly also modify your editor configuration to recognize .qmd).\nNote that if you end up at some point including embedded computations in your document you should at that point change the extension to .qmd (and as discussed above possibly migrate to using a tool that has more built-in tools for working with executable code)."
  },
  {
    "href": "docs/tools/jupyter-lab.html#overview",
    "title": "JupyterLab",
    "section": "Overview",
    "text": "Quarto can render Jupyter notebooks represented as plain text (.qmd) or as a normal notebook file (.ipynb). One benefit of using .ipynb is that you can use JupyterLab as your editor.\nHere is the “Hello, Quarto” example from the homepage inside JupyterLab:\n\nIf you look at the source code you’ll note that YAML options were provided both at the top of the document and within the code cell. We’ll describe working with YAML options in more detail below."
  },
  {
    "href": "docs/tools/jupyter-lab.html#workflow",
    "title": "JupyterLab",
    "section": "Workflow",
    "text": "The ideal workflow for authoring Quarto notebooks in JupyterLab is to run the quarto preview command from within a terminal:\nquarto preview notebook.ipynb\nThe notebook will be rendered and a web browser with a “live preview” opened. Position this browser so that you can see it as you edit and save the notebook:\n\nEvery time you save within JupyterLab the preview will be automatically updated. You can use quarto preview for both HTML and PDF output.\nIn the screenshot above you’ll note that we ran quarto preview inside a JupyterLab terminal window—this is generally recommended so that you can see progress and error messages when renders occur.\n\n\n\n\n\n\nNote that if you are authoring a book or website you should use quarto serve instead, which will create a live preview for the entire project.\n\n\n\n\nRunning JupyterLab\nTo run JupyterLab, invoke the jupyter module from within the shell where you are using Quarto:\n\n\n\n\n\n\n\nPlatform\nCommand\n\n\n\n\nWindows\npy -m jupyter lab\n\n\nMac/Linux\npython3 -m jupyter lab\n\n\n\n\n\nRender without Preview\nYou can render a notebook (or group of notebooks) without previewing them using the quarto render command:\nquarto render notebook.ipynb\nUse the --to argument to render to different formats:\nquarto render notebook.ipynb --to docx"
  },
  {
    "href": "docs/tools/jupyter-lab.html#yaml-front-matter",
    "title": "JupyterLab",
    "section": "YAML Front Matter",
    "text": "The first cell of your notebook should be a Raw cell that contains the document title, author, and any other options you need to specify. Note that you can switch the type of a call to Raw using the notebook toolbar:\n\nIn this example we specify that we want code to appear collapsed by default. There are YAML options to control many other aspects of document rendering. See the documentation on Authoring and Output Formats for additional details."
  },
  {
    "href": "docs/tools/jupyter-lab.html#markdown-cells",
    "title": "JupyterLab",
    "section": "Markdown Cells",
    "text": "Here’s the underlying code for the markdown cell:\n\nNote that a Quarto cross-reference (@fig-polar) is included in the markdown. Any valid Pandoc markdown syntax can be included in markdown cells."
  },
  {
    "href": "docs/tools/jupyter-lab.html#output-options",
    "title": "JupyterLab",
    "section": "Output Options",
    "text": "Quarto uses leading comments with a special prefix (#|) to denote cell options. Here we specify the label and fig-cap options so that the plot generated from the cell can be cross-referenced.\n\nNote that options must appear at the very beginning of the cell. As with document front-matter, option names/values use YAML syntax.\nThere are many output options available, including options to optionally hide code, warnings, and/or output. See the documentation on Output Outputs for additional details."
  },
  {
    "href": "docs/tools/jupyter-lab.html#cell-execution",
    "title": "JupyterLab",
    "section": "Cell Execution",
    "text": "Note that when rendering an .ipynb Quarto will not execute the cells within the notebook by default (the presumption being that you already executed them while editing the notebook). If you want to execute the cells you can pass the --execute flag to render:\nquarto render jupyter-document.ipynb --execute\nYou can also specify this behavior within the notebook’s YAML front matter:\n---\ntitle: \"My Document\"\nexecute: true\njupyter: python3\n---\nThere are many other execution options available (e.g. to control caching, optimizing kernel start-up time, etc.). Learn more about these options in Execution Options."
  },
  {
    "href": "docs/tools/jupyter-lab.html#plain-text-editing",
    "title": "JupyterLab",
    "section": "Plain Text Editing",
    "text": "It’s also possible to edit Jupyter notebooks in a plain-text markdown format. You might prefer this if there is more narrative than code in your notebook or if you want to use a file format that is more version control friendly.\nHere is the plain text markdown version of the notebook used in the previous examples:\n---\ntitle: \"Matplotlib Demo\"\nauthor: \"Norah Smith\"\ndate: \"May 22nd, 2021\"\nformat: \n  html:\n    code-fold: true\njupyter: python3\n---\n\n## Polar Axis\n\nFor a demonstration of a line plot on a polar axis, see @fig-polar.\n\n```{python}\n#| label: fig-polar\n#| fig-cap: \"A line plot on a polar axis\"\n\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nr = np.arange(0, 2, 0.01)\ntheta = 2 * np.pi * r\nfig, ax = plt.subplots(subplot_kw={'projection': 'polar'})\nax.plot(theta, r)\nax.set_rticks([0.5, 1, 1.5, 2])\nax.grid(True)\nplt.show()\n```\nNote that we’ve added the jupyter: python3 option to the YAML front matter to indicate which Jupyter kernel to render with. You would render this document with:\nquarto render basics-jupyter.qmd\nMarkdown files with embedded code chunks should use the file extension .qmd.\n\n\n\n\n\n\nTip\n\n\n\nIf you are doing most of your work in .qmd files you should consider using RStudio, which includes full support for editing .qmd files that use Python and Jupyter (including code completion, cell-at-a-time execution, and side-by-side preview). See the article on using RStudio for additional details.\n\n\n\nConverting Notebooks\nYou can convert between .ipynb and .qmd representations of a notebook using the quarto convert command. For example:\nquarto convert basics-jupyter.ipynb --to markdown\nquarto convert basics-jupyter.qmd --to notebook\nSee quarto convert help for additional details on converting notebooks."
  },
  {
    "href": "docs/tools/rstudio.html#overview",
    "title": "RStudio IDE",
    "section": "Overview",
    "text": "The currently daily build of RStudio (v2021-07.0.275 or higher) includes support for editing and preview of Quarto documents. This works for plain markdown as well as both the Knitr and Jupyter engines.\nIf you are using Quarto within RStudio it is strongly recommended that you use this version (the documentation below assumes you are using this build).\nYou can download the RStudio daily build from https://dailies.rstudio.com.\n\nCreating Documents\nUse the File : New File : Quarto Doc… command to create new Quarto documents:\n\n\n\nRender and Preview\nUse the Render button to preview documents as you edit them:\n\nIf you prefer to automatically render whenever you save you can check the Render on Save option on the editor toolbar.\nThe preview will appear alongside the editor:\n\nThe preview will update whenever you re-render the document. Side-by-side preview works for both HTML and PDF output."
  },
  {
    "href": "docs/tools/rstudio.html#projects",
    "title": "RStudio IDE",
    "section": "Projects",
    "text": "If you want to create a new project for a Quarto document or set of documents, use the File : New Project… command, specify New Directory, then choose Quarto Project:\n\nYou can use this UI to create both vanilla projects as well as websites and books. Options are also provided for creating a git repository and initializing an renv environment for the project."
  },
  {
    "href": "docs/tools/rstudio.html#knitr-engine",
    "title": "RStudio IDE",
    "section": "Knitr Engine",
    "text": "Quarto is designed to be highly compatible with existing R Markdown documents. You should generally be able to use Quarto to render any existing Rmd document without changes.\nOne important difference between R Markdown documents and Quarto documents is that in Quarto chunk options are typically included in special comments at the top of code chunks rather than within the line that begins the chunk. For example:\n```{r}\n#| echo: false\n#| fig-cap: \"Air Quality\"\n\nlibrary(ggplot2)\nggplot(airquality, aes(Temp, Ozone)) + \n        geom_point() + \n        geom_smooth(method = \"loess\", se = FALSE)\n```\nQuarto uses this approach to both better accommodate longer options like fig-cap, fig-subcap, and fig-alt as well as to make it straightforward to edit chunk options within more structured editors that don’t have an easy way to edit chunk metadata (e.g. most traditional notebook UIs).\n\n\n\n\n\n\nNote\n\n\n\nNote that if you prefer it is still possible to include chunk options on the first line (e.g. ```{r, echo = FALSE}). That said, we recommend using the comment-based syntax to make documents more portable and consistent across execution engines.\n\n\nChunk options included this way use YAML syntax rather than R syntax for consistency with options provided in YAML front matter. You can still however use R code for option values by prefacing them with !expr. For example:\n#| fig-cap: !expr paste(\"Air\", \"Quality\")"
  },
  {
    "href": "docs/tools/rstudio.html#jupyter-engine",
    "title": "RStudio IDE",
    "section": "Jupyter Engine",
    "text": "You can also work with Quarto markdown documents that target the Jupyter engine within RStudio. These files will typically include a jupyter option in the YAML front matter indicating which kernel to use. For example:\n---\ntitle: \"Matplotlib Demo\"\nauthor: \"Norah Smith\"\njupyter: python3\n---\nIf you want to work within a virtual environment (venv), use the File : New Project… command, specify the Jupyter engine with a venv, and specify which packages you’d like to seed the venv with:\n\nRStudio will automatically activate this virtual environment whenever you open the project. You can install additional Python packages into the environment using the RStudio Terminal tab. For example:"
  },
  {
    "href": "docs/tools/rstudio.html#r-package",
    "title": "RStudio IDE",
    "section": "R Package",
    "text": "If you are not using RStudio and/or you prefer to render from the R console, you can do so using the quarto R package. To install the R package:\ninstall.packages(\"quarto\")\nThen, to render a document:\nlibrary(quarto)\nquarto_render(\"document.qmd\")\nTo live preview (automatically render & refresh the browser on save) for a document you are working on, use the quarto_preview() function:\nlibrary(quarto)\nquarto_preview(\"document.qmd\")\nIf you working on a website or book project, you can run the Quarto development server with:\nlibrary(quarto)\nquarto_serve()"
  },
  {
    "href": "docs/projects/virtual-environments.html#using-venv",
    "title": "Virtual Environments",
    "section": "Using venv",
    "text": "Here we’ll provide a brief run through of creating a venv for a Quarto project. See the full documentation on using virtual environments with Python for additional details.\nTo create a new Python 3 virtual environment in the directory env:\n\n\n\n\n\n\n\nPlatform\nCommand\n\n\n\n\nWindows\npy -m venv env\n\n\nMac/Linux\npython3 -m venv env\n\n\n\nTo use the environment you need to activate it. This differs slightly depending on which platform / shell you are using:\n\n\n\n\n\n\n\nShell\nCommand\n\n\n\n\nWindows\n(Command)\nenv\\Scripts\\activate.bat\n\n\nWindows\n(PowerShell)\nenv\\Scripts\\Activate.ps1\n\n\nMac/Linux\nsource env/bin/activate\n\n\n\n\n\n\n\n\n\nPowerShell Note\n\n\n\nNote that you may receive an error about running scripts being disabled when activating within PowerShell. If you get this error then execute the following command:\nSet-ExecutionPolicy -ExecutionPolicy Unrestricted -Scope CurrentUser\n\n\nOnce you’ve activated the environment, you need to ensure that you have the packages required to render your documents. This will typically encompass jupyter / jupyterlab plus whatever other packages are used in your Python code. ip to install packages into your environment. For example:\n\n\n\n\n\n\n\nPlatform\nCommand\n\n\n\n\nWindows\npy -m pip install matplotlib pandas\n\n\nMac/Linux\npython3 -m pip install matplotlib pandas\n\n\n\nAssuming you installed all of the required packages (likely more than just pandas and matplotlib) you should now be able to quarto render documents within the directory.\nTo deactivate an environment use the deactivate command:\ndeactivate\n\nSaving Environments\nTo make your environment reproducible, you need to create a requirements.txt file that enumerates all of the packages in use. To do this use the pip freeze command:\n\n\n\n\n\n\n\nPlatform\nCommand\n\n\n\n\nWindows\npy -m pip freeze > requirements.txt\n\n\nMac/Linux\npython3 -m pip freeze > requirements.txt\n\n\n\nYou should generally check the requirements.txt file into version control.\n\n\nRestoring Environments\nTo reproduce the environment on another machine you create an empty environment, activate it, and then pip install using requirements.txt:\nFirst, follow the instructions above for creating and activating a virtual environment for your platform/shell.\nThen, install packages from requirements.txt:\n\n\n\n\n\n\n\nPlatform\nCommand\n\n\n\n\nWindows\npy -m pip install -r requirements.txt\n\n\nMac/Linux\npython3 -m pip install -r requirements.txt"
  },
  {
    "href": "docs/projects/virtual-environments.html#using-conda",
    "title": "Virtual Environments",
    "section": "Using conda",
    "text": "This section will cover the basics of creating and using conda environments with Quarto projects. See this article on managing project specific environments with Conda for additional details.\nTo create a new environment in the directory env:\nconda create --prefix env python\nIf this is the first time you’ve used conda in your shell, you may need to execute one of the following commands before using other conda tools:\n\n\n\n\n\n\n\nShell\nCommand\n\n\n\n\nWindows\n(Command)\nconda init cmd.exe\n\n\nWindows\n(PowerShell)\nconda init powershell\n\n\nLinux / Older Mac\n(Bash)\nconda init bash\n\n\nNewer Mac\n(Zsh)\nconda init zsh\n\n\n\nYou will likely need to exit and restart your terminal for conda init to be reflected in your session.\nTo use the environment you need to activate it, which you do as follows:\n\n\n\n\n\n\n\nPlatform\nCommand\n\n\n\n\nWindows\nconda activate .\\env\n\n\nMac/Linux\nconda activate ./env\n\n\n\nOnce you’ve activated the environment, you need to ensure that you have the packages required to render your documents. This will typically encompass jupyter / jupyterlab plus whatever other packages are used in your Python code. Use conda install to install packages into your environment. For example:\nconda install jupyterlab\nconda install pandas matplotlib \nAssuming you installed all of the required packages (likely more than just pandas and matplotlib) you should now be able to quarto render documents within the directory.\nUse conda deactivate to exit an activated environment:\nconda deactivate\n\nSaving Environments\nTo make your environment reproducible, you need to create a environment.yml file that enumerates all of the packages in use. Do this using the conda env export command:\nconda env export > environment.yml\nYou should generally check the environment.yml file into version control.\n\n\nRestoring Environments\nTo reproduce the environment on another machine you just pass the environment.yml file as an argument to conda create:\nconda create --prefix env -f environment.yml"
  },
  {
    "href": "docs/projects/virtual-environments.html#using-renv",
    "title": "Virtual Environments",
    "section": "Using renv",
    "text": "The renv package provides functionality similar to the venv and conda, but for R packages. To create a new renv environment, install the renv package from CRAN then call the renv::init() function:\ninstall.pacakges(\"renv\")\nrenv::init()\nAs part of initialization, your .Rprofile file is modified to ensure that the renv is activated automatically at the start of each R session.\nIf you plan on using both R and Python in your project, you can have renv automatically create and manage a Python virtual environment as follows:\nrenv::use_python()\nTo install R packages use the standard R install.packages function. You can also install GitHub packages using the renv::install function. For example:\ninstall.packages(\"ggplot2\")      # install from CRAN\nrenv::install(\"tidyverse/dplyr\") # install from GitHub\nTo install Python packages just use pip as described above from the built-in RStudio terminal.\n\nSaving Environments\nTo record the current versions of all R (and optionally Python) packages, use the renv::snapshot() function:\nrenv::snapshot()\nThis will record an renv.lock file for R packages and a requirements.txt file for Python packages). These files should be checked into version control.\n\n\nRestoring Environments\nTo reproduce the environment on another machine use the renv::restore() function:\nrenv::restore()"
  },
  {
    "href": "docs/projects/virtual-environments.html#jupyterlab",
    "title": "Virtual Environments",
    "section": "JupyterLab",
    "text": "To use Jupyter or JupyterLab within a Python virtual environment you just need to activate the environment and then launch the Jupyter front end. For example:\n\n\n\n\n\n\n\nShell\nCommand\n\n\n\n\nWindows\n(Command)\nenv\\Scripts\\activate.bat\npy -m jupyter lab\n\n\nWindows (PowerShell)\nenv\\Scripts\\Activate.ps1\npy -m jupyter lab\n\n\nMac/Linux\nsource env/bin/activate\npython3 -m jupyter lab\n\n\n\nAll of the Python packages installed within the env will be available in your Jupyter notebook session. The workflow is similar if you are using conda environments."
  },
  {
    "href": "docs/projects/virtual-environments.html#rstudio",
    "title": "Virtual Environments",
    "section": "RStudio",
    "text": "If you are using Quarto within RStudio it is strongly recommended that you use the daily build of RStudio from https://dailies.rstudio.com (the documentation below assumes you are using this build).\n\nrenv\nIf you are using renv, RStudio will automatically do the right thing in terms of binding Quarto to the R and/or Python packages in your project-local environments.\nIf you need to install R packages ust use install.packages; if you need to install Python packages simply use pip or conda within the Terminal as described above.\n\n\nvenv / condaenv\nRStudio will automatically activate any venv or condaenv that it finds within a project directory. Just be sure to create an RStudio project within the same directory where you created your env and things will work as expected with no additional configuration.\nIf you need to install Python packages simply use pip or conda within the Terminal as described above."
  },
  {
    "href": "docs/projects/virtual-environments.html#vs-code",
    "title": "Virtual Environments",
    "section": "VS Code",
    "text": "If you create a virtual environment in the env/ directory as described above, Visual Studio Code should automatically discover that environment when you load a workspace from the environment’s parent directory.\nNote that this applies only to venv not Conda environments (which have a separate mechansim for binding to the current VS Code session).\nYou can read more about VS Code support for virtual environments here: https://code.visualstudio.com/docs/python/environments."
  },
  {
    "href": "docs/projects/code-execution.html#freeze",
    "title": "Code Execution",
    "section": "Freeze",
    "text": "You can use the freeze option to denote that computational documents should never be re-rendered during a global project render, or alternatively only be re-rendered when their source file changes:\nexecute:\n  freeze: true  # never re-render during project render\nexecute:\n  freeze: auto  # re-render only when source changes\nNote that freeze controls whether execution occurs during global project renders. If you do an incremental render of either a single document or a project sub-directory then code is always executed. For example:\n# render single document (always executes code)\nquarto render document.qmd\n\n# render project subdirectory (always executes code)\nquarto render articles\n\nUsing Freeze\nFreeze is generally used when you have either a large number of collaborators or many computational documents created over a longer period of time. In both cases it can be challenging to fully re-execute every document when you render the site. This could be because some documents have esoteric or environment-specific requirements (e.g. require access/authentication to a data source) or due to general fragility of dependencies over time. Using freeze ensures that you can always reproducibly render your site.\nThe computational results of documents executed with freeze are stored in the _freeze directory, and re-used when needed to fulfill document renders. You should check the contents of _freeze into version control so that others rendering the project don’t need to reproduce your computational environment to render it in their environment.\n\n\nVirtual Environments\nYou can also combine freeze with the use of virtual environments to divide your project into sub-directories that each have their own set of dependencies. This allows multiple collaborators to use a set of localized dependencies for the documents they are responsible for, but at the same time still be able to render the entire project without requiring all of it’s dependencies.\nTo learn how to create and use a virtual environment, see the full documentation on Virtual Environments\nHere’s an example workflow of using virtual environments with freeze:\n\nInclude freeze: true in the project execution options:\nexecute:\n  freeze: true\nCreate a sub-directory of documents (e.g. research), and initialize and use a virtual environment within it:\nresearch/\n  document1.qmd\n  document2.qmd\n  env/\n  requirements.txt\nWhen working wihtin this sub-directory, activate the virtual environment before rendering it’s documents. For example:\ncd research\nsource venv/bin/activate\nquarto render               # render all files in subdir\nquarto render document.qmd  # render a single-file\n\nThis sub-directory render won’t use the cached freeze results but instead will re-run all of the computations using the directory-specific virtual environment. You can of course also include sub-directories within this directory and their documents will also be rendered using the parent virtual environment."
  },
  {
    "href": "docs/projects/code-execution.html#cache",
    "title": "Code Execution",
    "section": "Cache",
    "text": "You can use the cache option to cache the results of computations (using the knitr cache for R documents, and Jupyter Cache for Jupyter documents):\nexecute:\n  cache: true\nNote that cache invalidation is triggered by changes in chunk source code (or other cache attributes you’ve defined). You may however need to manually refresh the cache if you know that some other input (or even time) has changed sufficiently to warrant an update. To do this, render either individual files or an entire project using the --cache-refresh option:\nquarto render mydoc.qmd --cache-refresh # single doc\nquarto render --cache-refresh           # entire project"
  },
  {
    "href": "docs/projects/code-execution.html#notebooks",
    "title": "Code Execution",
    "section": "Notebooks",
    "text": "Note that when rendering an .ipynb Quarto will not execute the cells within the notebook by default (the presumption being that you already executed them while editing the notebook). If you want to execute the cells you can pass the --execute flag to render:\nquarto render jupyter-document.ipynb --execute\nYou can also specify this behavior within the notebook’s YAML front matter:\n---\ntitle: \"My Document\"\nexecute: true\njupyter: python3\n---"
  },
  {
    "href": "docs/projects/code-execution.html#working-dir",
    "title": "Code Execution",
    "section": "Working Dir",
    "text": "By default, the working directory for rendering files within a project is the directory of the file itself. If you prefer to use the main project directory instead, you can add the execute-dir: project option to your config:\nproject:\n  execute-dir: project\nNote that from within your code you can always determine the location of the currently executing Quarto project using the QUARTO_PROJECT_DIR environment variable."
  },
  {
    "href": "docs/projects/quarto-projects.html#overview",
    "title": "Project Basics",
    "section": "Overview",
    "text": "Quarto projects are directories that provide:\n\nA way to render all or some of the files in a directory with a single command (e.g. quarto render myproject).\nA way to share YAML configuration across multiple documents.\nThe ability to redirect output artifacts to another directory.\nThe ability to freeze rendered output (i.e. don’t re-execute documents unless they have changed).\n\nIn addition, projects can have special “types” that introduce additional behavior (e.g. websites or books).\n\n\n\n\n\n\nNote\n\n\n\nIf you are just getting started with Quarto and/or you don’t have previous experience with markdown publishing systems, you probably want to skip learning about projects for now. Once you are comfortable with the basics, come back to this article to learn more."
  },
  {
    "href": "docs/projects/quarto-projects.html#creating-projects",
    "title": "Project Basics",
    "section": "Creating Projects",
    "text": "Use the quarto create-project command to create a new project. If you have an existing directory of documents that you want to treat as a project just invoke create-project with no arguments from within the directory:\nquarto create-project\nTo create a project in a new directory just provide a directory name on the command line:\nquarto create-project myproject"
  },
  {
    "href": "docs/projects/quarto-projects.html#shared-metadata",
    "title": "Project Basics",
    "section": "Shared Metadata",
    "text": "When you create a project, a _quarto.yml config file is created. Here is an example of what the _quarto.yml file might look like:\nproject:\n  output-dir: _output\n\ntoc: true\nnumber-sections: true\nbibliography: references.bib  \n  \nformat:\n  html:\n    css: styles.css\n    html-math-method: katex\n  pdf:\n    documentclass: report\n    margin-left: 30mm\n    margin-right: 30mm\nAny document rendered within the project directory will automatically inherit the metadata defined at the project level.\nNote that the project file contains both global options that apply to all formats (e.g. toc and bibliograph) as well as format-specific options."
  },
  {
    "href": "docs/projects/quarto-projects.html#rendering-projects",
    "title": "Project Basics",
    "section": "Rendering Projects",
    "text": "You can render files within a project either one-by-one or all at once (in either case, shared project metadata will be used).\nTo render all of the documents within a project, just use quarto render within the project directory (or target a specific directory with a command line argument):\n# render project in current dir\nquarto render \n\n# render project in 'myproject'\nquarto render myproject\nYou can also render only the files within a sub-directory of a project. For example, if the current directory contains a project with sub-directories tutorials, how-to, and articles, you can render just the contents of articles as follows:\n# render only documents in the 'articles' sub-directory\nquarto render articles\nNote that when rendering a project, command line arguments you pass to quarto render will be used for each file in the project. For example. this command will render each document in a project as a PDF:\nquarto render --to pdf\nquarto render myproject --to pdf\nIf you are working with Quarto from R, you can also render a project from the R console using the quarto R package.\nlibrary(quarto)\nquarto_render()"
  },
  {
    "href": "docs/projects/quarto-projects.html#render-targets",
    "title": "Project Basics",
    "section": "Render Targets",
    "text": "By default, all valid Quarto input files (.qmd, .ipynb, .md, .Rmd) in the project directory will be rendered, save for ones with a file or directory prefix of . (hidden files) or _ (typically used for non top-level files, e.g. ones included in other files).\nIf you don’t want to render all of the target documents in a project, or you wish to control the order of rendering more precisely, you can add a project: render: [files] entry to your project metadata. For example:\nproject:\n  render:\n    - section1.md\n    - section2.md\nNote that you can use wildcards when defining the render list. For example:\nproject:\n  render:\n    - section*.md"
  },
  {
    "href": "docs/books/index.html#overview",
    "title": "Creating a Book",
    "section": "Overview",
    "text": "Quarto Books are combinations of multiple documents (chapters) into a single manuscript. Books can be created in a variety of formats:\n\nPDF\nHTML\nEPUB\nMS Word\n\nHTML books are not that different from Quarto Websites save for the fact that chapters and sections are numbered and therefore support Cross References.\nHere are some examples of books created with Quarto:\n\nHands on Programming with R\nVisualization Curriculum"
  },
  {
    "href": "docs/books/index.html#getting-started",
    "title": "Creating a Book",
    "section": "Getting Started",
    "text": "To create a new book project, use the Quarto create-project command:\nquarto create-project mybook --type book\nThis will create the scaffolding for a simple book in the mybook subdirectory. To build and view the HTML version of the book use the serve command:\nquarto serve mybook\nThis will build the HTML version of the book and run a local web server to view it. Here’s what you’ll see in your browser for the simple book scaffolding:\n\nThe book’s chapters are contained in the files index.md, introduction.md, summary.md. Try adding some content to one of these files and saving—you’ll notice that the book preview is automatically updated in the browser.\nYou’ll also notice that a Quarto project file (_quarto.yml) was created in the mybook directory. This file contains the initial configuration for your book:\nproject:\n  type: book\n\nbook:\n  title: \"mybook\"\n  author: \"Jane Doe\"\n  date: \"5/11/2021\"\n  chapters:\n    - index.qmd\n    - intro.qmd\n    - summary.qmd\n    - references.qmd\n\nbibliography: references.bib\n\nformat:\n  html:\n    theme: cosmo\n  pdf:\n    documentclass: report\n  epub:\n    epub-cover-image: cover.png"
  },
  {
    "href": "docs/books/index.html#workflow",
    "title": "Creating a Book",
    "section": "Workflow",
    "text": "Development\nWhen working on a book, you’ll typically run the local development server as described above and incrementally preview content as you work:\nquarto serve\nIf you have a plain markdown file (with no computations), then saving it will cause the preview to automatically update (as will changes to config files, CSS files, etc.). If you are working on a file with computations (e.g. an Rmd or Jupyter notebook) then you need to explicitly re-render it to update the preview.\nNote that development server updates do not cause an update to the final book output. Consequently, you should always quarto render your site before deploying it as described below in Publishing.\n\n\nRStudio\nNote that if you are using Quarto within RStudio, you can run the development server within the RStudio Viewer pane using the quarto R package:\nlibrary(quarto)\nquarto_serve()\n\n\nPublishing\nWhen you are ready to publish the book, use the render command to render all output formats:\nquarto render --to all\nIf you pass no arguments to quarto render the default format (HTML) will be rendered. You can also render individual formats via the --to argument:\nquarto render           # render default format (HTML)\nquarto render --to pdf  # render PDF format only\nThe output of your book will be written to the _book sub-directory of your book project:\nmybook/\n  _book/\n    index.html # and other website files\n    mybook.pdf\n    mybook.epub\nSee the documentation on Publishing Websites for details on how to publish books to GitHub Pages, Netlify, and other services. Note that in that documentation the output-dir may be referred to as _site: for publishing books you should use _book rather than _site."
  },
  {
    "href": "docs/books/index.html#learning-more",
    "title": "Creating a Book",
    "section": "Learning More",
    "text": "Once you are familiar with the basic mechanics, read the article on Book Authoring to learn about:\n\nHow to structure your book (numbered and unnumbered chapters/sections, creating multiple parts, adding appendices, etc.)\nIncorporating computational output from knitr or Jupyter (including tools for caching the results of longer running chapters/sections).\nCreating cross-references to chapters, sections, figures, tables, etc.\nCustomizing the style and appearance of your book in the various output formats.\nProviding navigation and other tools for readers (e.g. download other formats, share on twitter, suggest changes, etc.)"
  },
  {
    "href": "docs/books/book-authoring.html#book-structure",
    "title": "Book Authoring",
    "section": "Book Structure",
    "text": "The structure of a Quarto book can be as simple as a list of chapters, or can alternatively incorporate multiple parts and/or appendices. Quarto book chapters and sections are automatically numbered (for cross-referencing), however you can also specify that some parts of the book should remain unnumbered.\nThe simple book configuration generated by quarto create-project illustrates the basics:\nbook:\n  title: \"mybook\"\n  author: \"Jane Doe\"\n  date: \"5/9/2021\"\n  chapters:\n    - index.qmd\n    - intro.qmd\n    - summary.qmd\n    - references.qmd\n\nThe index file is required and includes preface, acknowledgements, etc. Content in the index file is unnumbered.\nThe remainder of chapters includes one or more book chapters.\nThe references.md file will include the generated bibliography (see References below for details).\n\n\nFormat Options\nIf you want to specify rendering options (including format-specific options), you do it within the _quarto.yml project file rather than within the individual markdown documents. For example:\nhighlight-style: pygments\nbibliography: references.bib\ncsl: citestyle.csl\n\nformat:\n  html:\n    theme: cosmo\n    code-copy: true\nThis is because when rendering a book all of the chapters are combined together into a single document (with a single set of format options).\n\n\nChapter Titles\nSince rendering options are provided in _quarto.yml, you’ll typically see a simple level-one header at the top of chapters. For example:\n# Introduction\nAs compared to typical Quarto documents where you’d see something like this:\n---\ntitle: \"Introduction\"\n---\n\n\nChapter Numbers\nAll chapters are numbered by default. If you want a chapter to be unnumbered simply add the .unnumbered class to it’s main header. For example:\n# Resources {.unnumbered}\nYou can mix together numbered and unnumbered chapters. Note however that while you can link to unnumbered chapters, you can’t cross reference figures, tables, etc. within them. Unnumbered chapters are therefore mostly useful for prefatory content or references at the end of your book.\n\n\nSection Numbers\nYou can set the numbering depth via the number-depth option. For example, to only number sections immediately below the chapter level, use this:\nnumber-depth: 1\nNote that toc-depth is independent of number-depth (i.e. you can have unnumbered entries in the TOC if they are masked out from numbering by number-depth).\n\n\nCover Images\nYou can provide a cover image for EPUB and/or HTML formats using the cover-image option. For example:\nbook:\n  cover-image: cover.png\nYou can also do this on a per-format basis (if for example you want to provide a higher resolution image for EPUB and a lower resolution image for HTML to reduce download time). For example:\nformat:\n   html: \n     cover-image: cover.png\n   epub:\n     cover-image: cover-highres.png\n\n\nReferences\nYou should include a div with the id #refs at the location in your book where you’d like the bibliography to be generated. For example the references.md file generated by quarto create-project includes this:\n# References {.unnumbered}\n\n::: {#refs}\n:::\nNote that you can change the chapter title to whatever your like, remove .unnumbered to have it be numbered like other chapters, and add other content before or after the bibliography as necessary.\n\n\nParts & Appendices\nYou can divide your book into parts using part within the book chapters. For example:\nchapters:\n  - index.qmd\n  - preface.qmd\n  - part: dice.qmd\n    chapters: \n      - basics.qmd\n      - packages.qmd\n  - part: cards.qmd\n    chapters:\n      - objects.qmd\n      - notation.qmd\n      - modifying.qmd\n      - environments.qmd\nNote that the markdown files dice.md and cards.md contain the part title (as a level one header) as well as some introductory content for the part. If you just need a part title then you can alternatively use this syntax:\n- part: \"Dice\"\n  chapters: \n    - basics.qmd\n    - packages.qmd\nYou can include appendices by adding an appendices key to your book config. For example:\nbook:\n  title: \"mybook\"\n  author: \"Jane Doe\"\n  date: \"5/9/2021\"\n  chapters:\n    - index.qmd\n    - intro.qmd\n    - summary.qmd\n    - references.qmd\n  appendices:\n    - tools.qmd\n    - resources.qmd\n  \nParts and appendices show up like this in HTML output:\n\nIn LaTeX output, the \\part command is used for parts. In EPUB and MS Word output parts are ignored entirely.\nAppendices are numbering using uppercase alpha, and have a prefix inserted into their title to indicate they are an appendix (e.g. “Appendix A — Additional Resources”). You can customize the prefix and delimiter using the following options:\ncrossref:\n  appendix-title: \"App.\"\n  appendix-delim: \":\"\nWhich would result in the above example being out out as: “App. A: Additional Resources”."
  },
  {
    "href": "docs/books/book-authoring.html#reader-tools",
    "title": "Book Authoring",
    "section": "Reader Tools",
    "text": "Sidebar Tools\nBooks automatically include a navigational sidebar that can optionally include tools for searching book contents, sharing links to the book, etc. Here is an example _quarto.yml file that enables these options:\nbook:\n  title: \"Hands-On Programming with R\"\n  author: \"Garrett Grolemund\"\n  search: true\n  repo-url: https://github.com/jjallaire/hopr/\n  repo-actions: [edit]\n  downloads: [pdf, epub]\n  sharing: [twitter, facebook]\n  \ncomments:\n  hypothesis: true\nNote the various tools that now appear:\n\n\nThe search box enables full text search of the entire book\nThe buttons immediately below the book title in the sidebar provide a link to the GitHub repo for the book, downloads for PDF and ePub versions of the book, and links for sharing the book on Twitter and Facebook.\nImmediately below the table of contents on the right there is an “Edit this page” link that takes the reader to the edit interface on GitHub for the current chapter. Note that in this example we specify repo-actions: [edit]. You can optionally also add issue and source actions (e.g. repo-actions: [edit, issue, source]).\nThe Hypothesis commenting bar appears on the far right of the page. Note that commenting is a feature available for all Quarto HTML output so appears in it’s own YAML key.\n\n\nSidebar Options\nNote that books utilize the standard sidebar component from Quarto Websites. This means that you can use any of the available sidebar options within your book configuration. For example, here we specify a docked sidebar with a light background:\nbook:\n  title: \"Hands-On Programming with R\"\n  author: \"Garrett Grolemund\"\n  sidebar:\n    style: docked\n    background: light\n\n\n\nFooter Content\nYou can also use the attribution and page-navigation options to customize book chapter footer:\n\n\n\n\n\n\n\nOption\nDescription\n\n\n\n\nattribution\nAttribution text (e.g. copyright and/or creative commons license) to display at the bottom of book chapters.\n\n\npage-navigation\nProvide navigation to previous and next book chapters (defaults to true)."
  },
  {
    "href": "docs/books/book-authoring.html#cross-references",
    "title": "Book Authoring",
    "section": "Cross References",
    "text": "One important difference between creating a website and a book is that in addition to their web output, books are also rendered as a single contiguous document (e.g a PDF). Books also may or may not be read digitally (which means that internal hyperlinks may or may not be available).\nTo create books that are consumable in all of these mediums, special care should be taken when creating links to other chapters or sections within chapters (note though that if your book targets only HTML output you can feel free to use conventional hyperlinks).\nNote that if you aren’t already familiar with Quarto Cross References you may want to do so before reading on.\n\nChapters and Sections\nTo make a chapter or section reference-able, you should add a #sec id to it’s main heading. For example:\n# Introduction {#sec:introduction}\nYou can then refer to the chapter or section in one of two ways. To create a normal hyperlink, just use the #sec id:\nSee the [Introduction](#sec:introduction)\nHowever, if you expect that your book will be read in print, just providing the chapter name isn’t all that helpful. Here you’ll want to make a numeric reference (e.g. “see Chapter 4” or “see sec. 4.3”). To refer to a section, just include a cross-reference to it:\nSee @sec:geospatial-analysis for additional discussion.\nTo refer to a chapter or appendix you should spell out “Chapter” or “Appendix” and use the number-only form of cross reference:\nSee [Chapter -@sec:visualization] for more details on visualizing model diagnostics.\nNote that normal Pandoc “heading links” (where no ID is specified, e.g. [Introduction]) will not work within books, you need to add an explicit ID to your sections to link to them.\n\n\nChapter Numbering\nIn books, figures, tables and other cross-reference targets automatically include a chapter number. For example, the following markdown located in Chapter 3 of your book:\nAs illustrated in @fig:geo-comparison, the western states have a much higher incidence of forest fires.\nMight be rendered as:\n\nAs illustrated in fig. 3.2, the western states have a much higher incidence of forest fires.\n\nNote that while books do support unnumbered chapters, you naturally cannot create cross-references to content in chapters without numbers.\n\n\nSection Numbers\nBy default, all headings in your document create a numbered section. You customize numbering depth using the number-depth option. For example, to only number sections immediately below the chapter level, use this:\nnumber-depth: 1\nNote that toc-depth is independent of number-depth (i.e. you can have unnumbered entries in the TOC if they are masked out from numbering by number-depth)."
  },
  {
    "href": "docs/books/book-authoring.html#code-execution",
    "title": "Book Authoring",
    "section": "Code Execution",
    "text": "As with standalone Quarto documents, book chapters can be either plain markdown or use computational markdown (via knitr or Jupyter). However, if you have expensive computations in one or more of your chapters this can make the time required to render the entire book unacceptably long. Quarto has a few different tools you can use to overcome this problem.\n\nIncremental Render\nWhen developing a book you are typically rendering only a single chapter to preview what it will look like. Quarto renders chapters incrementally, so for example if you are working on a PDF book and you render chapter 5, you’ll still get a preview of the entire book but with only the chapter 5 changes (the other chapters automatically use previously rendered versions).\n\n\nFreezing\nYou can use the freeze option to denote that computational documents should never be re-rendered, or alternatively only be re-rendered when their source file changes:\nfreeze: true  # never re-render\nfreeze: auto  # re-render only when source changes\nNote that you’ll still want to take care to fully re-render your book when things outside of source code change (e.g. input data). You can remove previously frozen output by deleting the _freeze folder at the root of your book project.\n\n\nCaching\nYou can use the cache option to cache the results of computations (using the knitr cache for Rmd documents, and Jupyter Cache for .ipynb or Jupyter Markdown documents):\ncache: true\nNote that cache invalidation is triggered by changes in chunk source code (or other cache attributes you’ve defined). You may however need to manually refresh the cache if you know that some other input (or even time) has changed sufficiently to warrant an update. To do this, render either individual files or an entire project using the --cache-refresh option:\nquarto render mydoc.qmd --cache-refresh # single doc\nquarto render --cache-refresh           # entire project\n\n\nNo Execute\nFinally, if you are using Jupyter Notebooks as inputs, you may prefer to execute all code within interactive notebook sessions, and never have Quarto execute the code cells:\nexecute: false\nYou can specify this option either globally or per-notebook."
  },
  {
    "href": "docs/books/book-authoring.html#book-output",
    "title": "Book Authoring",
    "section": "Book Output",
    "text": "Location\nBy default, book output is written to the _book directory of your project. You can change this via the output-dir project option. For example:\nproject:\n  type: book\n  output-dir: docs\nSingle file outputs like PDF, EPUB, etc. are also written to the output-dir. Their file name is derived from the book title. You can change this via the output-file option:\nbook:\n  title: \"My Book\"\n  output-file: \"my-book\"\nNote that the output-file should not have a file extension (that will be provided automatically as appropriate for each format).\n\n\nLaTeX Output\nIn some cases you’ll want to do customization of the LaTeX output before creating the final printed manuscript (e.g. to affect how text flows between pages or within and around figures). The best way to approach this is to develop your book all the way to completion, then render with the keep-tex option:\nformat:\n  pdf:\n    keep-tex: true\nThe complete LaTeX source code of your book will be output into the main book source directory (e.g. to “my-book.tex”). This LaTeX can be compiled without Quarto, so is suitable for submitting to an external publisher.\nAt this point you should probably make a copy of the book directory to perform your final LaTeX modifications within (since the modifications you make to LaTeX will not be preserved in your markdown source, and will therefore be overwritten the next time you render)."
  },
  {
    "href": "docs/books/book-authoring.html#custom-styles",
    "title": "Book Authoring",
    "section": "Custom Styles",
    "text": "While the default book output is reasonably attractive for all formats, you may want to provide additional customization.\n\nHTML\nHTML output can be customized either by adding (or enhancing) a custom theme, or by providing an ordinary CSS file. Use the theme option to specify a theme:\nformat:\n  html:\n    theme: cosmo\nTo further customize a theme add a custom theme file:\nformat:\n  html:\n    theme: [cosmo, theme.scss]\nYou can learn more about creating theme files in the documentation on HTML Themes.\nYou can also just use plain CSS. For example:\nformat:\n  html:\n    css: styles.css\n\n\nEPUB\nYou can also use CSS to customize EPUB output:\nformat:\n  epub:\n    css: epub-styles.css\n    epub-cover-image: epub-cover.png\nNote that we also specify a cover image. To learn more about other EPUB options, see the Pandoc documentation on EPUBs.\n\n\nPDF / LaTeX\nYou can include additional LaTeX directives in the preamble of your book using the include-in-header option. You can also add documentclass and other options (see the Pandoc documentation on LaTeX options for additional details). For example:\nformat:\n  pdf: \n    documentclass: scrbook\n    include-in-header: preamble.tex\n    fontfamily: libertinus\nQuarto uses the KOMA Script scrreprt document class by default for PDF books. KOMA-Script classes are drop-in replacements for the standard classes with an emphasis on typography and versatility.\nYou can switch to KOMA scrbook as demonstrated above, or to the standard LaTeX book and report classes. You can find a summary of the differences between book and report here: https://tex.stackexchange.com/questions/36988\n\n\nMS Word\nYou can customize MS Word output by creating a new reference doc, and then applying it to your book as follows:\nformat:\n  docx:\n    reference-doc: custom-reference.docx\nTo create a new reference doc based on the Pandoc default, execute the following command:\nquarto pandoc -o custom-reference.docx --print-default-data-file reference.docx\nThen, open custom-reference.docx in MS Word and modify styles as you wish:\n\n\n\nYou can open the Styles pane from the HOME tab in the MS Word toolbar.\n\n\nWhen you move the cursor to a specific element in the document, an item in the styles list will be highlighted. If you want to modify the style of any type of element, you can click the drop-down menu on the highlighted item, and you will see a dialog box like this:\n\nAfter you finish modifying the styles, you can save the document and use it as the template for future Word documents."
  },
  {
    "href": "docs/computations/execution-options.html#output-options",
    "title": "Execution Options",
    "section": "Output Options",
    "text": "There are a wide variety of options available for customizing output from executed code. All of these options can be specified either globally (in the document front-matter) or per code-block. For example, here’s a modification of the Python example to specify that we don’t want to “echo” the code into the output document:\n---\ntitle: \"My Document\"\nexecute:\n  echo: false\njupyter: python3\n---\nNote that we can override this option on a per code-block basis. For example:\n```{python}\n#| echo: true\n\nimport matplotlib.pyplot as plt\nplt.plot([1,2,3,4])\nplt.show()\n```\nCode block options are included in a special comment at the top of the block (lines at the top prefaced with #| are considered options).\nOptions available for customizing output include:\n\n\n\n\n\n\n\nOption\nDescription\n\n\n\n\neval\nEvaluate the code chunk (if false, just echos the code into the output).\n\n\necho\nInclude the source code in output\n\n\noutput\nInclude the results of executing the code in the output\n\n\nwarning\nInclude warnings in the output.\n\n\nerror\nInclude errors in the output (note that this implies that errors executing code will not halt processing of the document).\n\n\ninclude\nCatch all for preventing any output (code or results) from being included (e.g. include: false suppresses all output from the code block).\n\n\n\nHere’s a Knitr example with some of these additional options included:\n---\ntitle: \"Knitr Document\"\nexecute:\n  echo: false\n---\n\n```{r}\n#| warning: false\n\nlibrary(ggplot2)\nggplot(airquality, aes(Temp, Ozone)) + \n        geom_point() + \n        geom_smooth(method = \"loess\", se = FALSE)\n```\n\n```{r}\nsummary(airquality)\n```\n\n\n\n\n\n\nTip\n\n\n\nWhen using the Knitr engine, you can also use any of the available native options (e.g. collapse, tidy, comment, etc.). See the Knitr options documentation for additional details. You can include these native options in option comment blocks as shown above, or on the same line as the {r} as shown in the Knitr documentation."
  },
  {
    "href": "docs/computations/execution-options.html#figure-options",
    "title": "Execution Options",
    "section": "Figure Options",
    "text": "There are a number of ways to control the default width and height of figures generated from code. First, it’s important to know that Quarto sets a default width and height for figures appropriate to the target output format. Here are the defaults (expressed in inches):\n\n\n\nFormat\nDefault\n\n\n\n\nDefault\n7 x 5\n\n\nHTML Slides\n9.5 x 6.5\n\n\nHTML Slides (reveal.js)\n9 x 5\n\n\nPDF\n6.5 x 4.5\n\n\nPDF Slides (Beamer)\n10 x 7\n\n\nPowerPoint\n7.5 x 5.5\n\n\nMS Word, ODT, RTF\n5 x 4\n\n\nEPUB\n5 x 4\n\n\nHugo\n8 x 5\n\n\n\nThese defaults were chosen to provide attractive well proportioned figures, but feel free to experiment to see whether you prefer another default size. You can change the default sizes using the fig-width and fig-height options. For example:\n---\ntitle: \"My Document\"\nformat: \n  html:\n    fig-width: 8\n    fig-height: 6\n  pdf:\n    fig-width: 7\n    fig-height: 5\n---\nHow do these sizes make their way into the engine-level defaults for generating figures? This differs by engine:\n\nFor the Knitr engine, these values become the default values for the fig.width and fig.height chunk options. You can override these default values via chunk level options.\nFor the Jupyter engine, these values are used to set the Matplotlib figure.figsize rcParam (you can of course manually override these defaults for any given plot).\nIf you are using another graphics library with Jupyter and want to utilize these values, you can read them from QUARTO_FIG_WIDTH and QUARTO_FIG_HEIGHT environment variables.\n\n\nCaption and Alt Text\nYou can specify the caption and alt text for figures generated from code using the fig-cap and fig-alt options. For example, here we add these options to a Python code cell that creates a plot:\n```{python}\n#| fig-cap: \"Polar axis plot\"\n#| fig-alt: \"A line plot on a polar axis\"\n\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nr = np.arange(0, 2, 0.01)\ntheta = 2 * np.pi * r\nfig, ax = plt.subplots(subplot_kw={'projection': 'polar'})\nax.plot(theta, r)\nax.set_rticks([0.5, 1, 1.5, 2])\nax.grid(True)\nplt.show()\n```"
  },
  {
    "href": "docs/computations/execution-options.html#intermediates",
    "title": "Execution Options",
    "section": "Intermediates",
    "text": "On the way from markdown input to final output, there are some intermediate files that are created and automatically deleted at the end of rendering. You can use the following options to keep these intermediate files:\n\n\n\n\n\n\n\nOption\nDescription\n\n\n\n\nkeep-md\nKeep the markdown file generated by executing code.\n\n\nkeep-ipynb\nKeep the notebook file generated from executing code (applicable only to markdown input files)\n\n\n\nFor example, here we specify that we want to keep both the markdown intermediate file after rendering:\n---\ntitle: \"My Document\"\nexecute:\n  keep-md: true\njupyter: python3\n---"
  },
  {
    "href": "docs/computations/execution-options.html#engine-options",
    "title": "Execution Options",
    "section": "Engine Options",
    "text": "Caching\nQuarto integrates with the Jupyter Cache and Knitr Cache to to cache time consuming code chunks. Note that to use Jupyter Cache you’ll want to install the jupyter-cache package:\n\n\n\n\n\n\n\nPlatform\nCommand\n\n\n\n\nWindows\npy -m pip install jupyter-cache\n\n\nMac/Linux\npython3 -m pip install jupyter-cache\n\n\n\nTo enable caching for a document just add the cache option:\nexecute: \n  cache: true\nYou can also use `quarto` command line options to control caching behavior without changing the document’s code. Use options to force the use of caching on all chunks, disable the use of caching on all chunks (even if it’s specified in options), or to force a refresh of the cache even if it has not been invalidated:\nquarto render example.qmd --cache \nquarto render example.qmd --no-cache \nquarto render example.qmd --cache-refresh \nNote that for Jupyter, the cache for a document is invalidated if any of the code blocks change. For Knitr, invalidation occurs on a per-cell basis.\n\n\nDisabling Execution\nIn some cases, you may want to prevent execution entirely. This is especially useful if you author using a standard notebook editor (e.g. JupyterLab) and plan on executing chunks only within the notebook UI. Specify execute: false to skip execution when rendering (you’ll naturally still get the output that was generated within the notebook editor):\nexecute: false\nIf you are temporarily disabling execution and don’t want to overwrite other execute options, you can alternatively just add enabled: false to the execute options:\nexecute:\n  enabled: false\n  echo: true\n  warning: false\nYou might want to have different execution policies for Jupyter Notebooks (.ipynb) and text-based computational markdown (.qmd). You can do this using the ipynb option:\nexecute:\n  ipynb: false\nYou might use this option if you are implementing of policy of having all notebook execution occur within Jupyter / JupyterLab, while having Quarto still handle converting the notebook to HTML, PDF, etc.\n\n\nJupyter Kernel\nThe Jupyter kernel is determined using the jupyter metdata option. For example, to use the Xeus Python kernel, do this:\n---\ntitle: \"My Document\"\njupyter: xpython\n---\nNote that you can also provide a full kerenlspec, for example:\n---\ntitle: \"My Document\"\njupyter: \n  kernelspec:\n    name: \"xpython\"\n    language: \"python\"\n    display_name: \"Python 3.7 (XPython)\"\n---\nIf no Jupyter kernel is specified, then the kernel is determined by finding an available kernel that supports the language of the first executable code block found within the file (e.g. ```{python}).\n\n\nJupyter Daemon\nTo mitigate the ~ 2 second start-up time for the Jupyter Python kernel (and potentially much longer start-up times for other kernels), Quarto keeps a daemon with a running Jupyter kernel alive for each document. This enables subsequent renders to proceed immediately without having to wait for kernel start-up.\nThe purpose of the daemon is to make render more responsive during interactive sessions. Accordingly, no daemon is created when documents are rendered without an active tty or when they are part of a batch rendering (e.g. in a Quarto Project).\n\n\n\n\n\n\nNote\n\n\n\nNote that Quarto does not use a daemon by default on Windows (as some Windows systems will not allow the socket connection required by the daemon).\n\n\nYou can customize this behavior using the daemon execution option. Set it to false to prevent the use of a daemon, or set it to a value (in seconds) to determine the period after which the daemon will timeout (the default is 300 seconds). For example:\nexecute:\n  daemon: false\nexecute:\n  daemon: 60\nNote that if you want to use a daemon on Windows you need to enable it explicitly:\nexecute:\n  daemon: true\n\nCommand Line\nYou can also control use of the Jupyter daemon using the following command line options:\n# use a daemon w/ default timeout (300 sec)\nquarto render document.qmd --execute-daemon\n\n# use a daemon w/ an explicit timeout\nquarto render document.qmd --execute-daemon 60\n\n# prevent use of a daemon\nquarto render document.qmd --no-execute-daemon\nYou can also force an existing daemon to restart using the --execute-daemon-restart command line flag:\nquarto render document.qmd --execute-daemon-restart \nThis might be useful if you suspect that the re-use of notebook sessions is causing an error.\nFinally, you can print extended debugging information about daemon usage (startup, shutdown, connections, etc.) using the --execute-debug flag:\nquarto render document.qmd --execute-debug"
  },
  {
    "href": "docs/computations/running-code.html#overview",
    "title": "Running Code",
    "section": "Overview",
    "text": "Quarto supports executable code blocks within markdown. This allows you to create fully reproducible documents and reports—the code required to produce your output is part of the document itself, and is automatically re-run whenever the document is rendered.\nThere are currently two engines supported for running computations:\n\nJupyter, for running code from Python, Julia, and many other languages.\nKnitr, for running code from R.\n\nExtensive customization of code chunk output is supported, including the ability to hide code and/or output as well as fold code (make it visible only on demand)."
  },
  {
    "href": "docs/computations/running-code.html#code-blocks",
    "title": "Running Code",
    "section": "Code Blocks",
    "text": "Code blocks that use braces around the language name (e.g. ```{python}) are executable, and will be run by Quarto during render. Here are a couple of simple examples in Python and R to illustrate (the output produced by the code block is shown on the Output tab):\n\nPython (Jupyter)\nCodeOutput\n\n\n---\ntitle: \"Jupyter Document\"\nformat: \n  html:\n    code-background: true\njupyter: python3\n---\n\n```{python}\nimport matplotlib.pyplot as plt\nplt.plot([1,2,3,4])\nplt.show()\n```\n\n```{python}\nimport pandas as pd\nd = {'one' : [1., 2., 3., 4.],\n     'two' : [4., 3., 2., 1.]}\ndf = pd.DataFrame(d)\ndf\n```\n\n\n\n\n\nNote that we added the code-background: true option to provide a background color for the code chunks (see the documentation on Code Block options for additional details on customizing code block output).\n\n\nR (Knitr)\nCodeOutput\n\n\n---\ntitle: \"Knitr Document\"\nformat: \n  html:\n    code-background: true\nexecute:\n  warning: false\n---\n\n```{r}\nlibrary(ggplot2)\nggplot(airquality, aes(Temp, Ozone)) + \n        geom_point() + \n        geom_smooth(method = \"loess\", se = FALSE)\n```\n\n```{r}\nsummary(airquality)\n```\n\n\n\n\n\nNote that we added the execute: warning: false option to suppress printing of warnings. See Execution Options for additional details.\nYou can produce a wide variety of output types from executable code blocks, including:\n\nStatic plots (e.g. from matplotlib or ggplot2).\nInteractive plots (e.g. from plotly or leaflet).\nTabular output (e.g. from printing R or Pandas data frames)\nPlain text output (e.g. printing the results of statistical summaries).\n\n\n\nNon-Executable Blocks\nNote that code blocks that use convential markdown code block syntax (either ```python or ```{.python}) are not executable:\n\n\n\n\n\n\n\nCode Block Syntax\nExecutable?\n\n\n\n\n```{python}\n1 + 1\n```\nYes\n\n\n```python\n1 + 1\n```\nNo\n\n\n```{.python}\n1 + 1\n```\nNo\n\n\n\nNon-executable code blocks are printed but not executed."
  },
  {
    "href": "docs/computations/running-code.html#rendering",
    "title": "Running Code",
    "section": "Rendering",
    "text": "Markdown\nQuarto will automatically run computations in any markdown document that contains executable code blocks. For example, the Python example shown above might be rendered with:\nquarto render jupyter-document.qmd\nThe R example might have been rendered with:\nquarto render knitr-document.qmd\n\n\nNotebooks\nThe Python example above uses a markdown input file, Quarto can also render any Jupyter notebook (.ipynb):\nquarto render jupyter-document.ipynb\nNote that when rendering an .ipynb Quarto will not execute the cells within the notebook by default (the presumption being that you already executed them while editing the notebook). If you want to execute the cells you can pass the --execute flag to render:\nquarto render jupyter-document.ipynb --execute\nYou can also specify this behavior within the notebook’s YAML front matter:\n---\ntitle: \"My Document\"\nexecute: true\njupyter: python3\n---"
  },
  {
    "href": "docs/computations/running-code.html#inline-code",
    "title": "Running Code",
    "section": "Inline Code",
    "text": "Both Jupyter and Knitr support executing inline code within markdown (e.g. to allow narrative to automatically use the most up to date computations). The syntax for this varies across the engines.\n\nJupyter\nTo include executable expressions within markdown in a Jupyter notebook, you use IPython.display.Markdown to dynamically generate markdown from within an ordinary code cell. For example, if we have a variable radius we can use it within markdown as follows:\n```{python}\n#| echo: false\n\nfrom IPython.display import Markdown\nMarkdown(\"\"\"\n## Circle\n\nThe radius of the circle is {radius}.\n\"\"\".format(radius = radius))\n```\nNote that we also include the echo: false option to ensure that the code used to generate markdown isn’t included in the final output.\n\n\nKnitr\nTo include executable expressions within markdown for Knitr, enclose the expression in `r `. For example, if we have a variable radius we can use it within markdown as follows:\n## Circle\n\nThe radius of the circle is `r radius`."
  },
  {
    "href": "docs/computations/running-code.html#engine-binding",
    "title": "Running Code",
    "section": "Engine Binding",
    "text": "Earlier we said that the engine used for computations was determined automatically. You may want to customize this—for example you may want to use the Jupyter R kernel rather than Knitr, or you may want to use Knitr with Python code (via reticulate).\nHere are the basic rules for automatic binding:\n\n\n\n\n\n\n\nExtension\nEngine Binding\n\n\n\n\n.qmd\nUse Knitr engine if an {r} code block is discovered within the file\nUse Jupyter engine if an executable code block (e.g. {python}) is discovered within the file. The kernel used is determined based on the language of the first executable code block discovered.\nUse no engine if no executable code blocks are discovered.\n\n\n.ipynb\nJupyter engine\n\n\n.Rmd\nKnitr engine\n\n\n.md\nNo engine\n\n\n\nYou can override the engine used via the engine option. For example:\nengine: jupyter\nengine: knitr\nYou can also specify that no execution engine should be used via engine: markdown.\nThe presence of the knitr or jupyter option will also override the default engine:\nknitr: true\njupyter: python3\nVariations with additional engine-specific options also work to override the default engine:\nknitr:\n  opts_knit:\n    verbose: true\njupyter:\n  kernelspec:\n    display_name: Python 3\n    language: python\n    name: python3"
  },
  {
    "href": "docs/computations/parameters.html#overview",
    "title": "Parameters",
    "section": "Overview",
    "text": "You may have a set of parameters that are used to create different variations of a report. For example:\n\nShowing results for a specific geographic location.\nRunning a report that covers a specific time period.\nRunning a single analysis multiple times for different assumptions.\n\nThis article describes how to define and use computational parameters with Quarto."
  },
  {
    "href": "docs/computations/parameters.html#definition",
    "title": "Parameters",
    "section": "Definition",
    "text": "Adding parameter definitions to a document works differently depending on whether you are using the Jupyter or Knitr engine.\n\nJuypter\nFor Jupyter, Quarto uses the same syntax for defining parameters as Papermill. To parameterize a notebook, designate a cell with the tag parameters and provide appropriate default values:\n```{python}\n#| tags: [parameters]\n\nalpha = 0.1\nratio = 0.1\n```\nWhen the notebook is executed with a set of new parameters a cell is injected which overrides these defaults as appropriate.\n\n\nKnitr\nFor Knitr, the standard Knitr params YAML option is used to define parameters. For example:\n---\ntitle: \"My Document\"\nparams:\n  alpha: 0.1\n  ratio: 0.1\n---"
  },
  {
    "href": "docs/computations/parameters.html#rendering",
    "title": "Parameters",
    "section": "Rendering",
    "text": "To render using different parameters you can pass them on the command line using the -P flag:\nquarto render notebook.ipynb -P alpha:0.2 -P ratio:0.3\nAlternatively you can create a YAML file that defines the parameter values you want to render with, then call quarto render with the --execute-params flag:\nquarto render notebook.ipynb --execute-params params.yml"
  },
  {
    "href": "docs/authoring/cross-references.html#overview",
    "title": "Cross References",
    "section": "Overview",
    "text": "Cross-references make it easier for readers to navigate your document by providing numbered references and hyperlinks to various entities like figures and tables. Every cross-referenceable entity requires a label (unique identifier) and caption (description). For example, this is a cross-referenceable figure:\n![Elephant](elephant.png){#fig-elephant}\nThe presence of the caption (Elephant) and label (#fig-elephant) make this figure referenceable. This enables you to use the following syntax to refer to it elsewhere in the document:\nSee @fig-elephant for an illustration.\nHere is what this would look like rendered to HTML:\n\nQuarto enables you to create cross-references to figures, tables, equations, sections, code listings, theorems, proofs, and more. Cross references can also be applied to dynamic output from knitr and Jupyter. The inline reference text (“fig. 1” in the above example) can also be customized (e.g. “figure 1” rather than the abbreviation).\n\n\n\n\n\n\nNote\n\n\n\nQuarto’s syntax for cross-references is based on pandoc-crossref (which is in turn based on this discussion: https://github.com/jgm/pandoc/issues/813). There are however several differences (mostly related to handling computational output) to note:\n\nQuarto uses the prefix #fig- rather than #fig: (which is more compatible with Jupyter notebook cell ids).\nQuarto is able to reference raw HTML and LaTeX figures and tables (which are often produced by executable code blocks).\nQuarto has support for referencing theorems and proofs (and related types)."
  },
  {
    "href": "docs/authoring/cross-references.html#figures",
    "title": "Cross References",
    "section": "Figures",
    "text": "As described above, this is the markdown used to create a cross-referenceable figure and then refer to it:\n![Elephant](elephant.png){#fig-elephant}\n\nSee @fig-elephant for an illustration.\n\nSubfigures\nYou may want to create a figure composed of multiple subfigures. To do this, enclose the figures in a div (with it’s own label and caption) and give each subfigure it’s own label and caption. You can then refer to either the entire figure in a reference or a single subfigure:\n::: {#fig-elephants layout-ncol=2}\n\n![Surus](surus.png){#fig-surus}\n\n![Hanno](hanno.png){#fig-hanno}\n\nFamous Elephants\n:::\n\nSee @fig-elephants for examples. In particular, @fig-hanno.\nHere is what this looks like when rendered as HTML:\n\nNote that we also used the layout-ncol attribute to specify a two-column layout. See the article on Figures and Layout for more details on laying out panels of figures.\n\n\nComputations\nFigures produced by Jupyter and Knitr can also be cross-referenced. To do this, add a label and fig-cap option at the top of the code block. For example:\nJupyterKnitr\n\n\n```{python}\n#| label: fig-plot\n#| fig-cap: \"Plot\"\n\nimport matplotlib.pyplot as plt\nplt.plot([1,23,2,4])\nplt.show()\n```\n\nFor example, see @fig-plot.\n\n\n\n```{r}\n#| label: fig-plot\n#| fig-cap: \"Plot\"\n\nplot(cars)\n```\n\nFor example, see @fig-plot.\n\n\n\nYou can also create multiple figures within a Jupyter code cell and reference them as subfigures. To do this use fig-cap for the main caption, and fig-subcap to provide an array of subcaptions. For example:\n```{python}\n#| label: fig-plots\n#| fig-cap: \"Plots\" \n#| fig-subcap:\n#|   - \"Plot 1\"\n#|   - \"Plot 2\" \n#| layout-ncol: 2\n\nimport matplotlib.pyplot as plt\nplt.plot([1,23,2,4])\nplt.show()\n\nplt.plot([8,65,23,90])\nplt.show()\n```\n\nSee @fig-plots for examples. In particular, @fig-plots-2.\n\nNote that subfigure reference labels are created automatically based on the main chunk label (e.g. @fig-plots-1, @fig-plots-2, etc.)."
  },
  {
    "href": "docs/authoring/cross-references.html#tables",
    "title": "Cross References",
    "section": "Tables",
    "text": "To create a cross-referenceable table, add a caption to the table then include a #tbl- label in braces at the end of the caption. For example:\n| Col1 | Col2 | Col3 |\n|------|------|------|\n| A    | B    | C    |\n| E    | F    | G    |\n| A    | G    | G    |\n\n: My Caption {#tbl-letters}\n\nSee @tbl-letters.\n\nYou may want to create a composition of several sub-tables. To do this, create a div with a main identifier, then apply sub-identifiers within the caption of contained tables. For example:\n::: {#tbl-panel layout-ncol=2}\n| Col1 | Col2 | Col3 |\n|------|------|------|\n| A    | B    | C    |\n| E    | F    | G    |\n| A    | G    | G    |\n\n: First Table {#tbl-first}\n\n| Col1 | Col2 | Col3 |\n|------|------|------|\n| A    | B    | C    |\n| E    | F    | G    |\n| A    | G    | G    |\n\n: Second Table {#tbl-second}\n\nMain Caption\n:::\n\nSee @tbl-panel for details, especially @tbl-second.\n\nNote that the “Main Caption” for the table is provided as the last block within the containing div.\n\nComputations\nYou can also cross-reference tables created from code executed via Knitr or Jupyter. To do this, add a tbl-cap attribute and include #tbl- labels within the captions of the sub-tables. For example:\n```{r}\n#| label: tbl-tables\n#| tbl-cap: \"Tables\"\n#| layout-ncol: 2\n\nlibrary(knitr)\nkable(head(cars), caption = \"Cars {#tbl-cars}\")\nkable(head(pressure), caption = \"Pressure {#tbl-pressure}\")\n```"
  },
  {
    "href": "docs/authoring/cross-references.html#equations",
    "title": "Cross References",
    "section": "Equations",
    "text": "Provide an #eq- label immediately after an equation to make it referenceable. For example:\nBlack-Scholes (@eq-black-scholes) is a mathematical model that seeks to explain the behavior of financial derivatives, most commonly options:\n\n$$\n\\frac{\\partial \\mathrm C}{ \\partial \\mathrm t } + \\frac{1}{2}\\sigma^{2} \\mathrm S^{2}\n\\frac{\\partial^{2} \\mathrm C}{\\partial \\mathrm C^2}\n  + \\mathrm r \\mathrm S \\frac{\\partial \\mathrm C}{\\partial \\mathrm S}\\ =\n  \\mathrm r \\mathrm C \n$$ {#eq-black-scholes}\n\nNote that the equation number is included (via \\qquad) in the right margin of the equation."
  },
  {
    "href": "docs/authoring/cross-references.html#sections",
    "title": "Cross References",
    "section": "Sections",
    "text": "To reference a section, add a #sec- identifier to any heading. For example:\n## Introduction {#sec-introduction}\n\nSee @sec-introduction for additional context.\nNote that when using section cross-references, you will also need to enable the number-sections option (so that section numbering is visible to readers). For example:\n---\ntitle: \"My Document\"\nnumber-sections: true\n---"
  },
  {
    "href": "docs/authoring/cross-references.html#code-listings",
    "title": "Cross References",
    "section": "Code Listings",
    "text": "To create a reference-able code block, add a #lst- identifier along with a lst-cap attribute. For example:\n```{#lst-customers .sql lst-cap=\"Customers Query\"}\nSELECT * FROM Customers\n```\n\nThen we query the customers database (@lst-customers)."
  },
  {
    "href": "docs/authoring/cross-references.html#theorems-and-proofs",
    "title": "Cross References",
    "section": "Theorems and Proofs",
    "text": "Theorems are commonly used in articles and books in mathematics. To include a reference-able theorem, create a div with a #thm- label (or one of other theorem-type labels described below). You also need to specify a theorem name either via the first heading in the block. You can include any content you like within the div. For example:\n::: {#thm-line}\n## Line\n\nThe equation of any straight line, called a linear equation, can be written as:\n\n$$\ny = mx + b\n$$\n:::\n\nSee @thm-line.\n\nFor LaTeX output, the amsthm package is used for typesetting theorems. For other formats an appropriate treatment is used (the above is an example of HTML output).\nThere are a number of theorem variations supported, each with their own label prefix:\n\n\n\nLabel Prefix\nPrinted Name\nLaTeX Environment\n\n\n\n\n#thm-\nTheorem\ntheorem\n\n\n#lem-\nLemma\nlemma\n\n\n#cor-\nCorollary\ncorollary\n\n\n#prp-\nProposition\nproposition\n\n\n#cnj-\nConjecture\nconjecture\n\n\n#def-\nDefinition\ndefinition\n\n\n#exm-\nExample\nexample\n\n\n#exr-\nExercise\nexercise\n\n\n\nThe proof, remark, and solution environments generally receive similar typesetting as theorems, however they are not numbered (and therefore cannot be cross-referenced). To create these environments just use them as the class name of a div:\n::: {.solution}\nThe solution.\n:::\nAs with theorems you can optionally include a heading as the first element of the div (or a name attribute) to give the environment a caption for typesetting (this typically appears in parentheses after the environment title).\nFor LaTeX output the amsthm package is used to typeset these environments. For other formats a similar treatment is used, but you can further customizing this using CSS."
  },
  {
    "href": "docs/authoring/cross-references.html#references",
    "title": "Cross References",
    "section": "References",
    "text": "The examples above have all used the default syntax for inline references (e.g. @fig-elephant), which results in the use a short abbreviation for each object type (e.g. “fig. 1”, “tbl. 1”, etc.).\nYou can customize the appearance of inline references by either changing the syntax of the inline reference or by setting options. Here are the various ways to compose a cross-reference and their resulting output:\n\n\n\nType\nSyntax\nOutput\n\n\n\n\nDefault\n@fig-elephant\nfig. 1\n\n\nCapitalized\n@Fig-elephant\nFig. 1\n\n\nCustom Prefix\n[Figure @fig-elephant]\nFigure 1\n\n\nNo Prefix\n[-@fig-elephant]\n1\n\n\n\nYou can also group cross references using the following syntax:\nAs illustrated in [@fig-elephant; @fig-panther; @fig-rabbit].\nThere are a number of options that can be used to further customize the treatment of cross-references. See the section below on References Options for additional details."
  },
  {
    "href": "docs/authoring/cross-references.html#chapter-numbering",
    "title": "Cross References",
    "section": "Chapter Numbering",
    "text": "You can use the crossref: chapters option to indicate that top-level headings (H1) in your document correspond to chapters, and that cross-references should be sub-numbered by chapter. For example:\n---\ntitle: \"My Document\"\nauthor: \"Jane Doe\"\ncrossref:\n  chapters: true\n---\n\n# Introduction\n\n![Elephant](elephant.png){#fig-elephant}\n\nSee @fig-elephant for an illustration."
  },
  {
    "href": "docs/authoring/cross-references.html#lists",
    "title": "Cross References",
    "section": "Lists",
    "text": "For LaTeX / PDF output, you can use the raw LaTeX commands \\listoffigures, \\listoftables and \\listoflistings to produce listings of all figures, tables, etc. within a document. You can use the lof-title, lot-title, and lol-title crossref options to customize the title of the listing.\nFor example:\n---\ntitle: \"My Document\"\ncrossref:\n  lof-title: \"List of Figures\"\nformat: pdf\n---\n\n\\listoffigures\nNote that the default titles for the lists use the form displayed above (i.e. “List of…<Type>”)."
  },
  {
    "href": "docs/authoring/cross-references.html#options",
    "title": "Cross References",
    "section": "Options",
    "text": "There are a wide variety of options available for customizing caption labels and references. These options are all specified within the crossref key of document metadata.\n\nTitles\nYou can specify the title prefix used for captions using *-title options. You can also specify the delimiter used between the prefix and the caption using the title-delim option. For example:\n---\ntitle: \"My Document\"\ncrossref:\n  fig-title: Fig     # (default is \"Figure\")\n  tbl-title: Tbl     # (default is \"Table\")\n  title-delim: —     # (default is \":\")\n---\n\n\nReferences\nYou can specify the prefix used for inline reference type using *-prefix options. You can also specify whether references should be hyper-linked using the ref-hyperlink option. For example:\n---\ntitle: \"My Document\"\ncrossref:\n  fig-prefix: figure   # (default is \"fig.\")\n  tbl-prefix: table    # (default is \"tbl.\")\n  ref-hyperlink: false # (default is true)\n---\n\n\nNumbering\nThere are a variety of numbering schemes available for cross-references, including:\n\narabic (1, 2, 3)\nroman (I, II, III, IV)\nroman i (i, ii, iii, iv)\nalpha x (start from letter ‘x’)\nalpha X (start from letter ‘X’)\n\nYou can specify the number scheme used for all types (other than sub-references) using the labels option. For sub-references (e.g. subfigures), you can specify the number scheme using the subref-labels option. For example:\n---\ntitle: \"My Document\"\ncrossref:\n  labels: alpha a        # (default is arabic)\n  subref-labels: roman i # (default is alpha a)\n---\nIf you would like, you can specify the number scheme for a specific type using the *-labels options. For example:\n---\ntitle: \"My Document\"\ncrossref:\n  fig-labels: alpha a    # (default is arabic)\n  tbl-labels: alpha a    # (default is arabic)\n  subref-labels: roman i # (default is alpha a)\n---\nIf both labels and a type specific label option is provided, the type specific option will override the labels option."
  },
  {
    "href": "docs/authoring/footnotes-and-citations.html#citations",
    "title": "Citations & Footnotes",
    "section": "Citations",
    "text": "Quarto will use Pandoc to automatically generate citations and a bibliography in a number of styles. To use this capability, you will need:\n\nA quarto document formatted with citations (see Citation Markdown).\nA bibliographic data source, for example a BibTeX (.bib) file.\nOptionally, a CSL file which specifies the formatting to use when generating the citations and bibliography.\n\n\nBibliography Files\nQuarto supports bibliography files in a wide variety of formats including BibTeX and CSL. Add a bibliography to your document using the bibliography YAML metadata field. For example:\n---\ntitle: \"My Document\"\nbibliography: references.bib\n---\n\n\n\n\n\n\nTip\n\n\n\nYou can provide more than one bibliography file if you would like by setting the bibliography field’s value to a YAML array.\n\n\nSee the Pandoc Citations documentation for additional information on bibliography formats.\n\n\nCitation Syntax\nQuarto uses the standard Pandoc markdown representation for citations (e.g. [@citation]) — citations go inside square brackets and are separated by semicolons. Each citation must have a key, composed of ‘@’ + the citation identifier from the database, and may optionally have a prefix, a locator, and a suffix. The citation key must begin with a letter, digit, or _, and may contain alphanumerics, _, and internal punctuation characters (:.#$%&-+?<>~/). Here are some examples:\n\n\n\n\n\n\n\nMarkdown Format\nOutput\n\n\n\n\nBlah Blah [see @knuth1984, pp. 33-35;\nalso @wickham2015, chap. 1]\nBlah Blah [see Knuth (1984), pp. 33-35; also Wickham (2015), chap. 1]\n\n\nBlah Blah [@knuth1984, pp. 33-35,\n38-39 and passim]\nBlah Blah [Knuth (1984), pp. 33-35, 38-39 and passim]\n\n\nBlah Blah [@wickham2015; @knuth1984].\nBlah Blah (Wickham 2015; Knuth 1984).\n\n\nWickham says blah [-@wickham2015]\nWickham says blah (2015)\n\n\n\nYou can also write in-text citations, as follows:\n\n\n\n\n\n\n\nMarkdown Format\nOutput\n\n\n\n\n@knuth1984 says blah.\nKnuth (1984) says blah.\n\n\n@knuth1984 [p. 33] says blah.\nKnuth (1984, 33) says blah.\n\n\n\nSee the Pandoc Citations documentation for additional information on citation syntax.\n\n\nCitation Style\nQuarto uses Pandoc to format citations and bibliographies. By default, Pandoc will use the Chicago Manual of Style author-date format, but you can specify a custom formatting using CSL (Citation Style Language). To provide a custom citation stylesheet, provide a path to a CSL file using the csl metadata field in your document, for example:\n---\ntitle: \"My Document\"\nbibliography: references.bib\ncsl: nature.csl\n---\nYou can find CSL files or learn more about using styles at the CSL Project. You can browse the list of more than 8,500 Creative Commons CSL definitions in the CSL Project’s central repository or Zotero’s style repository.\n\n\nBibliography Generation\nPandoc will automatically generate a list of works cited and place it in the document if the style calls for it. It will be placed in a div with the id refs if one exists:\n### References\n\n::: {#refs}\n:::\nIf no such div is found, the works cited list will be placed at the end of the document.\n\n\n\n\n\n\nTip\n\n\n\nYou can suppress generation of a bibliography by including suppress-bibliography: true option in your document metadata\n\n\nHere’s an example of a generated bibliography:\n\n\nKnuth, Donald E. 1984. “Literate Programming.” The Computer Journal 27 (2): 97–111.\n\n\nWickham, Hadley. 2015. R Packages. 1st ed. O’Reilly Media, Inc.\n\n\n\n\nIncluding Uncited Items\nIf you want to include items in the bibliography without actually citing them in the body text, you can define a dummy nocite metadata field and put the citations there:\n---\nnocite: |\n  @item1, @item2\n---\n\n@item3\nIn this example, the document will contain a citation for item3 only, but the bibliography will contain entries for item1, item2, and item3.\nIt is possible to create a bibliography with all the citations, whether or not they appear in the document, by using a wildcard:\n---\nnocite: |\n  @*\n---"
  },
  {
    "href": "docs/authoring/footnotes-and-citations.html#footnotes",
    "title": "Citations & Footnotes",
    "section": "Footnotes",
    "text": "Pandoc supports numbering and formatting footnotes using the following syntax:\nHere is a footnote reference,[^1] and another.[^longnote]\n\n[^1]: Here is the footnote.\n\n[^longnote]: Here's one with multiple blocks.\n\n    Subsequent paragraphs are indented to show that they\nbelong to the previous footnote.\n\n        { some.code }\n\n    The whole paragraph can be indented, or just the first\n    line.  In this way, multi-paragraph footnotes work like\n    multi-paragraph list items.\n\nThis paragraph won't be part of the note, because it\nisn't indented.\n\nOutput\nHere is a footnote reference,1 and another.2\nThis paragraph won’t be part of the note, because it isn’t indented.\nIn addition, you can also write single paragraph footnotes inline using the following syntax:\nHere is an inline note.^[Inlines notes are easier to write,\nsince you don't have to pick an identifier and move down to\ntype the note.]\n\n\nOutput\nHere is an inline note.3\nThe footnotes that are generated from the above examples are included in the following section. See the Pandoc Footnotes for additional information."
  },
  {
    "href": "docs/authoring/callouts.html#callout-types",
    "title": "Callout Blocks",
    "section": "Callout Types",
    "text": "There are five different types of callouts available.\n\nnote\ntip\nimportant\ncaution\nwarning\n\nThe color and icon will be different depending upon the type that you select. Here are what the various types look like in HTML output:\n\n\n\n\n\n\nNote\n\n\n\nNote that there are five types of callouts, including: note, tip, warning, caution, and important.\n\n\n\n\n\n\n\n\nTip With Caption\n\n\n\nThis is an example of a callout with a caption.\n\n\n\n\n\n\n\n\nThis is Important\n\n\n\nDanger, callouts will really improve your writing.\n\n\n\n\n\n\n\n\nWarning\n\n\n\nCallouts provide a simple way to attract attention, for example, to this warning.\n\n\n\n\n\n\n\n\nExpand To Learn About Collapse\n\n\n\n\n\nThis is an example of a ‘collapsed’ caution callout that can be expanded by the user. You can use collapse=\"true\" to collapse it by default or collapse=\"false\" to make a collapsible callout that is expanded by default."
  },
  {
    "href": "docs/authoring/callouts.html#markdown-syntax",
    "title": "Callout Blocks",
    "section": "Markdown Syntax",
    "text": "Create callouts in markdown using the following syntax (note that the first markdown heading used within the callout is used as the callout heading):\n:::{.callout-note}\nNote that there are five types of callouts, including:\n`note`, `tip`, `warning`, `caution`, and `important`.\n:::\n\n:::{.callout-tip}\n## Tip With Caption\n\nThis is an example of a callout with a caption.\n:::\n\n:::{.callout-caution collapse=\"true\"}\n## Expand To Learn About Collapse\n\nThis is an example of a 'folded' caution callout that can be expanded by the user. You can use `collapse=\"true\"` to collapse it by default or `collapse=\"false\"` to make a collapsible callout that is expanded by default.\n:::"
  },
  {
    "href": "docs/authoring/callouts.html#customizing-appearance",
    "title": "Callout Blocks",
    "section": "Customizing Appearance",
    "text": "Collapse\nYou can create ‘folded’ callouts that can be expanded by the user by settings the collapse attribute on the callout. If you set collapse=true, the callout will be expandable, but will be collapsed by default. If you set collapse=false, the callout will be expanded, but will be expanded by default.\n\n\nAppearance\nCallouts have 3 different looks you can use.\n\n\n\n\n\n\n\ndefault\nThe default appearance with colored header and an icon.\n\n\nsimple\nA lighter weight appearance that doesn’t include a colored header background.\n\n\nminimal\nA minimal treatment that applies borders to the callout, but doesn’t include a header background color or icon.\n\n\n\nYou can set the callout appearance either globally in the document (or project yaml):\ncallout-appearance: simple\nor by setting the type attribute on the callout. For example\n::: {.callout-note appearance=\"simple\"}\n\n## Pay Attention\n\nUsing callouts is an effective way to highlight content that your reader give special consideration or attention.\n\n:::\nwhich appears as:\n\n\n\n\n\n\nPay Attention\n\n\n\nUsing callouts is an effect way to highlight content that your reader give special consideration or attention.\n\n\n\n\nIcons\nIn addition to controlling the appearance of the callout, you can also choose to directly suppress the icon but either setting the global option in your document (or project) yaml:\ncallout-icon: false;\nor by setting an attribute directly on the callout:\n::: {.callout-note icon=false}\n\n## Pay Attention\n\nUsing callouts is an effective way to highlight content that your reader give special consideration or attention.\n\n:::\nWhich will appear as:\n\n\n\n\n\n\nPay Attention\n\n\n\nUsing callouts is an effective way to highlight content that your reader give special consideration or attention."
  },
  {
    "href": "docs/authoring/callouts.html#format-support",
    "title": "Callout Blocks",
    "section": "Format Support",
    "text": "The following formats render callouts as illustrated above:\n\nHTML\nPDF\nMS Word\nEPUB\n\nIn other formats, callouts are placed in a simple blockquote."
  },
  {
    "href": "docs/authoring/shortcodes-and-filters.html#shortcodes",
    "title": "Shortcodes & Filters",
    "section": "Shortcodes",
    "text": "Shortcodes are special markdown directives that generate various types of content. Quarto shortcodes are similar in form and function to Hugo shortcodes and WordPress shortcodes.\nQuarto currently supports just two shortcodes: meta and var. Additional shortcodes (e.g. for inserting videos, tweets, gists, etc.) will be developed soon.\n\nmeta\nThe meta shortcode allows you to insert content from Pandoc metadata (e.g. YAML at the top of the document and/or in _quarto.yml).\nFor example, the following shortcode inserts the value of the title field from YAML metadata:\n{{< meta title >}}\nYou can dereference sub-keys using the dot (.) delimiter. For example:\n{{< meta author.affiliation >}}\n\n\nvar\nThe var shortcode enables you to insert content from a project-level _variables.yml file. Create this file alongside your _quarto.yml project file, and then include references to those variables within any document in your project.\nVariables can be either simple values or can include arbitrary markdown content. To define variables, create a _variables.yml file in the root directory of your project. For example:\nversion: 1.2\n\nemail:\n  info: info@example.com\n  support: support@example.com\n\nengine:\n  jupyter: \"[Jupyter](https://jupyter.org)\"\n  knitr: \"[Knitr](<https://yihui.name/knitr>)\"\nNote that the engine variable values include markdown for hyperlinks.\nTo include the value of a variable, use the {{< var >}} shortcode, for example:\nVersion {{< var version >}} is a minor upgrade.\n\nPlease contact us at {{< var email.info >}}.\n\nQuarto includes {{< var engine.jupyter >}} and \n{{< var engine.knitr >}} computation engines.\n\n\nEscaping\nIf you are writing documentation about using shortcodes (for example, this article!) you might need to prevent them from being processed. You can do this in two ways:\n\nEscape the shortcode reference like this:\n{{</* var version */>}}\nAdd a shortcodes=false attribute to any code block you want to prevent processing of shortcodes within:\n```{shortcodes=false}\n{{< var version >}}\n```"
  },
  {
    "href": "docs/authoring/shortcodes-and-filters.html#filters",
    "title": "Shortcodes & Filters",
    "section": "Filters",
    "text": "If the base features of Pandoc and Quarto don’t do exactly what you need, you can very likely create a Pandoc Filter that bridges the gap.\nPandoc consists of a set of readers and writers. When converting a document from one format to another, text is parsed by a reader into pandoc’s intermediate representation of the document—an “abstract syntax tree” or AST—which is then converted by the writer into the target format. The pandoc AST format is defined in the module Text.Pandoc.Definition in the pandoc-types package.\nA “filter” is a program that modifies the AST, between the reader and the writer.\nINPUT --reader--> AST --filter--> AST --writer--> OUTPUT\nPandoc’s built-in citation processing is implemented as a filter, as are many of Quarto’s extensions (e.g. cross-references, figure layout, etc.). Some other examples include:\n\n\n\n\n\n\n\nFilter\nDescription\n\n\n\n\ninclude-files\nFilter to include other files in the document.\n\n\ninclude-code-files\nFilter to include code from source files.\n\n\npagebreak\nConverts paragraps containing only the LaTeX \\newpage or \\pagebreak command into appropriate pagebreak markup for other formats.\n\n\n\n\nUsing Filters\nAdd one or more filters to document rendering using the filters option. For example:\nfilters:\n   - include-files.lua\n   - pagebreak.lua\nBy default, user filters are run before Quarto’s built-in filters. If you prefer to control the order of filters visa-vi Quarto just include quarto explicitly as a filter. For example, to run include-files.lua before Quarto filters and pagebreak.lua after, use this:\nfilters:\n  - include-files.lua\n  - quarto\n  - pagebreak.lua\n\n\nWriting Filters\nYou can write Pandoc filters using Lua (via Pandoc’s built-in Lua interpreter) or using any other language using a JSON representation of the Pandoc AST piped to/from an external process.\nWe strongly recommend using Lua Filters, which have the following advantages:\n\nNo external dependencies\nHigh performance (no serialization or process execution overhead)\nAccess to Pandoc’s library of Lua helper functions.\n\nSee the documentation on Writing Lua Filters for additional details.\nIf you want to write a JSON filter, see the documentation on Writing JSON filters."
  },
  {
    "href": "docs/authoring/shortcodes-and-filters.html#includes",
    "title": "Shortcodes & Filters",
    "section": "Includes",
    "text": "The include-files filter is a convenient way to re-use markdown content within a project. You can make this filter available by downloading it from the site linked to above, copying it into your project directory, then adding it as a filter within _quarto.yml as follows:\nfilters:\n  - include-files.lua\nTo include a file named _common.md you would use this markdown:\n```{.include}\n_common.md\n```\nYou can also include multiple files:\n```{.include}\n_common.md\n_download.md\n```\nIn the examples above the names of included files are prefaced with an underscore. You should always use an underscore prefix with included files so that they are automatically ignored (i.e. not treated as standalone files) by a quarto render of your project."
  },
  {
    "href": "docs/authoring/figures-and-layout.html#figure-basics",
    "title": "Figures & Layout",
    "section": "Figure Basics",
    "text": "In Pandoc markdown, a figure is created whenever a captioned image appears by-itself in a paragraph. For example:\n![Elephant](elephant.png)\nThis results in the following treatment for various output types:\n\n\n\nHTML\nPDF\nWord\n\n\n\n\n\n\n\n\n\n\nNote that for LaTeX / PDF output figures are automatically numbered (you can arrange for figures to be numbered in other formats using Cross References).\n\nLinked Figures\nWhen rendering with Quarto, you can enclose a figure within a link and it will still be treated within output as a captioned figure. For example:\n[![Elephant](elephant.png)](https://en.wikipedia.org/wiki/Elephant)\n\n\nFigure Alignment\nFigures and their captions are center aligned by default. Add the fig-align attribute to the image to use a different alignment. For example:\n![Elephant](elephant.png){fig-align=\"left\"}\n\n\nAlt Text\nYou can add alternative text to a figure by adding the fig-alt attribute to the image. For example, the following Markdown…\n![](elephant.png){fig-alt=\"A drawing of an elephant.\"}\n… will create the following HTML with the corresponding alt tag:\n<img src=\"elephant.png\" alt=\"A drawing of an elephant.\">\nNote that the figure caption, title, and alt text can all be different. For example, the following code…\n![Elephant](elephant.png \"Title: An elephant\"){fig-alt=\"A drawing of an elephant.\"}\n…produces this HTML:\n<img src=\"elephant.png\" title=\"Title: An elephant\" alt=\"A drawing of an elephant.\">\n\n\nLaTeX Environments\nThere are a number of LaTeX packages that provide custom figure environments. For example, the mdframed package includes an mdframed environment used to enclose figures in a special border style. By default, Quarto uses the standard figure environment, but you can use the fig-env attribute to specify a custom one. For example:\n---\ntitle: \"Sidenotes\"\nformat:\n  pdf:\n    header-includes: |\n      \\usepackage{sidenotes}\n---\n\n![Elephant](elephant.png){fig-env=\"marginfigure\"}"
  },
  {
    "href": "docs/authoring/figures-and-layout.html#figure-divs",
    "title": "Figures & Layout",
    "section": "Figure Divs",
    "text": "You can treat any markdown content you want as a figure by enclosing it in Pandoc div block with an identifier prefaced with #fig-. For example, here we create a figure that includes an embedded iframe:\n::: {#fig-elephant}\n\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/SNggmeilXDQ\"></iframe>\n\nElephant\n:::\nNote that the last paragraph in the div block is used as the figure caption."
  },
  {
    "href": "docs/authoring/figures-and-layout.html#subfigures",
    "title": "Figures & Layout",
    "section": "Subfigures",
    "text": "If you have several figures that appear as a group, you can create a figure div to enclose them. For example:\n::: {#fig-elephants layout-ncol=2}\n\n![Surus](surus.png){#fig-surus}\n\n![Hanno](hanno.png){#fig-hanno}\n\nFamous Elephants\n:::\nAgain, the last paragraph provides the main caption, and the individual figures carry the sub-captions. Here is what this looks like when rendered as HTML:\n\nNote that we also used a layout-ncol attribute to specify a two-column layout. The next section delves more into customizing figure layouts."
  },
  {
    "href": "docs/authoring/figures-and-layout.html#figure-panels",
    "title": "Figures & Layout",
    "section": "Figure Panels",
    "text": "Above we demonstrate laying out two side-by-side figures with subcaptions and a main caption. You may or may not want the caption / sub-caption treatment, and you might also want to use multiple rows of figures. All of these variations are possible.\nTo layout two figures with their own standalone captions (and no main caption), just eliminate the #fig identifiers and main caption at the bottom:\n::: {layout-ncol=2}\n![Surus](surus.png)\n\n![Hanno](hanno.png)\n:::\n\nYou can also eliminate the captions entirely:\n::: {layout-ncol=2}\n![](surus.png)\n\n![](hanno.png)\n:::\n\nMultiple Rows\nIf you have more than 2 images, you might want to lay them out across multiple rows. You can do this using the layout-nrow attribute. For example:\n::: {layout-nrow=2}\n![Surus](surus.png)\n\n![Hanno](hanno.png)\n\n![Abdul Abbas](abdul-abbas.png)\n\n![Lin Wang](lin-wang.png)\n:::\n\nMore complex figure arrangements (e.g. rows with varying column layouts) are possible. See the Complex Layouts section below for more details."
  },
  {
    "href": "docs/authoring/figures-and-layout.html#table-panels",
    "title": "Figures & Layout",
    "section": "Table Panels",
    "text": "You can also use a div with layout attributes to display tables side-by-side. For example:\n::: {layout-ncol=2}\n| Col1 | Col2 | Col3 |\n|------|------|------|\n| A    | B    | C    |\n| E    | F    | G    |\n| A    | G    | G    |\n\n: First Table\n\n| Col1 | Col2 | Col3 |\n|------|------|------|\n| A    | B    | C    |\n| E    | F    | G    |\n| A    | G    | G    |\n\n: Second Table\n:::\n\nAs with figures, you can also present tables using numbered subcaptions by adding a main caption and #tbl- identifiers:\n::: {#tbl-panel layout-ncol=2}\n| Col1 | Col2 | Col3 |\n|------|------|------|\n| A    | B    | C    |\n| E    | F    | G    |\n| A    | G    | G    |\n\n: First Table {#tbl-first}\n\n| Col1 | Col2 | Col3 |\n|------|------|------|\n| A    | B    | C    |\n| E    | F    | G    |\n| A    | G    | G    |\n\n: Second Table {#tbl-second}\n\nMain Caption\n:::\n\nSee the article on Cross References for additional details on table captions, subcaptions, and numbering."
  },
  {
    "href": "docs/authoring/figures-and-layout.html#complex-layouts",
    "title": "Figures & Layout",
    "section": "Custom Layouts",
    "text": "The examples above used the layout-ncol or layout-nrow attributes to create straightforward layouts where all columns are of equal sizes. The layout attribute enables the creation of much more complex layouts.\nFor example, this defines a layout with two equally sized figures in the first row, then another image that spans the entire second row:\n::: {layout=\"[[1,1], [1]]\"}\n![Surus](surus.png)\n\n![Hanno](hanno.png)\n\n![Lin Wang](lin-wang.png)\n:::\n\nThe layout attribute is a 2-dimensional array where the first dimension defines rows and the second columns. In this case \"layout=\"[[1,1], [1]]\" translates to: create two rows, the first of which has two columns of equal size and the second of which has a single column.\nNote that the numbers in a row are arbitrary and don’t need to add up to a particular total. You can therefore use whatever scheme is most natural. For example, here we define columns that occupy varying percentage widths of the row:\n::: {layout=\"[[70,30], [100]]\"}\n![Surus](surus.png)\n\n![Hanno](hanno.png)\n\n![Lin Wang](lin-wang.png)\n:::\nYou can also use negative values to create space between elements. For example:\n::: {layout=\"[[40,-20,40], [100]]\"}\n![Surus](surus.png)\n\n![Hanno](hanno.png)\n\n![Lin Wang](lin-wang.png)\n:::\n\n\nVertical Alignment\nIf you have a layout with a row of images of differing heights, you can control their vertical alignment using the layout-valign attribute. A simple example:\n::: {layout=\"[25,-2,10]\" layout-valign=\"bottom\"}\n![Surus](surus.png)\n\n![Lin Wang](lin-wang.png)\n:::\n\nNote that vertical alignment isn’t limited to images, you can also vertically align any other elements that are included in a panel."
  },
  {
    "href": "docs/authoring/figures-and-layout.html#computations",
    "title": "Figures & Layout",
    "section": "Computations",
    "text": "Figures\nNote that figure layout attributes also work for figures produced by executable code blocks. Here are examples for both Jupyter and Knitr:\nJupyterKnitr\n\n\n```{python} \n#| layout-ncol: 2\n\nimport matplotlib.pyplot as plt\nplt.plot([1,23,2,4])\nplt.show()\n\nplt.plot([8,65,23,90])\nplt.show()\n```\n\n\n\n```{r}\n#| layout-ncol: 2\n\nplot(cars)\nplot(pressure)\n```\n\n\n\n\n\nTables\nYou can also use layout attributes for tables produced by Knitr or Jupyter. For example, this Rmd code chunk creates side-by-side tables:\n```{r}\n#| layout-ncol: 2\n\nlibrary(knitr)\nkable(head(cars), caption = \"Cars\")\nkable(head(pressure), caption = \"Pressure\")\n```\n\n\n\nCustom Layout\nThe layout works the same way for figures or tables produced by knitr or Jupyter. For example, here’s an Rmd code chunk that produces 3 plots and defines a custom layout for them:\n```{r}\n#| layout: [[45,-10, 45], [100]]\n\nplot(cars)\nplot(pressure)\nplot(mtcars)\n```"
  },
  {
    "href": "docs/authoring/figures-and-layout.html#block-layout",
    "title": "Figures & Layout",
    "section": "Block Layout",
    "text": "While the examples above illustrate laying out figures and tables, it’s important to note that layout attributes can be used to layout any sort of block content. For example, here we layout 2 lists side-by-side:\n::: {layout-ncol=2}\n### List One\n\n- Item A\n- Item B\n- Item C\n\n### List Two\n\n- Item X\n- Item Y\n- Item Z\n:::\nNote that headings are automatically combined with the block that follows them, so this markdown has a total of 2 columns to lay out. Here’s an example of a paragraph next to a bullet list (without headings):\n::: {layout-ncol=2}\n- Item X\n- Item Y\n- Item Z\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur gravida eu erat et fring. Morbi congue augue vel eros ullamcorper, eget convallis tortor sagittis. Fusce sodales viverra mauris a fringilla. Donec feugiat, justo eu blandit placerat, enim dui volutpat turpis, eu dictum lectus urna eu urna. Mauris sed massa ornare, interdum ipsum a, semper massa. \n:::"
  },
  {
    "href": "docs/authoring/equations.html",
    "title": "LaTeX Equations",
    "section": "",
    "text": ""
  },
  {
    "href": "docs/authoring/tables.html",
    "title": "Tables",
    "section": "",
    "text": ""
  },
  {
    "href": "docs/authoring/markdown-basics.html#overview",
    "title": "Markdown Basics",
    "section": "Overview",
    "text": "Quarto is based on Pandoc and uses it’s variation of markdown as it’s underlying document syntax. Pandoc markdown is an extended and slightly revised version of John Gruber’s Markdown syntax.\nMarkdown is a plain text format that is designed to be easy to write, and, even more importantly, easy to read:\n\nA Markdown-formatted document should be publishable as-is, as plain text, without looking like it’s been marked up with tags or formatting instructions. – John Gruber\n\nThis document provides examples of the most commonly used markdown syntax. See the full documentation of Pandoc’s Markdown for more in-depth documentation."
  },
  {
    "href": "docs/authoring/markdown-basics.html#text-formatting",
    "title": "Markdown Basics",
    "section": "Text Formatting",
    "text": "Markdown Syntax\nOutput\n\n\n\n\n*italics* and **bold**\nitalics and bold\n\n\nsuperscript^2^ / subscript~2~\nsuperscript2 / subscript2\n\n\n~~strikethrough~~\nstrikethrough\n\n\n`verbatim code`\nverbatim code"
  },
  {
    "href": "docs/authoring/markdown-basics.html#headings",
    "title": "Markdown Basics",
    "section": "Headings",
    "text": "Markdown Syntax\nOutput\n\n\n\n\n# Header 1\nHeader 1\n\n\n## Header 2\nHeader 2\n\n\n### Header 3\nHeader 3\n\n\n#### Header 4\nHeader 4\n\n\n##### Header 5\nHeader 5\n\n\n###### Header 6\nHeader 6\n\n\n\n\n.heading-output {\n  border-bottom: none;\n  margin-top: 0;\n  margin-bottom: 0;\n}"
  },
  {
    "href": "docs/authoring/markdown-basics.html#links-images",
    "title": "Markdown Basics",
    "section": "Links & Images",
    "text": "Markdown Syntax\nOutput\n\n\n\n\n[Quarto](https://quarto.org)\nQuarto\n\n\n![Caption](elephant.png)\n\n\n\n[![Caption](elephant.png)](https://quarto.org)\n\n\n\n[![Caption](elephant.png)](https://quarto.org \"An elephant\")\n\n\n\n[![](elephant.png){fig-alt=\"Alt text\"}](https://quarto.org)"
  },
  {
    "href": "docs/authoring/markdown-basics.html#lists",
    "title": "Markdown Basics",
    "section": "Lists",
    "text": "Markdown Syntax\nOutput\n\n\n\n\n* unordered list\n    + sub-item 1\n    + sub-item 2\n        - sub-sub-item 1\n\nunordered list\n\nsub-item 1\nsub-item 2\n\nsub-sub-item 1\n\n\n\n\n\n*   item 2\n\n    Continued (indent 4 spaces)\n\nitem 2\nContinued (indent 4 spaces)\n\n\n\n1. ordered list\n2. item 2\n    i) sub-item 1\n         A.  sub-sub-item 1\n\nordered list\nitem 2\n\nsub-item 1\n\nsub-sub-item 1\n\n\n\n\n\n(@)  A list whose numbering\n\ncontinues after\n\n(@)  an interruption\n\nA list whose numbering\n\ncontinues after\n\nan interruption\n\n\n\nterm\n: definition\n\nterm\ndefinition"
  },
  {
    "href": "docs/authoring/markdown-basics.html#tables",
    "title": "Markdown Basics",
    "section": "Tables",
    "text": "Markdown Syntax\n| Right | Left | Default | Center |\n|------:|:-----|---------|:------:|\n|   12  |  12  |    12   |    12  |\n|  123  |  123 |   123   |   123  |\n|    1  |    1 |     1   |     1  |\n\n\nOutput\n\n\n\nRight\nLeft\nDefault\nCenter\n\n\n\n\n12\n12\n12\n12\n\n\n123\n123\n123\n123\n\n\n1\n1\n1\n1"
  },
  {
    "href": "docs/authoring/markdown-basics.html#equations",
    "title": "Markdown Basics",
    "section": "Equations",
    "text": "Markdown Syntax\nOutput\n\n\n\n\ninline math: $E = mc^{2}$\ninline math: \\(E=mc^{2}\\)\n\n\ndisplay math:\n\n$$E = mc^{2}$$\ndisplay math:\n\\[E = mc^{2}\\]"
  },
  {
    "href": "docs/authoring/markdown-basics.html#special-blocks",
    "title": "Markdown Basics",
    "section": "Special Blocks",
    "text": "Markdown Syntax\nOutput\n\n\n\n\n> Blockquote\n\nBlockquote\n\n\n\n::: {.classname}\nDiv\n:::\n\nDiv\n\n\n\n| Line Block\n|   Spaces and newlines\n|   are preserved\nLine Block\n   Spaces and newlines\n   are preserved\n\n\n\n\nSpecial Characters\n\n\n\n\n\n\n\nMarkdown Syntax\nOutput\n\n\n\n\nendash: --\nendash: –\n\n\nemdash: ---\nemdash: —"
  },
  {
    "href": "docs/getting-started/quarto-basics.html#overview",
    "title": "Quarto Basics",
    "section": "Overview",
    "text": "Quarto is a publishing system used to create documents in a wide variety of formats including HTML, PDF, Office (docx and pptx), OpenOffice, JATS, and many more.\nYou author these documents using markdown, an easy to write plain-text format. You then optionally add code (e.g. Python, R, Julia, etc.) to the documents to dynamically create figures, tables, etc. and then render the documents to their final format using Quarto."
  },
  {
    "href": "docs/getting-started/quarto-basics.html#markdown-inputs",
    "title": "Quarto Basics",
    "section": "Markdown Inputs",
    "text": "There are three types of markdown input files that Quarto can render:\n\nPlain markdown (with no embedded code)\nMarkdown with embedded code chunks\nJupyter notebooks which have a combination of markdown and code cells\n\nR users will typically use the second approach (in fact, existing .Rmd files can be rendered directly with Quarto).\nJupyter users will user either the second or third approach, depending on whether they prefer to work in a text editor or in the standard notebook user interface."
  },
  {
    "href": "docs/getting-started/quarto-basics.html#rendering-output",
    "title": "Quarto Basics",
    "section": "Rendering Output",
    "text": "Use the quarto render command to transform a markdown input file into HTML, a PDF, or any of the other supported output formats. Here are examples of rendering the input types described above:\nquarto render document.md\nquarto render document.qmd\nquarto render document.ipynb\nFor plain markdown, the document is sent straight to Pandoc. For markdown with executable code, it is first processed by Jupyter or Knitr, then passed on to Pandoc.\nBy default, Quarto renders to HTML, however any of Pandoc’s over 40 output formats are supported. For example:\nquarto render document.md --to pdf\nquarto render document.qmd --to odt\nquarto render document.ipynb --to docx\nPandoc supports a wide variety of command line options and all of these options are supported by quarto render. For example:\nquarto render document.ipynb --to pdf --toc --number-sections\nWe’ll talk in more depth about the mechanics of using code chunks in the articles on Running Code. However, for the remainder of this article we’ll just focus on things applicable to all markdown input types whether they contain code or not."
  },
  {
    "href": "docs/getting-started/quarto-basics.html#yaml-options",
    "title": "Quarto Basics",
    "section": "YAML Options",
    "text": "Note that while it is possible to pass many options via the command line, it’s often much more convenient to provide these options within the document itself as YAML front matter. For example:\n---\ntitle: \"My Document\"\nauthor: \"Jane Doe\"\nformat: pdf\ntoc: true\nnumber-sections: true\n---\nIf you do this then the following command is equivalent to the previous example (but no options are provided on the command line b/c they are already defined in YAML):\nquarto render document.qmd\nNote that in this case rendering with no explicit --to argument results in a PDF, since format: pdf is specified in YAML.\nOptions may include any of the defined Pandoc metadata variables or defaults. For example, here we take advantage of quite a few more options for PDF generation:\n---\ntitle: \"My Document\"\nauthor: \"Jane Doe\"\nformat: pdf\ntoc: true\nnumber-sections: true\ndocumentclass: report\ngeometry:\n  - top=30mm\n  - left=20mm\n  - heightrounded\nlinks-as-notes: true\nhighlight-style: pygments\n---"
  },
  {
    "href": "docs/getting-started/quarto-basics.html#multiple-formats",
    "title": "Quarto Basics",
    "section": "Multiple Formats",
    "text": "The above example includes a simple format: pdf value to set the default format. It’s also possible to provide multiple formats along with YAML options set on a per-format basis. For example, this document defines HTML, PDF, and Word output:\n---\ntitle: \"My Document\"\nauthor: \"Jane Doe\"\ntoc: true\ntoc-depth: 2\nformat:\n  html:\n    max-width: 800px\n    fontsize: 18px\n    html-math-method: katex\n  pdf:\n    documentclass: report\n    margin-left: 30mm\n    margin-right: 30mm\n  docx:\n    number-sections: true\n    reference-docx: mytemplate.docx\n---\nNote that the toc and toc-depth options are shared across all formats, and the options listed below html, pdf, and docx are only applied to their respective formats.\nIf you render this document without a --to argument, it will be rendered as html since that is the first format listed in the file. To render as another format just provide an explicit --to argument:\nquarto render document.qmd # will render to html\nquarto render document.qmd --to pdf\nquarto render document.qmd --to docx\nYou can learn about the available options for each format in the Pandoc documentation on metadata variables and defaults.\nNote that you can share format options across a set of documents using Quarto Projects."
  },
  {
    "href": "docs/getting-started/quarto-basics.html#learning-more",
    "title": "Quarto Basics",
    "section": "Learning More",
    "text": "Running Code covers creating computational documents with Quarto in more depth, including how to use Quarto with JupyterLab and RStudio.\nThe Authoring section describes the capabilities of Pandoc markdown, as well as Quarto extensions for Cross References, Figures and Layout, and Callout Blocks.\nThe output formats section provides additional details on creating HTML, PDF, and MS Word documents, as well as describes a few special output types including Presentations, EPUBs, and pages in Hugo static sites.\nCreating a Website and Creating a Book describe some special Quarto project types."
  },
  {
    "href": "docs/getting-started/installation.html#quarto-cli",
    "title": "Installation",
    "section": "Quarto CLI",
    "text": "Installing the Quarto CLI (command-line interface) provides you with everything you need to render basic markdown documents (including a recent version of Pandoc). You can install the latest release of the Quarto CLI from:\nhttps://github.com/quarto-dev/quarto-cli/releases/latest\nYou can verify that Quarto has been installed correctly with:\nquarto check install\nIf you need to install a version more recent than the latest release, see the documentation on installing the Development Version."
  },
  {
    "href": "docs/getting-started/installation.html#computational-tools",
    "title": "Installation",
    "section": "Computational Tools",
    "text": "If you are creating computational documents with Quarto, you’ll want to be sure to install the additional dependencies required to work with Knitr and/or Jupyter.\n\nJupyter\nIf you already have Python 3 and Jupyter installed in your environment, then you should have everything required to render Jupyter notebooks with Python kernels.\nIf you don’t yet have Python 3 on your system, we recommend you install a version using the standard installer from https://www.python.org/downloads/.\nIf you are in a fresh Python 3 environment, installing the jupyter package will provide everything required to run Quarto:\n\n\n\n\n\n\n\nPkg. Manager\nCommand\n\n\n\n\nPip\n(Windows)\npy -m pip install jupyter\n\n\nPip\n(Mac/Linux)\npython3 -m pip install jupyter\n\n\nConda\nconda install jupyter\n\n\n\nYou can verify that Quarto is configured correctly for Jupyter with:\nquarto check jupyter\n\nPython Versions\nOn Mac OS and Linux, Quarto will use the version of Python 3 that it finds in the system path. Modify the PATH before invoking Quarto to use a different version of Python.\n\n\n\n\n\n\nMac OS Python 3\n\n\n\nIf you are running Mac OS you might already have a version of Python 3 installed via the Command Line Tools. Even so, we still recommend that you install a version of Python 3 using the standard installer at https://www.python.org/downloads/.\n\n\nOn Windows, Quarto will use Conda if it’s invoked within an activated Conda environment. Otherwise, it will use the Python Windows Launcher to select a version of Python 3. Use the PY_PYTHON environment variable to override the default behavior (for example: PY_PYTHON=3.8).\nThe quarto check jupyter command will tell you which version of Python will be selected for the shell it is invoked from within.\n\n\n\nKnitr\nTo use Quarto with R, you should install the quarto R package:\ninstall.packages(\"quarto\")\nInstallation of the quarto package will also install the knitr package so you will have everything required to render documents containing R code. You can verify that Quarto is configured correctly for Knitr with:\nquarto check knitr\n\n\nEnvironments\nif you are using Quarto Projects and want to create a project-local virtual environment for your Python and/or R dependencies see the documentation below on using Virtual Environments."
  },
  {
    "href": "docs/getting-started/installation.html#additional-tools",
    "title": "Installation",
    "section": "Additional Tools",
    "text": "Pandoc\nA recent version of Pandoc (v2.14) is installed alongside Quarto. This version of Pandoc won’t interfere with others you may have on your system (it’s not added to the system PATH).\nTo interact directly with the version of Pandoc installed with Quarto, use the quarto pandoc command. For example:\nquarto pandoc --version\nquarto pandoc --list-output-formats\n\n\nTeX\nIf you expect to use Quarto to create PDFs, you will need to install a recent distribution of TeX. While you can employ whatever toolchain you like for LaTeX compilation, we strongly recommend the use of TinyTeX, which is a distribution of TeX Live that provides a reasonably sized initial download (~100 MB) that includes the 200 or so most commonly used TeX packages for Pandoc documents.\nTo install TinyTeX, use the following command:\nquarto tools install tinytex\nIf you prefer TeX Live, you can find instructions for installing it here: https://tug.org/texlive/."
  },
  {
    "href": "docs/getting-started/installation.html#development-version",
    "title": "Installation",
    "section": "Development Version",
    "text": "To install the development version of the Quarto CLI, clone the quarto-cli repository then run the configure script for your platform (configure-linux.sh, configure-macos.sh, or configure-windows.cmd). For example:\ngit clone https://github.com/quarto-dev/quarto-cli\ncd quarto-cli\n./configure-macos.sh\nTo update to the latest development version, just git pull from the local repo directory:\ncd quarto-cli\ngit pull"
  },
  {
    "href": "docs/visual-editor/content.html#editing-tables",
    "title": "Content Editing",
    "section": "Editing Tables",
    "text": "You can insert a table using the Table menu. You can then use either the main menu or a context menu to insert and delete table rows and columns:\n\nNote that if you select multiple rows or columns the insert or delete command will behave accordingly. For example, to insert 2 rows, first select 2 rows then use the insert command.\nWhen you make a selection of multiple rows and/or columns as illustrated above, you can also copy and paste groups of cells within the table."
  },
  {
    "href": "docs/visual-editor/content.html#editing-lists",
    "title": "Content Editing",
    "section": "Editing Lists",
    "text": "As described above, you can create a new list by just typing - or 1. at the beginning of an empty paragraph. To add items to the list, just press Enter within a list item. To exit the list, press Enter within an empty list item.\nWhile this covers many simple list editing tasks, there is a variety of other actions you may want to take within lists, including creating nested lists and adding paragraphs or code blocks to an exiting list item. From an empty list item (pictured at left), the following keyboard gestures can be used to do this:\n\n\n\n\n\n\n\n\nEmpty Item (enter to exit list)\nTab (add sublist)\nBackspace  (add block)\n\n\n\n\n\n\n\n\n\n\nYou can also use Shift+Tab to lift a list item into the previous level.\n\nTight Lists\nMarkdown distinguishes between normal and tight lists, where tight lists have less vertical spacing between items. In markdown source code, you designate a tight list by having no empty lines between your list items.\nVisual mode creates normal lists by default (you can change this behavior via Editor Options). You can toggle between normal and tight lists using the ⌥⌘ 9 keyboard shortcut. You can also change the list type using the Format -> Edit Attributes dialog (also accessible via the F4 shortcut). If you have existing tight lists in your markdown source files, they will remain so within the visual editor."
  },
  {
    "href": "docs/visual-editor/content.html#pandoc-attributes",
    "title": "Content Editing",
    "section": "Pandoc Attributes",
    "text": "Several of Pandoc’s block types (e.g. headings, code blocks, and divs) enable you to specify a set of custom attributes. Attributes include IDs and class names, as well as arbitrary key-value pairs that are passed through to output formats (e.g. as attributes for HTML tags). For these block types, an edit button will appear at the the top right when your cursor is within the block:\n\nNote that any ID as well as the first class specified within the attributes are also displayed. Click the edit button or use the F4 keyboard shortcut to edit the attributes."
  },
  {
    "href": "docs/visual-editor/content.html#special-characters",
    "title": "Content Editing",
    "section": "Special Characters",
    "text": "Hard Line Breaks\nYou can insert a hard line break using the Insert -> Special Characters -> Hard Line Break command or via the ⇧ Enter keyboard shortcut.\n\n\nNon-Breaking Spaces\nYou can insert a non-breaking space using the Insert -> Special Characters -> Non-Breaking Space command or via the ⌃ Space keyboard shortcut. Non-breaking spaces are displayed with an alternate background color to distinguish them from normal spaces.\nA markdown non-breaking space will result in the &nbsp; character within HTML output and a ~ character within LaTeX output.\n\n\nEmojis\nTo insert an emoji, you can use either the Insert menu or the requisite markdown shortcut plus auto-complete:\n\n\n\nInsert -> Special Characters -> Emoji…\nMarkdown Shortcut\n\n\n\n\n\n\n\n\n\nFor markdown formats that support text representations of emojis (e.g. :grinning:), the text version will be written. For other formats the literal emoji character will be written. Currently, the gfm and hugo (with enableEmjoi = true in the site config) formats both support text representation of emojis.\nIf you want to add support for markdown emoji output to another Quarto format, you can add the emoji extension to the from option in document metadata. For example:\n---\ntitle: \"My Document\"\nfrom: markdown+emoji\n---\n\n\nUnicode Symbols\nTo insert an arbitrary Unicode character, use Insert -> Special Characters -> Unicode…:\n\nYou can search for characters either by name or by entering an explicit Unicode code point (e.g. “U+0420”).\n\n\nSmart Punctuation\nWhen the Pandoc smart extension is enabled (which it is by default), straight quotes are interpreted as curly quotes, --- as em-dashes, -- as en-dashes, and ... as ellipses. In addition, non-breaking spaces are inserted after certain abbreviations, such as “Mr.”\nVisual mode supports these same transformations (so when you type --- it becomes an em-dash). If you didn’t intend for this transformation to occur just hit backspace and it will be reverted."
  },
  {
    "href": "docs/visual-editor/content.html#spell-checking",
    "title": "Content Editing",
    "section": "Spell-Checking",
    "text": "When RStudio real time spell-checking is enabled (you can do this using Spelling preferences), misspelled words will be underlined as you type:\n\nTo resolve a spelling error, right-click on the misspelled word, then either choose an alternate spelling, ignore the word (which applies to the current document only), or add the word to your user dictionary (which applies to all documents).\nIf you ignore a word by mistake, right-click it again to unignore it. If you want to edit your personal dictionary, use the Edit User Dictionary… button located within Spelling preferences."
  },
  {
    "href": "docs/visual-editor/content.html#commenting",
    "title": "Content Editing",
    "section": "Commenting",
    "text": "When reviewing a document you often want to provide inline comments with suggested revisions. This is possible in Quarto using HTML comments (which are ignored by all output formats). Visual mode includes a command for inserting HTML comments as well as special highlighting treatment to easily parse out editing comments from surrounding text.\n\nNote that the # prefix used in the comment is what triggers the special background highlighting. If you remove the # it will still be a valid HTML comment, but just won’t be highlighted as shown above.\nYou can insert an HTML comment using the Comment button on the toolbar or via the ⇧⌘ C keyboard shortcut. Remember, HTML comments won’t show up in rendered output so they are ideal both for review but also for leaving yourself to-do notes within a document."
  },
  {
    "href": "docs/visual-editor/content.html#css-styles",
    "title": "Content Editing",
    "section": "CSS Styles",
    "text": "One of the benefits of authoring with markdown is that your content can be easily published to a wide variety of formats. This is possible in significant measure because of the limitations that markdown imposes: you author in terms of the structure and semantics of your content, rather than worrying about specifically how things will appear.\nSometimes however you know that you’ll be publishing to HTML, and you want to exert more control over how things look. In this case, you can use CSS (Cascading Style Sheets) along with markdown to do custom formatting. This section covers how to:\n\nDefine CSS styles for your document; and\nApply those styles to entities within your document.\n\nIf you are new to CSS, you may want to brush up on the basics before proceeding.\n\n\n\n\n\n\nCSS styles apply only to HTML output, and will not have any impact on the formatting of other output types like PDF or MS Word.\n\n\n\n\nDefining Styles\nThe best way to include CSS styles is to create an external stylesheet (e.g. styles.css), then include it within the output options of your document. For example:\n---\ntitle: \"CSS Demo\"\noutput:\n  html_document:\n    css: styles.css\n---\nThe styles.css file might look something like this:\n.important {\n  color: maroon;\n}\n\n.illustration {\n  border: 1px solid rgb(230, 230, 230); \n}\nNote that it’s also possible to define styles inline with a CSS code chunk, but we recommend using an external file for easier manageability.\nWithin a markdown document you can apply one or more CSS classes to various document entities including headings, images, divs, and spans. CSS classes are applied using pandoc attributes. Once you’ve applied a class to an entity, it will derive its formatting from the CSS properties of the specified class.\n\n\nHeadings\nTo add a CSS class to a heading, use the edit button at the top right of the heading that appears when your cursor is within it (or use the F4 keyboard shortcut):\n\nNote the presence of the .important class within the Edit Attributes dialog.\nCSS classes applied to headings affect all content beneath the heading (an HTML <section> tag is wrapped around the content by Pandoc), so heading classes are a great way to provide custom styles for entire sections of your document.\n\n\n\n\n\n\nNote that the visual editor doesn’t currently render content using styles applied through CSS classes so you won’t see the custom formatting while editing. You will however see it when rendering and previewing the HTML version of the document.\n\n\n\n\n\nImages\nYou can apply CSS classes to images (for example, to give them a special border) using the standard Image dialog. To do this, double-click the image (or use the F4 shortcut with the image selected) and apply the desired classes:\n\nNote again that the visual editor won’t display your image with the applied CSS classes while editing, however when actually rendering the document to HTML you’ll see the styles reflected.\n\n\nDivs\nDivs are special entities that allow you to apply identifiers and/or styles to a region of a document. Divs are block elements (like paragraphs).\nYou can create divs using the Insert -> Div command, and you can apply attributes (including CSS classes) to divs the same way as you apply attributes to headings (clicking the edit button or using the F4 keyboard shortcut when you are within a div):\n\nNote the presence of the .important class within the Div Attributes dialog.\n\n\nSpans\nSpan are special entities that allow you to apply identifiers and/or styles to a region of text. Spans are inline formatting marks (like bold or italic).\nSpans can be created by selecting text and using the Format -> Span command:\n\nHere we’ve applied a span to the text “customize PDF reports” and we’ve used the span to apply the .important CSS class. Note that as with headings and images the formatting is not displayed in the visual editor, but will be visible when the document is rendered."
  },
  {
    "href": "docs/visual-editor/markdown.html#overview",
    "title": "Markdown Output",
    "section": "Overview",
    "text": "The Quarto visual editor generates markdown using Pandoc. This means that in some cases your markdown will be rewritten to conform to standard Pandoc idioms. For example, Pandoc inserts 3 spaces after list bullets and automatically escapes characters that might be used for markdown syntax.\nHere is a list of conventions for Pandoc generated markdown that might differ from your own markdown writing style:\n\n*text* is used in preference to _text_\nBacktick code blocks are written as ``` {.md} rather than ```md\nBacktick code blocks with no attributes are rendered as 4-space indented code blocks\nHorizontal rules are written as dashes spanning the full width of the document\nPlain links are written as <https://yihui.org> rather than https://yihui.org\nBullet and numbered lists use additional leading spaces before list item content\nThe blockquote character (>) is included on each new line of a blockquote\nTable captions are written below rather than above tables\nMultiline HTML and TeX blocks use the explicit raw attribute (e.g. ```{=tex})\nInline footnotes are replaced with footnotes immediately below the paragraph\nNested divs use ::: at all levels so long as their attributes are distinct\nUnnumbered sections are designated with {.unnumbered} rather than {-}\nCharacters used for markdown syntax (e.g. *, _, or #) are always escaped\n\nWhile some of this behavior might be bothersome at first, if you decide that visual editing mode is useful for your workflow it’s probably best to just adapt to writing your own markdown the same way that Pandoc does. Note that you can also configure source mode to write markdown using these conventions, ensuring that the same markdown is written no matter which mode edits originate from."
  },
  {
    "href": "docs/visual-editor/markdown.html#writer-options",
    "title": "Markdown Output",
    "section": "Writer Options",
    "text": "Some aspects of markdown output can be customized via global, project, or file-level options, including:\n\nHow to wrap / break lines (fixed column, sentence-per-line, etc.).\nWhere to write footnotes (below the current paragraph or section, or at the end of the document).\nWhether to use the visual mode markdown writer when saving markdown from source mode (to ensure consistency between documents saved from either mode).\n\nYou can set these options within the R Markdown Global Options or Project Options, or can alternatively set them on a per-file basis using YAML (as described below).\n\nLine Wrapping\nBy default, the visual editor writes Markdown with no line wrapping (paragraphs all occupy a single line). This matches the behavior of markdown source editing mode within RStudio.\nHowever, if you prefer to insert line breaks at a particular column (e.g. 72 or 80), or to insert a line break after each sentence, you can set a global or per-project editor option to this effect.\nYou can also set this behavior on a per-document basis via the wrap option. For example, to wrap lines after 72 characters you would use this:\n---\neditor_options:\n  markdown:\n    wrap: 72\n---\nTo insert a line break after each sentence, use wrap: sentence. For example:\n---\neditor_options:\n  markdown:\n    wrap: sentence\n---\n\n\n\n\n\n\nThe algorithm used for sentence wrapping will handle English and Japanese text well, but may not detect the end of sentences accurately for other languages.\n\n\n\nIf you have enabled a global line wrapping option and want to turn off wrapping for a given document, use wrap: none.\n\n\nReferences\nBy default, references are written at the end of the block where their corresponding footnote appears. You can override this behavior using the references option.\nFor example, to write references at the end of sections rather than blocks you would use:\n---\ntitle: \"My Document\"\neditor_options:\n  markdown:\n    references: \n      location: block\n---\nValid values for the references option are block, section, and document.\nNote that you can also set a global or per-project editor option to control reference writing behavior.\nIf you are aggregating a set of markdown documents into a larger work, you may want to make sure that reference identifiers are unique across all of your documents (e.g. you don’t want to have [^1] appear multiple times). You can ensure uniqueness via the prefix option. For example:\n---\ntitle: \"My Document\"\neditor_options:\n  markdown:\n    references: \n      location: block\n      prefix: \"mydoc\"\n---\nThis will result in footnotes in this document using the specified prefix (e.g. [^mydoc-1]), ensuring they are globally unique across the manuscript.\n\n\n\n\n\n\nNote that if you are within a Quarto book project then a references prefix is applied automatically so no changes to editor_options are required.\n\n\n\n\n\nCanonical Mode\nIf you have a workflow that involves editing in both visual and source mode, you may want to ensure that the same markdown is written no matter which mode edits originate from. You can accomplish this using the canonical option. For example:\n---\ntitle: \"My Document\"\neditor_options:\n  markdown:\n    wrap: 72\n    references: \n      location: block\n    canonical: true\n---\nWith canonical: true, edits in visual mode and source mode will result in identical markdown output. This is especially useful if you have multiple authors collaborating using version control, with a mixture of source and visual mode editing among the authors."
  },
  {
    "href": "docs/visual-editor/markdown.html#known-limitations",
    "title": "Markdown Output",
    "section": "Known Limitations",
    "text": "There are a handful of Pandoc markdown extensions not currently supported by visual editing. These are infrequently used extensions, so in all likelihood they won’t affect documents you edit, but are still worth noting.\n\n\n\nExtension(s)\nExample\nBehavior\n\n\n\n\nInline footnotes\n[^1]\nConverted to numeric footnote.\n\n\nFootnote identifiers\n[^longnote]\nConverted to numeric footnote.\n\n\nExample lists\n(@) First example\nRead/written as ordinary numbered lists.\n\n\nAuto-list numbers\n#. First item\nRead/written as ordinary numbered lists.\n\n\nReference links\nThis is a [link]\nConverted to ordinary links.\n\n\nMultiMarkdown attributes\n# Heading [id]\nConverted to Pandoc attributes.\n\n\n\nThe visual editor is unable to parse non-YAML title blocks (e.g. old-style % titles or MultiMarkdown titles) and also unable to parse non top-level YAML metadata blocks. If these forms of metadata are encountered, visual mode will fail to load with a warning."
  },
  {
    "href": "docs/visual-editor/technical.html#equations",
    "title": "Technical Writing",
    "section": "Equations",
    "text": "LaTeX equations are authored using standard Pandoc markdown syntax (the editor will automatically recognize the syntax and treat the equation as math). When you aren’t directly editing an equation it will appear as rendered math:\n\nAs shown above, when you select an equation with the keyboard or mouse you can edit the equation’s LaTeX. A preview of the equation will be shown below it as you type."
  },
  {
    "href": "docs/visual-editor/technical.html#cross-references",
    "title": "Technical Writing",
    "section": "Cross References",
    "text": "Cross References make it easier for readers to navigate your document by providing numbered references and hyperlinks to various entities like figures, tables, and equestions.\nEvery cross-referenceable entity requires a label (unique identifier) and caption (description). For example, this is a cross-referenceable figure:\n![Elephant](elephant.png){#fig-elephant}\nThe presence of the caption (“Elephant”) and label (#fig-elephant) make this figure referenceable. This enables you to use the following syntax to refer to it elsewhere in the document:\nSee @fig-elephant for an illustration.\nHere is what this would look like rendered to HTML:\n\nSee the article on Cross References for full documentation on creating cross references and customizing their display.\nUse the Insert -> Cross Reference… command to insert a cross reference:\n\nYou can also just type prefix of a cross reference label (e.g. @fig-env) and select it via auto-complete:\n\nSimilar to hyperlinks, you can also navigate to the location of a cross-reference by clicking the popup link that appears when it’s selected:\n\nYou can also navigate directly to any cross-reference using IDE global search:"
  },
  {
    "href": "docs/visual-editor/technical.html#footnotes",
    "title": "Technical Writing",
    "section": "Footnotes",
    "text": "You can include footnotes using the Insert -> Footnote command (or the ⇧⌘ F7 keyboard shortcut). Footnote editing occurs in a pane immediately below the main document:\n\n\n\n\n\n\n\nBy default footnotes will be written in markdown immediately below the block in which they appear. You can customize this behavior via editor options."
  },
  {
    "href": "docs/visual-editor/technical.html#embedded-code",
    "title": "Technical Writing",
    "section": "Embedded Code",
    "text": "Source code which you include in a Quarto document can either be for display only or can be executed by Jupyter or Knitr as part of rendering. Code can furthermore be either inline or block.\n\nDisplaying Code\nTo display but not execute code, either use the Insert -> Code Block menu item, or start a new line and type either:\n\n``` (for a plain code block); or\n```<lang> (where <lang> is a language) for a code block with syntax highlighting.\n\nThen press the Enter key. To display code inline, simply surround text with backticks (`code`), or use the Format -> Code menu item.\n\n\nCode Chunks\nTo insert an executable code chunk, use the Insert -> Code Chunk menu item, or start a new line and type:\n```{r}\nThen press the Enter key. Note that r could be another language supported by knitr (e.g. python or sql) and you can also include a chunk label and other chunk options.\nTo include inline R code, you just create normal inline code (e.g. by using backticks or the ⌘ D shortcut) but preface it with r. For example, this inline code will be executed by knitr: `r Sys.Date()`. Note that when the code displays in visual mode it won’t have the backticks (but they will still appear in source mode).\n\n\nRunning Chunks\nYou can execute the currently selected R or Python code chunk using either the run button at the top right of the code chunk or using the ⇧⌘ Enter keyboard shortcut:\n\nYou can execute code chunks up to the current one using the toolbar button or using the ⌥⌘ P keyboard shortcut."
  },
  {
    "href": "docs/visual-editor/technical.html#latex-and-html",
    "title": "Technical Writing",
    "section": "LaTeX and HTML",
    "text": "You can also include raw LaTeX commands or HTML tags when authoring in visual mode. The raw markup will be automatically recognized and syntax highlighted. For example:\n\nThe above examples utilize inline LaTex and HTML. You can also include blocks of raw content using the commands on the Format -> Raw menu. For example, here is a document with a raw LaTeX block:\n\n\n\n\n\n\n\nNote that Pandoc ignores LaTeX commands when not producing LaTeX based output, and ignores HTML tags when not producing HTML based output."
  },
  {
    "href": "docs/visual-editor/technical.html#citations",
    "title": "Technical Writing",
    "section": "Citations",
    "text": "Visual mode uses the standard Pandoc markdown representation for citations (e.g. [@citation]). Citations can be inserted from a variety of sources:\n\nYour document bibliography.\nZotero personal or group libraries.\nDOI (Document Object Identifier) references.\nSearches of Crossref, DataCite, or PubMed.\n\nIf you insert citations from Zotero, DOI look-up, or a search then they are automatically added to your document bibliography.\n\nBibliographies\nPandoc supports bibliographies in a wide variety of formats including BibTeX and CSL. Add a bibliography to your document using the bibliography YAML metadata field. For example:\n---\ntitle: \"My Document\"\nbibliography: references.bib\nlink-citations: true\n---\nNote that we’ve also specified the link-citations option, which will make your citations hyperlinks to the corresponding bibliography entries.\nSee the Pandoc Citations documentation for additional information on bibliography formats.\n\n\nInserting Citations\nYou insert citations by either using the Insert -> Citation command or by using markdown syntax directly (e.g. [@cite] or @cite) .\nCitations go inside square brackets and are separated by semicolons. Each citation must have a key, composed of ‘@’ + the citation identifier from the database, and may optionally have a prefix, a locator, and a suffix. The citation key must begin with a letter, digit, or _, and may contain alphanumerics, _, and internal punctuation characters (:.#$%&-+?<>~/). Here are some examples:\n\n  \n    Blah Blah [see @doe99, pp. 33-35; also @smith04, chap. 1].\n  \n\n\n  Blah Blah [@doe99, pp. 33-35, 38-39 and passim].\n  \n\n\n  Blah Blah [@smith04;\n  @doe99].\n\n  Smith says blah [-@smith04].\n  \n\nYou can also write in-text citations, as follows:\n\n  \n    @smith04 says blah.\n  \n  \n    @smith04 [p. 33] says blah.\n  \n\nSee the Pandoc Citations documentation for additional information on citation syntax.\nUse the  toolbar button or the ⇧⌘ F8 keyboard shortcut to show the Insert Citation dialog:\n\nNote that you can insert multiple citations by using the add button on the right side of the item display.\n\nMarkdown Syntax\nYou can also insert citations directly using markdown syntax (e.g. [@cite]). When you do this a completion interface is provided for searching available citations:\n\n\n\nCitation IDs\nBefore inserting a citation from an external source you will may wish to customize it’s ID. Within the Insert Citation dialog, click the edit button on the right side of citations to change their ID:\n\nIf you insert a new citation via code completion, you will also be provided with the opportunity to change its default citation ID.\nFor citations inserted from Zotero, you can also use the Better BibTeX plugin to generate citation IDs (this can be enabled via Citation Options if you have Better BibTeX installed).\n\n\nCitation Preview\nOnce you’ve inserted a citation, place the cursor over it to see a preview of it along with a link to the source if one is available:\n\n\n\n\nCitations from DOIs\nUse the From DOI pane of the Insert Citation dialog to insert a citation based on a DOI (e.g that you have retrieved from a PubMed or other search):\n\nIf you are using markdown syntax, you can also paste a DOI after the [@ and it will be looked up:\n\nOnce you’ve confirmed that it’s the correct work (and possibly modified the suggested ID), the citation will be inserted into the document and an entry for the work added to your bibliography.\n\n\nCitations from Search\nUse the Crossref, DataCite, and PubMed panes of the Insert Citation dialog to search one of those services for a citation:\n\nItems inserted from a search will automatically be added to your bibliography.\nNote that for PubMed queries you can use the full supported query syntax. For example, this query searches on the author and title fields: Peterson[Author] AND Embolism[Title]. You can learn more about building PubMed queries here: https://pubmed.ncbi.nlm.nih.gov/advanced/.\n\n\nCitations from Zotero\nZotero is a popular free and open source reference manager. If you use Zotero, you can also insert citations directly from your Zotero libraries. If you have Zotero installed locally it’s location will be detected automatically and citations from your main library (My Library) will be available:\n\nZotero references will also show up automatically in completions:\n\nItems from Zotero will appear alongside items from your bibliography with a small “Z” logo juxtaposed over them. If you insert a citation from Zotero that isn’t already in your bibliography then it will be automatically added to the bibliography.\nIf you are running both RStudio and Zotero on your desktop, then no additional configuration is required for connecting to your Zotero library. If however you using RStudio Server and/or want to access your Zotero library over the web, then a few more steps are required (see the Zotero Web API section for details).\n\nGroup Libraries\nZotero Groups provide a powerful way to share collections with a class or work closely with colleagues on a project. By default, Zotero Group Libraries are not included in the Insert Citation dialog or citation completions. However, there are options available to use group libraries at a global, per-project, or per-document level.\nFor example, here we specify a project-level option to use the Reproducible Research Series (Year 1) group library:\n\nYou can also specify one or more libraries within YAML. For example:\n---\ntitle: \"Reproducible Research\"\nzotero: \"Reproducible Research Series (Year 1)\"\n---\nNote that you can also turn off Zotero entirely for a document using zotero: false:\n---\ntitle: \"Reproducible Research\"\nzotero: false\n---\n\n\nZotero Web API\nIf you are using RStudio Server and/or don’t have Zotero installed locally, you can still access your Zotero library using the Zotero Web API (assuming you have a Zotero web account and have synced your libraries to your account).\n\n\n\n\n\n\nIf you are running RStudio Desktop, it’s generally easier to also run Zotero on your desktop and access your library locally. That said, it is possible to access Zotero web libraries from RStudio Desktop if you prefer that configuration.\n\n\n\n\nAPI Access Key\nRStudio accesses Zotero web libraries using the Zotero Web API, so the first step is to create a Zotero account and then configure Zotero to sync it’s data to your account. You can do this using the Sync tab of the Zotero preferences:\n\nOnce you’ve configured your library to sync, you need to create a Zotero API Key to use with RStudio:\n\nFollow the instructions to create a new access key. Note that if you want to use Group Libraries with RStudio that you should change the default to provide read-only access to groups (as illustrated above).\nBe sure to record your key after generating it (i.e. copy it to the clipboard and/or save it somewhere more permanent) as you won’t be able to view it again after you navigate away.\nFinally, go to the R Markdown -> Citations preferences to connect Zotero to RStudio using your key:\n\nSet the Zotero Library option to “Web”, then paste in your Zotero Web API Key. You can use Verify Key… button to confirm that your Zotero API key is working correctly.\nOnce you’ve confirmed your connection you are ready to start inserting citations from Zotero."
  },
  {
    "href": "docs/visual-editor/index.html#overview",
    "title": "Visual Editor",
    "section": "Overview",
    "text": "The Quarto visual editor provides a WYSIWYM editing interface for all of Pandoc markdown, including tables, citations, cross-references, footnotes, divs/spans, definition lists, attributes, raw HTML/TeX, and more. The visual editor also includes support for executing code cells and viewing their output inline:\n\nThe visual editor doesn’t attempt to abstract away or obscure the underlying markdown document. Rather, it aims to provide a highly productive writing interface for people that love markdown. The editor maintains a lightweight feel that emphasizes semantics over styling. You can also still use most markdown constructs (e.g., ## or bold) directly for formatting, and when switching between visual and source mode your editing location and undo/redo state are fully preserved."
  },
  {
    "href": "docs/visual-editor/index.html#getting-started",
    "title": "Visual Editor",
    "section": "Getting Started",
    "text": "The Quarto visual editor is currently available as a feature of the RStudio IDE. The visual editor will eventually also be made available in standalone form.\n\n\n\n\n\n\nNote that the visual editor being a feature of RStudio should not dissuade you from using it if you are working with Python/Jupyter: RStudio includes robust support for Python, including inline cell execution, auto-complete, a variable explorer, and more.\n\n\n\nTo get started with the visual editor, download the RStudio daily build for your platform from:\nhttps://dailies.rstudio.com\nNote that Quarto visual editing is only available in the daily build (the current stable release of RStudio v1.4 has an earlier version of the visual editor not tailored for use with Quarto).\n\nSwitching Modes\nMarkdown documents can be edited in either source or visual mode. To switch into visual mode for a given document, use the  button at the top-right of the document toolbar (or alternatively the ⌘⇧ F4 keyboard shortcut):\n\nNote that you can switch between source and visual mode at any time (editing location and undo/redo state will be preserved when you switch)."
  },
  {
    "href": "docs/visual-editor/index.html#using-the-editor",
    "title": "Visual Editor",
    "section": "Using the Editor",
    "text": "Keyboard Shortcuts\nThere are keyboard shortcuts for all basic editing tasks. Visual mode supports both traditional keyboard shortcuts (e.g. ⌘ B for bold) as well as markdown shortcuts (using markdown syntax directly). For example, enclose **bold** text in asterisks or type ## and press space to create a second level heading. Here are some of the most commonly used shortcuts:\n\n\n\nCommand\nKeyboard Shortcut\nMarkdown Shortcut\n\n\n\n\nBold\n⌘ B\n**bold**\n\n\nItalic\n⌘ I\n*italic*\n\n\nCode\n⌘ D\n`code`\n\n\nLink\n⌘ K\n<href>\n\n\nHeading 1\n⌥⌘ 1\n#\n\n\nHeading 2\n⌥⌘ 2\n##\n\n\nHeading 3\n⌥⌘ 3\n###\n\n\nR Code Chunk\n⌥⌘ I\n```{r}\n\n\n\nSee the editing shortcuts article for a complete list of all shortcuts.\n\n\nInsert Anything\nYou can also use the catch-all ⌘ / shortcut to insert just about anything. Just execute the shortcut then type what you want to insert. For example:\n\n\n\n\n\n\n\n\n\n\nIf you are at the beginning of a line (as displayed above), you can also enter plain / to invoke the shortcut.\n\n\nEditor Toolbar\nThe editor toolbar includes buttons for the most commonly used formatting commands:\n\nAdditional commands are available on the Format, Insert, and Table menus:\n\n\n\nFormat\nInsert\nTable"
  },
  {
    "href": "docs/visual-editor/index.html#learning-more",
    "title": "Visual Editor",
    "section": "Learning More",
    "text": "Check out the following articles to learn more about visual markdown editing:\n\nTechnical Writing covers features commonly used in scientific and technical writing, including citations, cross-references, footnotes, equations, embedded code, and LaTeX.\nContent Editing provides more depth on visual editor support for tables, lists, pandoc attributes, CSS styles, comments, symbols/emojis, etc.\nShortcuts & Options documents the two types of shortcuts you can use with the editor: standard keyboard shortcuts and markdown shortcuts and describes various options for configuring the editor.\nMarkdown Output describes how the visual editor parses and writes markdown and describes various ways you can customize this."
  },
  {
    "href": "docs/visual-editor/options.html#shortcuts",
    "title": "Shortcuts & Options",
    "section": "Shortcuts",
    "text": "Visual mode supports both traditional keyboard shortcuts (e.g. ⌘ B for bold) as well as markdown shortcuts (using markdown syntax directly). For example, enclose **bold** text in asterisks or type ## and press space to create a second level heading.\nHere are the available keyboard and markdown shortcuts:\n\n\n\nCommand\nKeyboard Shortcut\nMarkdown Shortcut\n\n\n\n\nBold\n⌘ B\n**bold**\n\n\nItalic\n⌘ I\n*italic*\n\n\nCode\n⌘ D\n`code`\n\n\nStrikeout\n\n~~strike~~\n\n\nSubscript\n\n~sub~\n\n\nSuperscript\n\n^super^\n\n\nHeading 1\n⌥⌘ 1\n#\n\n\nHeading 2\n⌥⌘ 2\n##\n\n\nHeading 3\n⌥⌘ 3\n###\n\n\nHeading Attributes\n\n{#id .class}\n\n\nBlockquote\n\n>\n\n\nCode Block\n⇧⌘ \\\n```\n\n\nR Code Chunk\n⌥⌘ I\n```{r}\n\n\nRaw Block\n\n```{=html}\n\n\nDiv\n\n:::\n\n\nBullet List\n\n-\n\n\nOrdered List\n\n1.\n\n\nTight List\n⌥⌘ 9\n\n\n\nList Check\n\n[x]\n\n\nLink\n⌘ K\n<href>\n\n\nEmoji\n\n:smile:\n\n\nDefinition\n\n:\n\n\nNon-Breaking Space\n⌃ Space\n\n\n\nHard Line Break\n⇧ Enter\n\n\n\nParagraph\n⌥⌘ 0\n\n\n\nImage\n⇧⌘ I\n\n\n\nFootnote\n⇧⌘ F7\n\n\n\nCitation\n⇧⌘ F8\n[@\n\n\nTable\n⌥⌘ T\n\n\n\nEditing Comment\n⇧⌘ C\n\n\n\nSelect All\n⌘ A\n\n\n\nClear Formatting\n⌘ \\\n\n\n\nEdit Attributes\nF4\n\n\n\nRun Code Chunk\n⇧⌘ Enter\n\n\n\nRun Previous Chunks\n⇧⌥⌘ P\n\n\n\n\n\n\n\n\n\n\nFor markdown shortcuts, if you didn’t intend to use a shortcut and want to reverse its effect, just press the backspace key."
  },
  {
    "href": "docs/visual-editor/options.html#insert-anything",
    "title": "Shortcuts & Options",
    "section": "Insert Anything",
    "text": "You can also use the catch-all ⌘ / shortcut to insert just about anything. Just execute the shortcut then type what you want to insert. For example:\n\n\n\n\n\n\n\n\n\n\nIf you are at the beginning of a line (as displayed above) you can also enter plain / to invoke the shortcut."
  },
  {
    "href": "docs/visual-editor/options.html#global-options",
    "title": "Shortcuts & Options",
    "section": "Global Options",
    "text": "You can customize visual editing options within R Markdown -> Visual (note that the visual editor was originally created for use with R Markdown so it’s options are located there — these options are also applicable to usage with Quarto):\n\n\n\n\n\n\n\n\nOption\nDescription\n\n\n\n\nUse visual editing by default\nSwitch to visual mode immediately when creating new documents.\n\n\nShow document outline by default\nShow the navigational outline when opening documents in visual mode.\n\n\nEditor content width\nMaximum width for editing content. This is intended to keep editing similar to the width that users will see.\n\n\nEditor font size\nBase font size for editor content (default: inherit from IDE settings).\n\n\nShow margin column indicator in code blocks\nShow vertical line that indicates location of editing margin column (e.g. 80).\n\n\nDefault spacing between list items\nWhether to use tight or normal spacing between list items by default. See Tight Lists for details.\n\n\nAutomatic text wrapping (line breaks)\nWhen writing markdown, automatically insert line breaks after sentences or at a specified column (default: flow text; no auto-wrapping). See Line Wrapping for details.\n\n\nWrite references at end of current\nWrite references (footnotes) at the end of the block or section where they appear, or at the end of the document. See References for details.\n\n\nWrite canonical visual mode markdown in source mode\nUse the visual mode markdown writer when saving markdown from source mode (ensure consistency between documents saved from either mode)."
  },
  {
    "href": "docs/visual-editor/options.html#citation-options",
    "title": "Shortcuts & Options",
    "section": "Citation Options",
    "text": "You can customize visual editor citation options within R Markdown -> Citations:\n\n\n\n\n\n\n\n\nOption\nDescription\n\n\n\n\nZotero Library\nLocation of Zotero citation library (Local or Web).\n\n\nZotero Data Directory\nLocation of Zotero local data directory.\n\n\nUse libraries\nZotero libraries to use as reference sources.\n\n\nUse Better BibTeX for citation keys and BibTeX export.\nOptionally use Better BibTeX to generate citation keys and export BibTeX from Zotero (this option appears only if Better BibTeX is installed)."
  },
  {
    "href": "docs/visual-editor/options.html#project-options",
    "title": "Shortcuts & Options",
    "section": "Project Options",
    "text": "Global options that affect the way markdown is written can also be customized on a per-project basis. You can do this using the R Markdown pane of the Project Options dialog:\n\nBy default projects inherit the current global settings for markdown writing and Zotero libraries."
  },
  {
    "href": "docs/visual-editor/options.html#file-options",
    "title": "Shortcuts & Options",
    "section": "File Options",
    "text": "Global and project options that affect the way markdown is written can also be customized on a per-file basis . You can do this by including an editor_options: markdown key in the YAML front matter of your document. For example:\n---\ntitle: \"My Document\"\nauthor: \"Jane Doe\"\neditor_options:\n  markdown:\n    wrap: 72\n---\nYou might want to do this to ensure that multiple authors on different workstations use the same markdown writing options.\nYou can also instruct RStudio to use these same options when saving files from source mode. To do this add the canonical option. For example:\n---\neditor_options:\n  markdown:\n    wrap: 72\n    canonical: true\n---\nWith canonical: true, edits in visual mode and source mode will result in identical markdown output. This is especially useful if you have multiple authors collaborating using version control, with a mixture of source and visual mode editing among the authors.\nSee the documentation on Writer Options for additional details on markdown writing options."
  },
  {
    "href": "docs/interactive/shiny/execution.html#overview",
    "title": "Execution Contexts",
    "section": "Overview",
    "text": "Shiny interactive documents can contain both code that executes at render time as well as code that executes on the server in response to user actions and changes in input values. A solid understanding of these execution contexts is important both to have the right mental model during development as well as to optimize the performance of your document."
  },
  {
    "href": "docs/interactive/shiny/execution.html#render-server-contexts",
    "title": "Execution Contexts",
    "section": "Render & Server Contexts",
    "text": "To break this down more clearly, let’s revisit the “Hello, Shiny” document we started with in the introduction to interactive documents:\n---\ntitle: \"Old Faithful\"\nformat: html\nserver: shiny\n---\n\n```{r}\nsliderInput(\"bins\", \"Number of bins:\", \n            min = 1, max = 50, value = 30)\nplotOutput(\"distPlot\")\n```\n\n```{r}\n#| context: server\noutput$distPlot <- renderPlot({\n  x <- faithful[, 2]  # Old Faithful Geyser data\n  bins <- seq(min(x), max(x), length.out = input$bins + 1)\n  hist(x, breaks = bins, col = 'darkgray', border = 'white')\n})\n```\nHere is how execution breaks down for this document:\n\nThe first code chunk that contains the calls to sliderInput() and plotOutput() will execute when you render the document (e.g. quarto render old-faithful.qmd).\nThe second code chunk with the context: server option will not execute at render time, but rather will execute only when the document is served.\n\nIt’s critical to understand that the two chunks are run in completely separate R sessions. That means that you cannot access variables created in the first chunk within the second, and vice-versa. The is analogous to the ui.R and server.R scripts that compose most normal Shiny applications.\nOf course, it’s quite useful to be able to re-use code between contexts, and we’ll cover some ways to do this in the Sharing Code section below.\n\n\n\n\n\n\nIn order to make the code of interactive documents straightforward to understand and work with, we strongly recommend that your server contexts (there can be more than one) be located at the bottom of the document. This makes the separate execution environments more clear in the flow of the document source code.\n\n\n\n\nserver.R\nThere is one other option if you prefer to have a stronger separation. You can restrict your .qmd file to only code that will execute at render time, and then split out the server code into a separate server.R file.\nRe-writing our example in this fashion would look like this:\n\nold-faithful.qmd\n---\ntitle: \"Old Faithful\"\nformat: html\nserver: shiny\n---\n\n```{r}\nsliderInput(\"bins\", \"Number of bins:\", \n            min = 1, max = 50, value = 30)\nplotOutput(\"distPlot\")\n```\n\n\nserver.R\nfunction(input, output, session) {\n  output$distPlot <- renderPlot({\n    x <- faithful[, 2]  # Old Faithful Geyser data\n    bins <- seq(min(x), max(x), length.out = input$bins + 1)\n    hist(x, breaks = bins, col = 'darkgray', border = 'white')\n  })\n}\nThis is perhaps a bit less convenient but does align better with the traditional ui.R / server.R separation that exists in traditional Shiny applications."
  },
  {
    "href": "docs/interactive/shiny/execution.html#sharing-code",
    "title": "Execution Contexts",
    "section": "Sharing Code",
    "text": "Sharing code between rendering contexts works a bit differently depending on if your code is in a single .qmd file or if it uses server.R. We’ll cover both scenarios below.\n\nSingle File\n\ncontext: setup\nTo have code execute in both rendering and serving contexts, create a code chunk with context: setup. For example:\n```{r}\n#| context: setup\n#| include: false\n\n# load libraries\nlibrary(dplyr)\n\n# load data\ndataset <- import_data(\"data.csv\")\ndataset <- sample_n(dataset, 1000)\n```\nThis code will execute at both render time as well as when the server is created for each new user session. Note that we also specify include: false to make sure that code, warnings, and output from the chunk are not included in the rendered document.\n\n\ncontext: data\nThe loading and manipulation of data often dominates the startup time of Shiny applications. Since interactive documents are executed in two phases (the initial render and then the serving of the document to users) we can perform the expensive data manipulations during rendering and then simply load the data when starting up the application.\nYou can define prerendered data by adding the context: data option to an R code chunk. The chunk will be executed during render and any R objects it creates will be saved to an .RData file, which will then be loaded during Shiny server startup. For example, we could take the the setup chunk illustrated above and factor out the data loading into its own chunk:\n```{r}\n#| context: data\n#| include: false\n\ndataset <- import_data(\"data.csv\")\ndataset <- sample_n(dataset, 1000)\n```\nNote that R objects created within a context: data chunk are available to both the UI rendering and server contexts.\n\n\nKnitr cache\nYou can further improve the performance of data rendering by adding the cache: true option to the data chunk. This will cause the code chunk to be re-executed only when required. For example:\n```{r}\n#| context: data\n#| include: false\n#| cache: true\n#| cache.extra: !expr file.info(\"data.csv\")$mtime\n\ndataset <- import_data(\"data.csv\")\ndataset <- sample_n(dataset, 1000)\n```\nIn this example the cache will be invalidated if either the R code in the chunk changes or the modification time of the “data.csv” file changes (this is accomplished using the cache.extra option).\nYou can also invalidate an existing cache by removing the _cache directory alongside with your interactive document.\n\n\ncontext: server-start\nThere is one additional execution context that enables you to share code and data across multiple user sessions. Chunks with context: server-start executee once when the Shiny document is first run and are not re-executed for each new user of the document. Using context: server-start is appropriate for several scenarios including:\n\nEstablishing shared connections to remote servers (e.g. databases, Spark contexts, etc.).\nCreating reactive values intended to be shared across sessions (e.g. with reactivePoll or reactiveFileReader).\n\nFor example:\n```{r}\n#| context: server-start\n\nlibrary(DBI)\ndb <- dbConnect(...)\n```\n\n\n\nMultiple Files\nIf your interactive document uses a .qmd file to define the user-interface and a server.R file for the server, you can put shared code in a file named global.R. Functions and variables defined within global.R will be available both during render as well as during execution of the server.\nIn this scenario your interactive document consists of 3 source files:\n\n\n\n\n\n\n\nFile\nDescription\n\n\n\n\ndoc.qmd\nMarkdown content as well as Shiny inputs and outputs (e.g. sliderInput(), plotOutput(), etc.)\n\n\nserver.R\nMain server function with reactive expressions, assignments to outputs, etc.\n\n\nglobal.R\nCode shared between doc.qmd and server.R."
  },
  {
    "href": "docs/interactive/shiny/ojs.html",
    "title": "JavaScript & Shiny",
    "section": "",
    "text": "Quick intro to OJS\nReactive ojs_define\nExample\nCustomizing binding"
  },
  {
    "href": "docs/interactive/shiny/index.html#introduction",
    "title": "Shiny",
    "section": "Introduction",
    "text": "If you are an R user, you may already be familiar with Shiny, a package that makes it easy to build interactive web apps with R.\nWhen using the Knitr computation engine, Quarto documents can include embedded Shiny components (e.g. a plot with sliders that control it’s inputs) or even simple Shiny applications that include several components.\nThis section covers integrating Shiny with Quarto and assumes that you already have basic familiarity with Shiny. To learn more about Shiny please visit https://shiny.rstudio.com.\n\n\n\n\n\n\nIn order to run the examples below you will need the very latet version of the rmarkdown package (v2.10), which you can install with:\n install.packages(\"rmarkdown\")"
  },
  {
    "href": "docs/interactive/shiny/index.html#hello-shiny",
    "title": "Shiny",
    "section": "Hello, Shiny",
    "text": "For example, here’s a document that contains a plot of the “Old Faithful” dataset along with a slider to control the number of bins:\n\nHere’s the source code for this example:\n---\ntitle: \"Old Faithful\"\nformat: html\nserver: shiny\n---\n\n```{r}\nsliderInput(\"bins\", \"Number of bins:\", \n            min = 1, max = 50, value = 30)\nplotOutput(\"distPlot\")\n```\n\n```{r}\n#| context: server\noutput$distPlot <- renderPlot({\n  x <- faithful[, 2]  # Old Faithful Geyser data\n  bins <- seq(min(x), max(x), length.out = input$bins + 1)\n  hist(x, breaks = bins, col = 'darkgray', border = 'white')\n})\n```\nThere are two important differences between this document and a normal static document:\n\nThe inclusion server: shiny within the document’s options, which instructs Quarto to run a Shiny Server behind the document:\n---\ntitle: \"Old Faithful\"\nformat: html\nserver: shiny\n---\nThe inclusion of context: server as an option in the second code chunk, which delineates this R code as running within the Shiny Server (this is the code you would typically put in server.R):\n```{r}\n#| context: server\n\n```\n\nWe’ll cover running and deploying Quarto documents with Shiny components in the article on Running Documents. Before that though, let’s cover a more in-depth example."
  },
  {
    "href": "docs/interactive/shiny/index.html#k-means-example",
    "title": "Shiny",
    "section": "K-Means Example",
    "text": "Here’s an example that includes multiple inputs as well as a more application like page layout with a sidebar:\n\nHere’s the source code for this example:\n---\ntitle: \"Iris K-Means Clustering\"\nformat: \n  html:\n    page-layout: custom\nserver: shiny\n---\n\n```{r}\n#| panel: sidebar\nvars <- setdiff(names(iris), \"Species\")\nselectInput('xcol', 'X Variable', vars)\nselectInput('ycol', 'Y Variable', vars, selected = vars[[2]])\nnumericInput('clusters', 'Cluster count', 3, min = 1, max = 9)\n```\n\n```{r}\n#| panel: fill\nplotOutput('plot1')\n```\n\n```{r}\n#| context: server\nselectedData <- reactive({\n    iris[, c(input$xcol, input$ycol)]\n  })\n\nclusters <- reactive({\n  kmeans(selectedData(), input$clusters)\n})\n\noutput$plot1 <- renderPlot({\n  palette(c(\"#E41A1C\", \"#377EB8\", \"#4DAF4A\", \"#984EA3\",\n    \"#FF7F00\", \"#FFFF33\", \"#A65628\", \"#F781BF\", \"#999999\"))\n\n  par(mar = c(5.1, 4.1, 0, 1))\n  plot(selectedData(),\n       col = clusters()$cluster,\n       pch = 20, cex = 3)\n  points(clusters()$centers, pch = 4, cex = 4, lwd = 4)\n})\n```\nThere are a few things worth noting in this example:\n\nThe YAML front-matter includes the page-layout: custom option (to indicate we want our content to occupy the entire page rather than being centered with padding).\nWe add panel: sidebar and panel: fill to the two code chunks that define the user-interface to specify that we want them laid out in special panel containers.\nWe again use context: server on the last R code chunk to indicate that it contains the Shiny Server code.\n\n\nPage Layout\nSome interactive documents you create will use narrative interspersed with Shiny components and some (like this example) will be full page applications. Some may even by hybrids—for example imagine a sidebar on the left containing inputs that control outputs interspersed with narrative in the main document body.\nSee the article on Component Layout to learn more about the available tools for managing the layout of interactive documents."
  },
  {
    "href": "docs/interactive/shiny/index.html#learning-more",
    "title": "Shiny",
    "section": "Learning More",
    "text": "To learn more about Shiny interactive documents see the following articles:\n\nRunning Documents covers how to run interactive documents both within RStudio and at the command line, as well as how to deploy them to end users.\nExecution Contexts goes in depth on when different code blocks (e.g. rendering vs. serving) run as well as how to cache expensive computations for more responsive documents.\nExternal Resources describes how to make sure that Shiny can locate resources (e.g. CSS, JS, images, etc.) that you include in your document.\nJavaScript & Shiny explains how to use Shiny to dynamically transform data for use in interactive graphics created with Observable JavaScript.\nComponent Layout enumerates the various techniques you can use to layout interactive components within your documents."
  },
  {
    "href": "docs/interactive/shiny/running.html#overview",
    "title": "Running Documents",
    "section": "Overview",
    "text": "There are a number of ways to run Shiny interactive documents:\n\nUse Run Document within the RStudio IDE.\nUse the quarto run command line interface.\nDeploy them to a server for use by a wider audience.\n\nWe’ll cover all of these scenario in depth here. Note that in order to run interactive Shiny documents you will to intall the very latest version of the rmarkdown package (v2.10) which you can install as follows:\ninstall.packages(\"rmarkdown\")"
  },
  {
    "href": "docs/interactive/shiny/running.html#rstudio-ide",
    "title": "Running Documents",
    "section": "RStudio IDE",
    "text": "While you are developing an interactive document it will likely be most convenient to run within RStudio.\nNote that you need the daily build of RStudio in order to run Quarto interactive documents, which you can download here https://dailies.rstudio.com.\nClick the Run Document button while editing a Shiny interactive document to render and view the document within the IDE:\n\nWhen you make changes, just click Run Document again to see them reflected in the document preview.\nTwo options you may want to consider enabling are Run on Save and Preview in Viewer Pane (by default previews occur in an external window). You can access these options on the editor toolbar:"
  },
  {
    "href": "docs/interactive/shiny/running.html#command-line",
    "title": "Running Documents",
    "section": "Command Line",
    "text": "You can also run Shiny interactive documents from the command line via quarto run. For example:\nquarto run document.qmd\nThere are a number of options to the run command to control the port and host of the document server as well as whether a browser is automatically opened for the running document. You can learn more about these options with quarto run help.\nIf you are within an R session you can also use the quarto R package to run a document:\nlibrary(quarto)\nquarto_run(\"document.qmd\")"
  },
  {
    "href": "docs/interactive/shiny/running.html#deployment",
    "title": "Running Documents",
    "section": "Deployment",
    "text": "ShinyApps\nYou can publish Shiny interactive documents to the ShinyApps hosted service. To do this you should ensure that you have:\n\nAn account on ShinyApps (use the signup form to create an account).\nThe very latest versions of the rsconnect and quarto R packages. You can install them as follows:\ninstall.packages(\"rsconnect\")\ninstall.packages(\"quarto\")\n\nYou can then deploy your interactive document using the quarto_publish_app() function of the quarto package. You can do this as follows (working from the directory that contains your document):\nlibrary(quarto)\nquarto_publish_app(server = \"shinyapps.io\")\nIf you are using RStudio you can also use the Publish button  available when working with an interactive document:\n\nNote that you should always Run Document locally prior to publishing your document (as this will create the .html file that is served on ShinyApps.\n\n\nRStudio Connect\nRStudio Connect is a server product from RStudio for secure sharing of applications, reports, and plots. You can publish Shiny interactive documents to RStudio Connect in much the same way as described above for ShinyApps.\nFirst, make sure you very latest development versions of the rsconnect and quarto R packages. You can install them as follows:\ninstall.packages(\"rsconnect\")\ninstall.packages(\"quarto\")\nNext, deploy your interactive document using the quarto_publish_app() function of the quarto package, providing the domain name or IP address of your RStudio Connect installation via the server parameter. You can do this as follows (working from the directory that contains your document):\nlibrary(quarto)\nquarto_publish_app(server = \"rsc.example.com\")\nIf you are using RStudio you can also use the Publish button  as described above in the ShinyApps documentation:\n\nAs with ShinyApps, you should always Run Document locally prior to publishing your document (as this will create the .html file that is served by RStudio Connect)."
  },
  {
    "href": "docs/interactive/shiny/resources.html#overview",
    "title": "External Resources",
    "section": "Overview",
    "text": "There are two types of external resource file that might be referenced from within a Shiny interactive document:\n\nFiles referenced from R code (e.g. R scripts, datasets, configuration files, etc.); and\nStatic assets referenced from the web document (e.g. CSS style-sheets, images, etc.)\n\nBelow we’ll describe how each of these resource types are handled within interactive documents."
  },
  {
    "href": "docs/interactive/shiny/resources.html#code-resources",
    "title": "External Resources",
    "section": "Code Resources",
    "text": "For files referenced from R code, you can reference anything located within the directory of (or sub-directories of) the main .qmd file. This is no different than with any other .qmd file or even R script.\nSimilarly, files created by executing R code (e.g. figures generated from code chunks) are automatically located in the document _files directory alongside the HTML output file. No special handling is required for these files."
  },
  {
    "href": "docs/interactive/shiny/resources.html#asset-resources",
    "title": "External Resources",
    "section": "Asset Resources",
    "text": "Many interactive documents will consist of only the generated HTML and figures located in the _files directory. However, in some cases you may want to add static images, CSS files, or other assets to your document.\nIn these cases, you need to be sure to locate the files within one of the following specially named sub-directories to ensure they can be located by the Shiny server:\n\n\n\nDirectory\nDescription\n\n\n\n\nimages/\nImage files (e.g. PNG, JPEG, etc.)\n\n\ncss/\nCSS stylesheets\n\n\njs/\nJavaScript scripts\n\n\nwww/\nAny other files (e.g. downloadable datasets)\n\n\n\nThe reason that all files within the directory of the main .qmd can’t be referenced from within the web document is that many of these files are application source code and data, which may not be something you want to be downloadable by end users. By restricting the files which can be referenced to the above directories you can control which files are downloadable and which are not."
  },
  {
    "href": "docs/interactive/js/data-sources.html#file-attachments",
    "title": "Data Sources",
    "section": "File attachments",
    "text": "The first approach uses the notion of “file attachments” from Observable’s runtime system. If you include a file as a resource from a Quarto project (FIXME: where in the docs do we describe resources?), then you can directly use that file in Javascript.\nLet’s take a NOAA’s Monthly CO2 concentration data from Mauna Loa, obtained from their website (and mildly processed to remove comments):\n\ndata = {\n  const v = await FileAttachment(\"co2_mm_mlo_clean.csv\").csv();\n  return v.map(d => { \n    d[\"decimal date\"] = Number(d[\"decimal date\"]);\n    d.average = Number(d.average); \n    return d; \n  });\n}\nPlot.plot({\n  marks: [\n    Plot.line(data, {x: \"decimal date\", y: \"average\"}, { stroke: \"black\" })\n  ]})"
  },
  {
    "href": "docs/interactive/js/data-sources.html#ojs_define",
    "title": "Data Sources",
    "section": "ojs_define",
    "text": "Sometimes, you might want to do some preprocessing of the data in R or Python before visualizing it in your interactive document. Although it’s often possible to use the file system and file attachments to communicate such values, the most direct way to do this is using the ojs_define command, which is available in both R and Python:\n\nlibrary(tidyverse)\n\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.0 ──\n\n\n✓ ggplot2 3.3.2     ✓ purrr   0.3.4\n✓ tibble  3.1.3     ✓ dplyr   1.0.7\n✓ tidyr   1.1.2     ✓ stringr 1.4.0\n✓ readr   2.0.0     ✓ forcats 0.5.0\n\n\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\nx dplyr::filter() masks stats::filter()\nx dplyr::lag()    masks stats::lag()\n\ndf = read.csv(\"co2_mm_mlo_clean.csv\", row.names=NULL)\nojs_define(co2 = df %>% group_by(year) %>% summarize(max = max(average)))\n\n\nPlot.plot({\n  marks: [\n    Plot.line(transpose(co2), {x: \"year\", y: \"max\"}, { stroke: \"black\" })\n  ]})"
  },
  {
    "href": "docs/interactive/js/scaling-up.html",
    "title": "Scaling Up",
    "section": "",
    "text": "importing modules\nimporting qmds\nimporting data/results"
  },
  {
    "href": "docs/interactive/js/index.html#text",
    "title": "JavaScript",
    "section": "Text",
    "text": "overall concept and quick demo\ncode for quick demo\nanother demo with code"
  },
  {
    "href": "docs/interactive/js/reactivity.html#inputs",
    "title": "Reactivity",
    "section": "Inputs",
    "text": "To obtain values from user input, start with Observable’s Inputs library, which gives you a simple way to create interactive inputs:\n\nviewof number = Inputs.range([10, 100], { value: 50, step: 1 })\nviewof text = Inputs.text()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThat viewof statement is special to Observable’s runtime. For now, just remember that input value expressions should have viewof in front of them."
  },
  {
    "href": "docs/interactive/js/reactivity.html#outputs",
    "title": "Reactivity",
    "section": "Outputs",
    "text": "An interactive output is just a JavaScript expression. If that expression includes reactive inputs, the Observable runtime library will automatically update the output when the input changes:\n\nmd`Output: **You typed \"${text}\" into the text box, and the slider value is ${number}.**`\n\n\n\n\n\n\nOutputs can be anything that JavaScript can create, including HTML and SVG elements. This green rectangle below will change with the value of the slider:"
  },
  {
    "href": "docs/interactive/js/reactivity.html#all-the-inputs-in-the-standard-library",
    "title": "Reactivity",
    "section": "All the inputs in the standard library",
    "text": "There are many ready-made input UI elements: see the Observable documentation for details."
  },
  {
    "href": "docs/interactive/js/reactivity.html#reactivity-in-depth",
    "title": "Reactivity",
    "section": "Reactivity in depth",
    "text": "TBF\n\nGenerators\nConverting callback style to reactive style\nConverting reactive style to callback style"
  },
  {
    "href": "docs/interactive/js/examples/dotdensity-map.html#data",
    "title": "Dot Density Map",
    "section": "Data",
    "text": "The data used here are the Gridded Population of the World (GPW), Version 4 (December 2018 edition), produced by CIESIN (Center for International Earth Science Information Network of the University of Colombia). Here, the data has been aggregated into hexagons of different resolutions and stored in a topojson file. This work has been done beforehand with the R language. The code is available here. The smaller the resolution you choose (e.g. 2 degrees), the more accurate the map is.\n\ngwp4 = d3.json(\n  \"https://raw.githubusercontent.com/neocarto/resources/master/datasets/ciesin/pophex.topjson\"\n)\n\n\n\n\n\n\n\nland = d3\n  .json(\n    \"https://raw.githubusercontent.com/neocarto/resources/master/datasets/ciesin/land.topojson\"\n  )\n  .then((r) => topojson.feature(r, r.objects.land))\n\n\n\n\n\n\n# Cartography & layout\n\nwidth = 1000\n\n\n\n\n\n\n\nheight = 500\n\n\n\n\n\n\n\nsphere = ({ type: \"Sphere\" })\n\n\n\n\n\n\n\nprojection = d3.geoNaturalEarth2()\n\n\n\n\n\n\n\npath = d3.geoPath(projection)\n\n\n\n\n\n\n\nequator = ({\n  type: \"LineString\",\n  coordinates: [[-180, 0], [-90, 0], [0, 0], [90, 0], [180, 0]]\n})\n\n\n\n\n\n\n\ndata = topojson.feature(gwp4, gwp4.objects[\"pophex_\" + res + \"deg\"]).features\n\n\n\n\n\n\n\ndotdensitylayer = dotsInPolys(\n  data,\n  data.map(d => d.properties.pop2020),\n  peoplePerPoint * 1000000\n)\n\n\n\n\n\n\n\ntxttitle = \"World\\nPopulation\\nin 2020\".split(\"\\n\")\n\n\n\n\n\n\n\ntxtsource = \"Map Design: Nicolas Lambert, 2021\\nData source: Gridded Population\\nof the World, Version 4 (GPWv4),\\nCenter for International Earth Science\\nInformation Network - CIESIN -\\nColumbia University\".split(\n  \"\\n\"\n)\n\n\n\n\n\n\n\ntxtlegend = (\n  \"One point represents\\n\" +\n  peoplePerPoint +\n  \" million people\"\n).split(\"\\n\")"
  },
  {
    "href": "docs/interactive/js/examples/dotdensity-map.html#helpers",
    "title": "Dot Density Map",
    "section": "Helpers",
    "text": "The important part of the code is here. These two functions basend on turfs.js allows to convert data from polygons to a dot density layer.\n\ndotsInPoly = (feature, value, valuePerPoint) => {\n  let points = [];\n  let hits = 0;\n  let count = 0;\n  const nbdots = Math.round(value / valuePerPoint);\n  const bounds = turf.bbox(feature);\n  while (hits < nbdots && count < nbdots * 10) {\n    const coords = turf.randomPosition(bounds);\n    const randomPoint = turf.point(coords);\n    if (turf.booleanPointInPolygon(randomPoint, feature)) {\n      points.push(randomPoint);\n      hits++;\n    }\n    count++;\n  }\n  return points;\n}\n\n\n\n\n\n\n\ndotsInPolys = (features, data, valuePerPoint) => {\n  let result = [];\n  for (let i = 0; i < features.length; i++) {\n    const dots = dotsInPoly(features[i], data[i], valuePerPoint);\n    result = result.concat(dots);\n  }\n  return result;\n}"
  },
  {
    "href": "docs/interactive/js/examples/dotdensity-map.html#appendix",
    "title": "Dot Density Map",
    "section": "Appendix",
    "text": "turf = require(\"@turf/turf@6\")\n\n\n\n\n\n\n\nimport { Range, Toggle } from \"@observablehq/inputs\"\n\n\n\n\n\n\n\ntopojson = require('topojson')\n\n\n\n\n\n\n\nd3 = require(\"d3@6\", \"d3-geo-projection@2\")\n\n\n\n\n\n\n\nSource Code\n---\ntitle: \"Dot Density Map\"\nsubtitle: \"Originally published at <https://observablehq.com/@neocartocnrs/dotdensity-map>\"\nauthor: \"neocarto\"\ndate: 2021-03-04\nlicense: mit\nformat: \n  html:\n    code-tools: true\n---\n\n\nDid you know that the first dot density map was designed by **Armand Joseph Frère de Montizon** in 1830? [His map](https://upload.wikimedia.org/wikipedia/commons/e/e6/Carte_Philosophique_figurant_la_Population_de_la_France.jpg) represented the French population by departments, with 1 dot for 10,000 people. In this notebook, I propose a method to make dot density maps with [Turf.js](https://observablehq.com/@neocartocnrs/cheat-sheet-turf-js/2). For that, I built the functions **dotsInPoly()** & **dotsInPolys()** (see [helpers]). The resulted map presented here is based on gridded data at different scales (see explanations in the data section below).\n\n::: {.panel-input}\n\n```{ojs}\n//| echo: false\nviewof peoplePerPoint = Range([0.5, 20], {\n  step: 0.5,\n  value: 3,\n  label: \"Dot value\"\n})\n```\n\n```{ojs}\n//| echo: false\nviewof radius = Range([0.4, 3], {\n  value: 1,\n  label: \"Dot size\"\n})\n```\n\n:::\n\n```{ojs}\n//| echo: false\nmap = {\n  const svg = d3\n    .create(\"svg\")\n    .attr(\"viewBox\", [0, 0, width, height])\n    .style(\"width\", \"100%\")\n    .style(\"height\", \"auto\");\n\n  // Background\n\n  svg\n    .append(\"g\")\n    .append(\"path\")\n    .datum(sphere)\n    .attr(\"class\", \"graticuleOutline\")\n    .attr(\"d\", path)\n    .style('fill', \"#9ACBE3\");\n\n  svg\n    .append(\"g\")\n    .append(\"path\")\n    .datum(d3.geoGraticule10())\n    .attr(\"class\", \"graticule\")\n    .attr(\"d\", path)\n    .attr(\"clip-path\", \"url(#clip)\")\n    .style('fill', \"none\")\n    .style('stroke', \"white\")\n    .style('stroke-width', .8)\n    .style('stroke-opacity', .5)\n    .style('stroke-dasharray', 2);\n\n  svg\n    .append(\"g\")\n    .append(\"path\")\n    .datum(equator)\n    .attr(\"d\", path)\n    .style('fill', \"none\")\n    .attr(\"stroke\", \"white\")\n    .style('stroke-width', 1.4)\n    .style('stroke-opacity', .5)\n    .style('stroke-dasharray', 2);\n\n  svg\n    .append(\"path\")\n    .datum(land)\n    .attr(\"fill\", \"#e0daa2\")\n    .attr(\"stroke\", \"#737270\")\n    .attr(\"stroke-width\", 0.3)\n    .attr(\"d\", path);\n\n  if (grid) {\n    svg\n      .append(\"path\")\n      .datum(topojson.feature(gwp4, gwp4.objects[\"pophex_\" + res + \"deg\"]))\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", \"#731531\")\n      .attr(\"stroke-width\", 0.3)\n      .attr(\"stroke-opacity\", 0.5)\n      .attr(\"d\", path);\n  }\n\n  svg\n    .append(\"g\")\n    .attr(\"fill\", \"#ba2d55\")\n    .attr(\"stroke\", \"#731531\")\n    .attr(\"stroke-width\", 0.2)\n    .selectAll(\"circle\")\n    .data(dotdensitylayer)\n    .join(\"circle\")\n    .attr(\"cx\", d => projection(d.geometry.coordinates)[0])\n    .attr(\"cy\", d => projection(d.geometry.coordinates)[1])\n    .attr(\"r\", radius);\n\n  // Layout\n\n  const txtx = 120;\n\n  svg\n    .append('line')\n    .style(\"stroke\", \"#1f235c\")\n    .style(\"stroke-width\", 1)\n    .attr(\"x1\", txtx - 8)\n    .attr(\"y1\", 265)\n    .attr(\"x2\", txtx - 8)\n    .attr(\"y2\", 410);\n\n  var title = svg\n    .append(\"text\")\n    .attr(\"y\", 260)\n    .attr(\"font-family\", \"sans-serif\")\n    .attr(\"font-weight\", \"bold\")\n    .attr(\"fill\", \"#1f235c\")\n    .style(\"font-size\", \"30px\")\n    .attr(\"fill-opacity\", 0.7);\n\n  txttitle.forEach(d => {\n    title\n      .append(\"tspan\")\n      .attr(\"x\", txtx)\n      .attr(\"dy\", 30)\n      .text(d);\n  });\n\n  var source = svg\n    .append(\"text\")\n    .attr(\"y\", 360)\n    .attr(\"font-family\", \"sans-serif\")\n    .attr(\"fill\", \"#1f235c\")\n    .style(\"font-size\", \"8px\")\n    .attr(\"fill-opacity\", 0.5);\n\n  txtsource.forEach(d => {\n    source\n      .append(\"tspan\")\n      .attr(\"x\", txtx)\n      .attr(\"dy\", 8)\n      .text(d);\n  });\n\n  const txtx2 = 790;\n\n  svg\n    .append('line')\n    .style(\"stroke\", \"#1f235c\")\n    .style(\"stroke-width\", 1)\n    .attr(\"x1\", txtx2 + 5)\n    .attr(\"y1\", 385)\n    .attr(\"x2\", txtx2 + 5)\n    .attr(\"y2\", 415);\n\n  var legend = svg\n    .append(\"text\")\n    .attr(\"y\", 380)\n    .attr(\"text-anchor\", \"end\")\n    .attr(\"font-family\", \"sans-serif\")\n    .attr(\"font-weight\", \"bold\")\n    .attr(\"fill\", \"#1f235c\")\n    .style(\"font-size\", \"15px\")\n    .attr(\"fill-opacity\", 0.7);\n\n  txtlegend.forEach(d => {\n    legend\n      .append(\"tspan\")\n      .attr(\"x\", txtx2)\n      .attr(\"dy\", 16)\n      .text(d);\n  });\n\n  return svg.node();\n}\n```\n\n## Data \n\n```{ojs}\n//| echo: false\nviewof res = Range([2, 10], {\n  step: 1,\n  value: 2,\n  label: \"Initial resolution (degrees)\"\n  //format: value => \"pophex_\" + value + \"deg\"\n})\n```\n\n\n```{ojs}\n//| echo: false\nviewof grid = Toggle({ label: \"Reference grid\" })\n```\n\n\nThe data used here are the [Gridded Population of the World (GPW), Version 4 (December 2018 edition)](https://sedac.ciesin.columbia.edu/data/collection/gpw-v4), produced by CIESIN (Center for International Earth Science Information Network of the University of Colombia). Here, the data has been aggregated into hexagons of different resolutions and stored in a topojson file. **This work has been done beforehand with the <ins>R language</ins>**. The code is available [here](https://gitlab.huma-num.fr/nlambert/resources/-/blob/master/datasets/ciesin/input/BuildData.R). The smaller the resolution you choose (e.g. 2 degrees), the more accurate the map is.\n\n```{ojs}\ngwp4 = d3.json(\n  \"https://raw.githubusercontent.com/neocarto/resources/master/datasets/ciesin/pophex.topjson\"\n)\n```\n\n```{ojs}\nland = d3\n  .json(\n    \"https://raw.githubusercontent.com/neocarto/resources/master/datasets/ciesin/land.topojson\"\n  )\n  .then((r) => topojson.feature(r, r.objects.land))\n```\n\n # Cartography & layout\n\n```{ojs}\nwidth = 1000\n```\n\n```{ojs}\nheight = 500\n```\n\n```{ojs}\nsphere = ({ type: \"Sphere\" })\n```\n\n```{ojs}\nprojection = d3.geoNaturalEarth2()\n```\n\n```{ojs}\npath = d3.geoPath(projection)\n```\n\n```{ojs}\nequator = ({\n  type: \"LineString\",\n  coordinates: [[-180, 0], [-90, 0], [0, 0], [90, 0], [180, 0]]\n})\n```\n\n```{ojs}\ndata = topojson.feature(gwp4, gwp4.objects[\"pophex_\" + res + \"deg\"]).features\n```\n\n```{ojs}\ndotdensitylayer = dotsInPolys(\n  data,\n  data.map(d => d.properties.pop2020),\n  peoplePerPoint * 1000000\n)\n```\n\n```{ojs}\ntxttitle = \"World\\nPopulation\\nin 2020\".split(\"\\n\")\n```\n\n```{ojs}\ntxtsource = \"Map Design: Nicolas Lambert, 2021\\nData source: Gridded Population\\nof the World, Version 4 (GPWv4),\\nCenter for International Earth Science\\nInformation Network - CIESIN -\\nColumbia University\".split(\n  \"\\n\"\n)\n```\n\n```{ojs}\ntxtlegend = (\n  \"One point represents\\n\" +\n  peoplePerPoint +\n  \" million people\"\n).split(\"\\n\")\n```\n\n## Helpers \n\nThe important part of the code is here. These two functions basend on turfs.js allows to convert data from polygons to a dot density layer.\n\n```{ojs}\ndotsInPoly = (feature, value, valuePerPoint) => {\n  let points = [];\n  let hits = 0;\n  let count = 0;\n  const nbdots = Math.round(value / valuePerPoint);\n  const bounds = turf.bbox(feature);\n  while (hits < nbdots && count < nbdots * 10) {\n    const coords = turf.randomPosition(bounds);\n    const randomPoint = turf.point(coords);\n    if (turf.booleanPointInPolygon(randomPoint, feature)) {\n      points.push(randomPoint);\n      hits++;\n    }\n    count++;\n  }\n  return points;\n}\n```\n\n```{ojs}\ndotsInPolys = (features, data, valuePerPoint) => {\n  let result = [];\n  for (let i = 0; i < features.length; i++) {\n    const dots = dotsInPoly(features[i], data[i], valuePerPoint);\n    result = result.concat(dots);\n  }\n  return result;\n}\n```\n\n## Appendix\n\n```{ojs}\nturf = require(\"@turf/turf@6\")\n```\n\n```{ojs}\nimport { Range, Toggle } from \"@observablehq/inputs\"\n```\n\n```{ojs}\ntopojson = require('topojson')\n```\n\n```{ojs}\n//| echo: true\nd3 = require(\"d3@6\", \"d3-geo-projection@2\")\n```"
  },
  {
    "href": "docs/interactive/js/examples/olympic-athletes.html#appendix",
    "title": "Olympic Athletes",
    "section": "Appendix",
    "text": "function previews(notebooks, options) {\n  return htl.html`<div style=\"display: grid; grid-gap: .875rem; grid-template-columns: repeat(auto-fill, minmax(160px, 5fr));\">${notebooks.map(notebook => preview(notebook, options))}</div>`;\n}\n\n\n\n\n\n\n\nfunction preview({path, title, author, thumbnail}, {target = \"_blank\"} = {}) {\n  return htl.html`<a href=${`/${path}`} target=${target} title=\"${title}${author ? `by ${author}`: \"\"}\" style=\"display: inline-flex; flex-direction: column; align-items: start; font: 400 .75rem var(--sans-serif); color: #1b1e23; width: 100%;\" onmouseover=${event => event.currentTarget.firstElementChild.style.borderColor = \"#1b1e23\"} onmouseout=${event => event.currentTarget.firstElementChild.style.borderColor = \"#e8e8e8\"}>\n  <div style=\"border: solid 1px #e8e8e8; border-radius: 4px; box-sizing: border-box; width: 100%; padding-top: 62.5%; background-size: cover; background-image: url(https://static.observableusercontent.com/thumbnail/${encodeURI(thumbnail)}.jpg);\"></div>\n  <div style=\"width: 100%; white-space: nowrap; text-overflow: ellipsis; overflow: hidden;\">${title}</div>\n</a>`;\n}\n\n\n\n\n\n\n\nimport {swatches as Swatches} from \"@d3/color-legend\""
  },
  {
    "href": "docs/interactive/js/examples/france-vaccination.html#texts",
    "title": "France Covid-19 Vaccination",
    "section": "Texts",
    "text": ""
  },
  {
    "href": "docs/interactive/js/examples/france-vaccination.html#variables",
    "title": "France Covid-19 Vaccination",
    "section": "Variables",
    "text": ""
  },
  {
    "href": "docs/interactive/js/examples/france-vaccination.html#geometries",
    "title": "France Covid-19 Vaccination",
    "section": "Geometries",
    "text": ""
  },
  {
    "href": "docs/interactive/js/examples/france-vaccination.html#data",
    "title": "France Covid-19 Vaccination",
    "section": "Data",
    "text": "vaccins = {\n  let psv = d3.dsvFormat(\";\");\n  let url =\n    \"https://www.data.gouv.fr/fr/datasets/r/de4b356b-8cd9-4b9a-8878-459a62646107\";\n  try {\n    let v = d3.csv(url);\n    v[0].clage_vacsi;\n    return v;\n  } catch (e) {\n    let v = d3.text(url).then((txt) => psv.parse(txt));\n    return v;\n  }\n}"
  },
  {
    "href": "docs/interactive/js/examples/france-vaccination.html#helpers",
    "title": "France Covid-19 Vaccination",
    "section": "Helpers",
    "text": "getcentroids = new Map(\n  dpt.features\n    .map(d => {\n      return d;\n    })\n    .map(d => [d.properties.DEP, path.centroid(d)])\n)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ndatetodate = function(dat) {\n  let m = [\n    \"mois\",\n    \"janvier\",\n    \"février\",\n    \"mars\",\n    \"avril\",\n    \"mai\",\n    \"juin\",\n    \"juillet\",\n    \"août\",\n    \"septembre\",\n    \"octobre\",\n    \"novembre\",\n    \"décembre\"\n  ];\n\n  let j1 = +dat.substr(8, 2);\n  let j = j1 == 1 ? j1 + \"er\" : j1;\n  let m1 = m[+dat.substr(5, 2)];\n  let a1 = dat.substr(0, 4);\n\n  return j + \" \" + m1 + \" \" + a1;\n}"
  },
  {
    "href": "docs/interactive/js/examples/france-vaccination.html#depedencies",
    "title": "France Covid-19 Vaccination",
    "section": "Depedencies",
    "text": "Source Code\n---\ntitle: \"France Covid-19 Vaccination\"\nsubtitle: \"Originally published at: <https://observablehq.com/@neocartocnrs/vaccination-against-covid-19-in-france>\"\nauthor: \"neocarto\"\ndate: 2021-02-09\nlicense: mit\nformat: \n  html:\n    toc: false\n    page-layout: custom\n    code-tools: true\nexecute:\n  echo: false\n---\n\n::: {.panel-sidebar}\n\n```{ojs}\nviewof myage = {\n  const myage = select({\n    title: \"Quelle classe d'âge voulez-vous cartographier ?\",\n    options: ages,\n    value: \"80etplus\"\n  });\n  return myage;\n}\n```\n\n```{ojs}\nviewof pctvax = slider({\n  title: '<br/>Objectif de vaccination',\n  description: '200% signifie 2 doses par personnes pour tout le monde',\n  min: 50,\n  max: 200,\n  value: 200,\n  step: 10,\n  format: v => v + \"%\"\n})\n```\n\n```{ojs}\nviewof overlay = radio({\n  title: \"Écarter les cercles\",\n  options: [{ label: 'Oui', value: 'Y' }, { label: 'Non', value: 'N' }],\n  value: 'N'\n})\n```\n\n```{ojs}\nviewof label = radio({\n  title: \"Numéros des départements\",\n  options: [{ label: 'Afficher', value: 'Y' }, { label: 'Masquer', value: 'N' }],\n  value: 'N'\n})\n```\n\n:::\n\n\n```{ojs}\n//| panel: fill\n\nmap = {\n  for (let i = 0; i < 200; i++) {\n    simulation.tick();\n  }\n\n  const svg = d3\n    .create(\"svg\")\n    .attr(\"viewBox\", [0, 0, width, height])\n    .style('background-color', \"white\");\n\n  // Filters\n\n  var defs = svg.append(\"defs\");\n\n  const pattern = defs\n    .append(\"pattern\")\n    .attr(\"id\", \"hatch\")\n    .attr(\"patternUnits\", \"userSpaceOnUse\")\n    .attr(\"width\", 6)\n    .attr(\"height\", 6);\n\n  const filter = defs\n    .append('filter')\n    .attr('id', 'border-blur')\n    .append('feGaussianBlur')\n    .attr('in', 'SourceGraphic')\n    .attr('stdDeviation', 10)\n    .attr('result', 'shadow');\n\n  const filter2 = defs\n    .append('filter')\n    .attr('id', 'border-blur2')\n    .append('feGaussianBlur')\n    .attr('in', 'SourceGraphic')\n    .attr('stdDeviation', 50)\n    .attr('result', 'shadow');\n\n  pattern\n    .append(\"line\")\n    .attr(\"x1\", 0)\n    .attr(\"y1\", 0)\n    .attr(\"x2\", 6)\n    .attr(\"y1\", 6)\n    .attr(\"stroke\", \"#f4f4f4\")\n    .attr(\"stroke-width\", 1)\n    .attr(\"stroke-opacity\", 0.4);\n\n  svg\n    .append(\"rect\")\n    .attr(\"x\", 0)\n    .attr(\"y\", 0)\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n    .style('fill', \"#9ACBE3\")\n    .attr('filter', 'url(#border-blur2)');\n\n  svg\n    .append(\"rect\")\n    .attr(\"fill-opacity\", 0.4)\n    .attr(\"x\", 0)\n    .attr(\"y\", 0)\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n    .attr('fill', \"url('#hatch')\");\n\n  // Graticule\n\n  svg\n    .append(\"g\")\n    .append(\"path\")\n    .datum(graticule)\n    .attr(\"class\", \"graticule\")\n    .attr(\"d\", path)\n    .attr(\"clip-path\", \"url(#clip)\")\n    .style('fill', \"none\")\n    .style('stroke', \"white\")\n    .style('stroke-width', .5)\n    .style('stroke-opacity', .4)\n    .style('stroke-dasharray', 0.5);\n\n  // Boxes for remotes territories\n\n  const delta = 12;\n\n  svg\n    .append(\"rect\")\n    .attr(\"x\", 30)\n    .attr(\"y\", 480)\n    .attr(\"width\", 80)\n    .attr(\"height\", 80)\n    .attr(\"stroke\", \"white\")\n    .style('fill', \"#9ACBE3\");\n\n  svg\n    .append(\"rect\")\n    .attr(\"x\", 30)\n    .attr(\"y\", 480 + 80 + delta)\n    .attr(\"width\", 80)\n    .attr(\"height\", 80)\n    .attr(\"stroke\", \"white\")\n    .style('fill', \"#9ACBE3\");\n\n  svg\n    .append(\"rect\")\n    .attr(\"x\", 30)\n    .attr(\"y\", 480 + 80 + 80 + delta + delta)\n    .attr(\"width\", 80)\n    .attr(\"height\", 80)\n    .attr(\"stroke\", \"white\")\n    .style('fill', \"#9ACBE3\");\n\n  svg\n    .append(\"rect\")\n    .attr(\"x\", 670)\n    .attr(\"y\", 885)\n    .attr(\"width\", 80)\n    .attr(\"height\", 80)\n    .attr(\"stroke\", \"white\")\n    .style('fill', \"#9ACBE3\");\n\n  svg\n    .append(\"rect\")\n    .attr(\"x\", 670 + 80 + delta)\n    .attr(\"y\", 885)\n    .attr(\"width\", 80)\n    .attr(\"height\", 80)\n    .attr(\"stroke\", \"white\")\n    .style('fill', \"#9ACBE3\");\n\n  svg\n    .append(\"path\")\n    .datum(land)\n    .attr(\"d\", path)\n    .style(\"fill\", \"white\")\n    .attr(\"fill-opacity\", .6)\n    .attr('filter', 'url(#border-blur)');\n\n  // Chart\n\n  let infos = svg\n    .append(\"g\")\n    .attr(\"id\", \"tooltip\")\n    .attr(\"font-family\", \"sans-serif\")\n    .attr(\"font-weight\", \"bold\");\n\n  let chart_x = 830;\n  let chart_y = 155;\n  let chart_height = 400;\n  let rect_max = 270;\n  let myval = 50;\n\n  let fr_label = \"France\";\n  let fr_pop = format(d3.sum(data, d => d[\"pop_\" + myage]));\n  let fr_doses = format(d3.sum(data, d => d[\"doses_\" + myage]));\n  let fr_tx =\n    (100 * d3.sum(data, d => d[\"doses_\" + myage])) /\n    d3.sum(data, d => d[\"pop_\" + myage]);\n  let fr_ratio =\n    Math.round(\n      (1000 * d3.sum(data, d => d[\"doses_\" + myage])) /\n        d3.sum(data, d => d[\"pop_\" + myage])\n    ) /\n      10 +\n    \"%\";\n\n  infos\n    .append(\"rect\")\n    .attr(\"id\", \"info_rect\")\n    .attr(\"x\", 870)\n    .attr(\"width\", 55)\n    .attr(\"height\", fr_tx * (rect_max / pctvax))\n    .attr(\"y\", 217 - fr_tx * (rect_max / pctvax) + rect_max)\n    .attr(\"fill\", \"#647382\");\n\n  let seringue = svg\n    .append(\"svg:image\")\n    .attr(\"x\", chart_x)\n    .attr(\"y\", chart_y)\n    .attr(\"height\", chart_height)\n    .attr(\n      \"xlink:href\",\n      \"https://nlambert.gitpages.huma-num.fr/resources/images/sering_b.svg\"\n    );\n\n  svg\n    .append(\"line\")\n    .attr(\"x1\", 920)\n    .attr(\"x2\", 956)\n    .attr(\"y1\", 102)\n    .attr(\"y2\", 102)\n    .attr(\"stroke\", countrycol)\n    .attr(\"stroke-linecap\", \"round\")\n    .attr(\"stroke-width\", 2.5);\n\n  svg\n    .append(\"line\")\n    .attr(\"x1\", 956)\n    .attr(\"x2\", 956)\n    .attr(\"y1\", 102)\n    .attr(\"y2\", 140)\n    .attr(\"stroke\", countrycol)\n    .attr(\"stroke-linecap\", \"round\")\n    .attr(\"stroke-width\", 2.5);\n\n  infos\n    .append(\"text\")\n    .attr(\"id\", \"info_name\")\n    .attr(\"x\", width - 60)\n    .attr(\"y\", 137)\n    .attr(\"text-anchor\", \"end\")\n    .attr(\"fill\", countrycol)\n    .style(\"font-size\", \"35px\")\n    .text(fr_label);\n\n  let yref = 580;\n\n  infos\n    .append(\"text\")\n    .attr(\"x\", 895)\n    .attr(\"y\", yref)\n    .attr(\"text-anchor\", \"middle\")\n    .attr(\"fill\", countrycol)\n    .style(\"font-size\", \"15px\")\n    .text(\"Nombre de personnes\");\n\n  infos\n    .append(\"text\")\n    .attr(\"id\", \"info_pop\")\n    .attr(\"x\", 895)\n    .attr(\"y\", yref + 27)\n    .attr(\"text-anchor\", \"middle\")\n    .attr(\"fill\", \"#4a524d\")\n    .attr(\"fill-opacity\", 0.8)\n    .style(\"font-size\", \"20px\")\n    .text(fr_pop);\n\n  infos\n    .append(\"text\")\n    .attr(\"x\", 895)\n    .attr(\"y\", yref + 50)\n    .attr(\"text-anchor\", \"middle\")\n    .attr(\"fill\", countrycol)\n    .style(\"font-size\", \"15px\")\n    .text(\"Nombre de doses\");\n\n  infos\n    .append(\"text\")\n    .attr(\"id\", \"info_doses\")\n    .attr(\"x\", 895)\n    .attr(\"y\", yref + 27 + 50)\n    .attr(\"text-anchor\", \"middle\")\n    .attr(\"fill\", \"#4a524d\")\n    .attr(\"fill-opacity\", 0.8)\n    .style(\"font-size\", \"20px\")\n    .text(fr_doses);\n\n  infos\n    .append(\"text\")\n    .attr(\"x\", 895)\n    .attr(\"y\", yref + 100)\n    .attr(\"text-anchor\", \"middle\")\n    .attr(\"fill\", countrycol)\n    .style(\"font-size\", \"15px\")\n    .text(\"Ratio\");\n\n  infos\n    .append(\"text\")\n    .attr(\"id\", \"info_tx\")\n    .attr(\"x\", 895)\n    .attr(\"y\", yref + 42 + 100)\n    .attr(\"text-anchor\", \"middle\")\n    .attr(\"fill\", \"#4a524d\")\n    .attr(\"fill-opacity\", 0.8)\n    .style(\"font-size\", \"40px\")\n    .text(fr_ratio);\n\n  // Basemap;\n\n  svg\n    .append(\"g\")\n    .attr(\"id\", \"map\")\n    .selectAll(\"path\")\n    .data(dpt.features)\n    .join(\"path\")\n    .attr(\"class\", \"dpt\")\n    .attr(\"stroke\", overlay == \"N\" ? \"white\" : countrycol)\n    .attr(\"stroke-width\", 0.5)\n    .attr(\"fill\", countrycol)\n    .attr(\"fill-opacity\", fr_doses == 0 ? 0.1 : 1)\n    .attr(\"stroke-opacity\", fr_doses == 0 ? 0 : 1)\n    .attr(\"d\", path);\n\n  svg\n    .append(\"path\")\n    .datum(france)\n    .attr(\"d\", path)\n    .attr(\"fill\", \"none\")\n    .attr(\"stroke\", \"#75a8c9\")\n    .attr(\"stroke-width\", 1);\n\n  // Bubbles;\n\n  if (fr_doses != 0) {\n    svg\n      .append(\"g\")\n      .attr(\"fill-opacity\", 0.9)\n      .attr(\"stroke\", \"#fff\")\n      .attr(\"stroke-width\", 0.5)\n      .selectAll(\"circle\")\n      .data(\n        data\n          .filter(d => d.coordx)\n          .sort((a, b) =>\n            d3.descending(a[\"doses_\" + myage], b[\"doses_\" + myage])\n          )\n      )\n\n      .join(\"circle\")\n      .attr(\"id\", d => d.id)\n      .attr(\"fill\", d => getcolor(ratiobyid.get(d.id)))\n      .attr(\"cx\", overlay == 'N' ? d => d.coordx : d => d.x)\n      .attr(\"cy\", overlay == 'N' ? d => d.coordy : d => d.y)\n      .attr(\"r\", d => radius(+d[\"doses_\" + myage]))\n      // Interactivity\n      .on(\"touchmove mousemove\", function(event, d) {\n        let tx = (100 * d[\"doses_\" + myage]) / d[\"pop_\" + myage];\n\n        d3.select(this)\n          .style(\"cursor\", \"pointer\")\n          .attr(\"stroke\", \"red\")\n          .attr(\"stroke-width\", 2);\n        d3.select(\"#info_rect\")\n          .attr(\"height\", tx * (rect_max / pctvax))\n          .attr(\"y\", 217 - tx * (rect_max / pctvax) + rect_max)\n          .attr(\"fill\", getcolor(tx));\n        d3.select(\"#info_name\").text(d.name);\n        d3.select(\"#info_pop\").text(format(d[\"pop_\" + myage]));\n        d3.select(\"#info_doses\").text(format(d[\"doses_\" + myage]));\n        d3.select(\"#info_tx\").text(\n          Math.round(1000 * (d[\"doses_\" + myage] / d[\"pop_\" + myage])) / 10 +\n            \"%\"\n        );\n      })\n      .on(\"touchend mouseleave\", function() {\n        d3.select(this)\n          .attr(\"stroke\", \"white\")\n          .attr(\"stroke-width\", 0.5);\n        d3.select(\"#info_rect\")\n          .attr(\"height\", fr_tx * (rect_max / pctvax))\n          .attr(\"y\", 217 - fr_tx * (rect_max / pctvax) + rect_max)\n          .attr(\"fill\", \"#647382\");\n        d3.select(\"#info_name\").text(fr_label);\n        d3.select(\"#info_pop\").text(fr_pop);\n        d3.select(\"#info_doses\").text(fr_doses);\n        d3.select(\"#info_tx\").text(fr_ratio);\n      });\n  }\n\n  //labels\n\n  if (label == \"Y\") {\n    svg\n      .selectAll(\"text\")\n      .data(data)\n      .enter()\n      .append(\"text\")\n      .attr(\"x\", d => (overlay == \"N\" ? d.coordx : d.x))\n      .attr(\"y\", d => (overlay == \"N\" ? d.coordy : d.y))\n      .text(d => d.id)\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"dominant-baseline\", \"middle\")\n      .attr(\"font-family\", function(d, i) {\n        return i < 5 ? \"serif\" : \"sans-serif\";\n      })\n      .attr(\"fill\", \"#4e524f\")\n      .style(\"font-size\", \"12px\");\n  }\n\n  // Legend\n\n  if (fr_doses != 0) {\n    svg\n      .append(\"text\")\n      .attr(\"x\", 35)\n      .attr(\"y\", 905)\n      .text(\"Nombre de doses / nombre de personnes (en %)\")\n      .attr(\"font-family\", \"sans-serif\")\n      .attr(\"font-weight\", \"bold\")\n      .attr(\"fill\", \"#4a524d\")\n      .style(\"font-size\", \"16px\");\n\n    svg\n      .append(\"g\")\n      .attr(\"transform\", \"translate(35, 900)\")\n      .append(() =>\n        legend({\n          color: getcolor,\n          width: 360,\n          height: 60,\n          tickFormat: \".1f\"\n        })\n      );\n\n    svg\n      .append(\"text\")\n      .attr(\"x\", 35)\n      .attr(\"y\", 780)\n      .text(\"Nombre de doses\")\n      .attr(\"font-family\", \"sans-serif\")\n      .attr(\"font-weight\", \"bold\")\n      .attr(\"fill\", \"#4a524d\")\n      .style(\"font-size\", \"16px\");\n\n    svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(35, 800)`)\n      .call(legcircles);\n  }\n\n  // Title\n\n  svg\n    .append(\"rect\")\n    .attr(\"x\", 0)\n    .attr(\"y\", 0)\n    .attr(\"width\", width)\n    .attr(\"height\", 80)\n    .attr(\"fill\", countrycol)\n    .attr(\"fill-opacity\", 0.3);\n\n  svg\n    .append(\"text\")\n    .text(\n      \"État de la vaccination dans votre département au \" + datetodate(mydate)\n    )\n    .attr(\"x\", width / 2)\n    .attr(\"y\", 50)\n    .attr(\"font-family\", \"sans-serif\")\n    .attr(\"font-weight\", \"bold\")\n    .attr(\"text-anchor\", \"middle\")\n    .attr(\"fill\", \"#4a524d\")\n    .style(\"font-size\", \"28px\")\n    .attr(\"fill-opacity\", 1);\n\n  // Staging\n\n  svg\n    .append(\"g\")\n    .attr(\"transform\", `translate(-100, 0)`)\n    .append(\"g\")\n    .call(scaleBar);\n\n  var source = svg\n    .append(\"text\")\n    .attr(\"x\", 0)\n    .attr(\"y\", 0)\n    .attr('transform', 'translate(17,973) rotate(-90)')\n    .text(txtsource)\n    .attr(\"font-family\", \"sans-serif\")\n    .style(\"font-size\", \"11px\")\n    .style(\"font-style\", \"italic\")\n    .attr(\"fill-opacity\", 1)\n    .style('fill', \"#616161\");\n\n  svg\n    .append(\"text\")\n    .attr(\"x\", 210)\n    .attr(\"y\", 120)\n    .text(\"Classe d'âge\")\n    .attr(\"font-family\", \"sans-serif\")\n    .attr(\"font-weight\", \"bold\")\n    .attr(\"text-anchor\", \"middle\")\n    .attr(\"fill\", \"#4a524d\")\n    .attr(\"fill-opacity\", 0.8)\n    .style(\"font-size\", \"16px\");\n\n  svg\n    .append(\"rect\")\n    .attr(\"x\", 82)\n    .attr(\"y\", 133)\n    .attr(\"width\", 260)\n    .attr(\"height\", 50)\n    .attr(\"stroke\", \"#4a524d\")\n    .attr(\"stroke-opacity\", 0.8)\n    .attr(\"fill\", \"none\");\n\n  svg\n    .append(\"text\")\n    .attr(\"x\", 210)\n    .attr(\"y\", 170)\n    .text(agesbyid.get(myage))\n    .attr(\"font-family\", \"sans-serif\")\n    .attr(\"font-weight\", \"bold\")\n    .attr(\"text-anchor\", \"middle\")\n    .attr(\"fill\", \"#4a524d\")\n    .attr(\"fill-opacity\", 0.8)\n    .style(\"font-size\", \"35px\");\n\n  // Signature\n\n  svg\n    .append(\"svg:image\")\n    .attr(\"x\", 954)\n    .attr(\"y\", 960)\n    .attr(\"width\", 40)\n    .attr(\n      \"xlink:href\",\n      \"https://nlambert.gitpages.huma-num.fr/resources/images/signature_black.svg\"\n    );\n\n  return svg.node();\n}\n```\n\n\n## Texts\n\n```{ojs}\ntxtlegend = \"Taux de vaccination dans les départements (%)\"\n```\n\n```{ojs}\ntxtsource = \"Carte réalisée par Nicolas Lambert, 2021. Sources : Santé publique France (https://www.data.gouv.fr/fr/datasets/donnees-relatives-aux-personnes-vaccinees-contre-la-covid-19-1/)\"\n```\n\n## Variables\n\n```{ojs}\ncountrycol = \"#a3b7cc\"\n```\n\n```{ojs}\nmydate = d3.max(vaccins, d => d.jour)\n```\n\n```{ojs}\nyellow = \"#fbd14b\"\n```\n\n```{ojs}\nheight = 980\n```\n\n```{ojs}\nwidth = 1000\n```\n\n```{ojs}\ncolors = [\n  '#a50026',\n  '#d73027',\n  '#f46d43',\n  '#fdae61',\n  '#fee08b',\n  '#ffffbf',\n  '#d9ef8b',\n  '#a6d96a',\n  '#66bd63',\n  '#1a9850',\n  '#006837'\n]\n```\n\n## Geometries\n\n```{ojs}\nfeatures = new Map(\n  dpt.features\n    .map(d => {\n      d.properties.centroid = d3.geoCentroid(d);\n      return d;\n    })\n    .map(d => [d.properties.DEP, d])\n)\n```\n\n```{ojs}\nland = topojson.merge(\n  countries,\n  countries.objects.CNTR_RG_10M_2020_4326.geometries\n)\n```\n\n```{ojs}\ndpt = topojson.feature(departements, departements.objects.DEPT)\n```\n\n```{ojs}\ndepartements = d3.json(\n  \"https://raw.githubusercontent.com/neocarto/resources/master/geometries/France/departements.json\"\n)\n```\n\n```{ojs}\nfrance = topojson.merge(departements, departements.objects.DEPT.geometries)\n```\n\n```{ojs}\ncountries = d3.json(\n  \"https://raw.githubusercontent.com/neocarto/resources/master/geometries/World/GISCO_CNTR_RG_10M_2020_4326.json\"\n)\n```\n\n```{ojs}\noutline = ({ type: \"Sphere\" })\n```\n\n```{ojs}\ngraticule = d3.geoGraticule().step([1, 0.7])\n```\n\n```{ojs}\npath = d3.geoPath(projection)\n```\n\n```{ojs}\nprojection = d3\n  .geoConicConformal() // Lambert-93\n  .center([2.454071, 46.279229]) // Center on France\n  .scale(5000)\n  .translate([width / 2 - 10, height / 2 + 50])\n```\n\n## Data\n\n```{ojs}\nages = [\n  { label: \"Tous les âges\", value: \"tot\" },\n  { label: \"De 0 à 9 ans\", value: \"0_9\" },\n  { label: \"De 10 à 24 ans\", value: \"10_24\" },\n  { label: \"De 25 à 29 ans\", value: \"25_29\" },\n  { label: \"De 30 à 39 ans\", value: \"30_39\" },\n  { label: \"De 40 à 49 ans\", value: \"40_49\" },\n  { label: \"De 50 à 59 ans\", value: \"50_59\" },\n  { label: \"De 60 à 69 ans\", value: \"60_69\" },\n  { label: \"De 70 à 74 ans\", value: \"70_74\" },\n  { label: \"De 75 à 79 ans\", value: \"75_79\" },\n  { label: \"80 ans et plus\", value: \"80etplus\" }\n]\n```\n\n```{ojs}\nagesbyid = new Map(ages.map(d => [d.value, d.label]))\n```\n\n```{ojs}\ndata = population.map(d => ({\n  id: d.id,\n  name: d.name,\n  pop_tot: +d.Total,\n  pop_0_9: +d[\"De 0 à 9 ans\"],\n  pop_10_24: +d[\"De 10 à 24 ans\"],\n  pop_25_29: +d[\"De 25 à 29 ans\"],\n  pop_30_39: +d[\"De 30 à 39 ans\"],\n  pop_40_49: +d[\"De 40 à 49 ans\"],\n  pop_50_59: +d[\"De 50 à 59 ans\"],\n  pop_60_69: +d[\"De 60 à 69 ans\"],\n  pop_70_74: +d[\"De 70 à 74 ans\"],\n  pop_75_79: +d[\"De 75 à 79 ans\"],\n  pop_80etplus: +d[\"80 et plus\"],\n  doses_tot: getdoses(d.id, \"0\"),\n  doses_0_9: getdoses(d.id, \"9\"),\n  doses_10_24: getdoses(d.id, \"17\") + getdoses(d.id, \"24\"),\n  doses_25_29: getdoses(d.id, \"29\"),\n  doses_30_39: getdoses(d.id, \"39\"),\n  doses_40_49: getdoses(d.id, \"49\"),\n  doses_50_59: getdoses(d.id, \"59\"),\n  doses_60_69: getdoses(d.id, \"69\"),\n  doses_70_74: getdoses(d.id, \"74\"),\n  doses_75_79: getdoses(d.id, \"79\"),\n  doses_80etplus: getdoses(d.id, \"80\"),\n  coordx: getcentroids.get(d.id)[0],\n  coordy: getcentroids.get(d.id)[1]\n}))\n```\n\n```{ojs}\npopulation = d3.csv(\n  \"https://raw.githubusercontent.com/neocarto/resources/master/datasets/INSEE/popage2021.csv\"\n)\n```\n\n```{ojs}\n//| echo: true\nvaccins = {\n  let psv = d3.dsvFormat(\";\");\n  let url =\n    \"https://www.data.gouv.fr/fr/datasets/r/de4b356b-8cd9-4b9a-8878-459a62646107\";\n  try {\n    let v = d3.csv(url);\n    v[0].clage_vacsi;\n    return v;\n  } catch (e) {\n    let v = d3.text(url).then((txt) => psv.parse(txt));\n    return v;\n  }\n}\n```\n\n## Helpers\n\n```{ojs}\n//| echo: true\ngetcentroids = new Map(\n  dpt.features\n    .map(d => {\n      return d;\n    })\n    .map(d => [d.properties.DEP, path.centroid(d)])\n)\n```\n\n```{ojs}\ngetcolor = d3\n  .scaleQuantile()\n  .domain(\n    data.map(\n      d => Math.round((10000 * d[\"doses_\" + myage]) / d[\"pop_\" + myage]) / 100\n    )\n  ) // pass the whole dataset to a scaleQuantile’s domain\n  .range(colors)\n```\n\n```{ojs}\n//| echo: true\n\n```\n\n```{ojs}\nformat = function(value) {\n  let v = value;\n\n  if (value >= 1000) {\n    let str = String(value);\n    let v1 = str.substring(0, str.length - 3);\n    let v2 = str.substring(str.length - 3, str.length);\n    v = v1 + \" \" + v2;\n  }\n\n  if (value >= 100000) {\n    v = Math.round((100 * value) / 1000000) / 100 + \" million\";\n  }\n  if (value >= 2000000) {\n    v = Math.round((100 * value) / 1000000) / 100 + \" millions\";\n  }\n  return v;\n}\n```\n\n```{ojs}\nlegcircles = legendCircle()\n  .tickValues([\n    d3.min(data, d => d[\"doses_\" + myage]),\n    d3.median(data, d => d[\"doses_\" + myage]),\n    d3.max(data, d => d[\"doses_\" + myage])\n  ])\n  .scale(radius)\n```\n\n```{ojs}\nratiobyid = new Map(\n  data.map(d => [\n    d.id,\n    Math.round((10000 * d[\"doses_\" + myage]) / d[\"pop_\" + myage]) / 100\n  ])\n)\n```\n\n```{ojs}\ncolor = d3.scaleThreshold([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], colors)\n```\n\n```{ojs}\nsimulation = d3\n  .forceSimulation(data)\n  .force(\"x\", d3.forceX(d => d.coordx))\n  .force(\"y\", d3.forceY(d => d.coordy))\n  .force(\n    \"collide\",\n    d3.forceCollide(d => 0.5 + radius(+d[\"doses_\" + myage]) + 1)\n  )\n  .stop()\n```\n\n```{ojs}\ngetdoses = function (dep, age) {\n  let x = vaccins\n    .filter((d) => d.dep == dep)\n    .filter((d) => d.clage_vacsi == age);\n  let v = x.map((d) => +d.n_tot_dose1 + +d.n_tot_complet);\n  let value;\n  v.length == 0 ? (value = 0) : (value = v[0]);\n  return +value;\n}\n```\n\n```{ojs}\n//| echo: true\ndatetodate = function(dat) {\n  let m = [\n    \"mois\",\n    \"janvier\",\n    \"février\",\n    \"mars\",\n    \"avril\",\n    \"mai\",\n    \"juin\",\n    \"juillet\",\n    \"août\",\n    \"septembre\",\n    \"octobre\",\n    \"novembre\",\n    \"décembre\"\n  ];\n\n  let j1 = +dat.substr(8, 2);\n  let j = j1 == 1 ? j1 + \"er\" : j1;\n  let m1 = m[+dat.substr(5, 2)];\n  let a1 = dat.substr(0, 4);\n\n  return j + \" \" + m1 + \" \" + a1;\n}\n```\n\n```{ojs}\nscaleBar = d3\n  .geoScaleBar()\n  .projection(projection)\n  .size([900, 860])\n  .left(.9)\n  .top(.99)\n  .units(d3.geoScaleKilometers)\n  .distance(100)\n  .label(\"100 km\")\n  .labelAnchor(\"middle\")\n  .tickSize(null)\n  .tickValues(null)\n```\n\n```{ojs}\nradius = d3.scaleSqrt([0, d3.max(data, d => +d[\"doses_\" + myage])], [0, 30])\n```\n\n## Depedencies\n\n```{ojs}\nimport { Scrubber } from \"@mbostock/scrubber\"\n```\n\n```{ojs}\nimport { select, radio, slider } from \"@jashkenas/inputs\"\n```\n\n```{ojs}\nimport { legendCircle } from \"@harrystevens/circle-legend\"\n```\n\n```{ojs}\nimport { legend } from \"@d3/color-legend\"\n```\n\n```{ojs}\ntopojson = require('topojson')\n```\n\n```{ojs}\nd3 = require(\"d3@6\", \"d3-geo-scale-bar@1.0.2\")\n```"
  },
  {
    "href": "docs/interactive/js/examples/mens-tennis/mens-tennis.html#libraries",
    "title": "Men’s Tennis",
    "section": "Libraries",
    "text": "Observable Plot\nhttps://github.com/observablehq/plot\nMost of the charts are created with Observable’s new Plot library. This is my first attempt and I definitely found it easy to work with.\n\n\nD3 Render\nhttps://github.com/unkleho/d3-render\nThe Backhand Comparison and Lefty vs Righty charts both use `d3-render`, an experimental declarative d3 library I have been working on.\nhttps://observablehq.com/@unkleho/introducing-d3-render-truly-declarative-and-reusable-d3"
  },
  {
    "href": "docs/interactive/js/examples/mens-tennis/mens-tennis.html#data",
    "title": "Men’s Tennis",
    "section": "Data",
    "text": "Mens Top 100 Year End rankings, 1973-2021\nData from https://www.atptour.com/en/rankings\n\n\n\n\n\n\n\n\n\nAll Men in Top 100, 1973-2021\nData from https://www.atptour.com/en/players\n\n\n\n\n\n\n\n\nplayersData = [...rawPlayersData].map(([key, value]) => value)\n\n\n\n\n\n\n\n\nMerged Rankings and Player Data"
  },
  {
    "href": "docs/interactive/js/examples/mens-tennis/mens-tennis.html#helpers",
    "title": "Men’s Tennis",
    "section": "Helpers",
    "text": ""
  },
  {
    "href": "docs/interactive/js/examples/mens-tennis/mens-tennis.html#imports",
    "title": "Men’s Tennis",
    "section": "Imports",
    "text": "Source Code\n---\ntitle: \"Men's Tennis\"\nsubtitle: \"How Has Men’s Tennis Changed From 1973–2021? Originally published at <https://observablehq.com/@unkleho/how-has-mens-tennis-changed-from-1973-2021>\"\nauthor: \"Kaho Cheung\"\ndate: 2021-07-18\nformat: \n  html:\n    toc: false\n    code-tools: true\n\nexecute:\n  echo: false\n---\n\n::: {layout=\"[ [1], [1,1] ]\"}\n\n#### Height and Weight\n\n```{ojs}\n{\n  // There is some wild data that needs to be cleaned up!\n  const data = playersData.filter(\n    p =>\n      p.height &&\n      p.height < 300 &&\n      p.height > 100 &&\n      p.weight > 0 &&\n      p.weight < 150\n  );\n\n  return Plot.plot({\n    grid: true,\n    width,\n    color: {\n      range: [radixColours.blue.blue4, radixColours.blue.blue11].map(c =>\n        c.replace(/ /g, ',')\n      )\n    },\n    x: {\n      label: 'Weight (kg)'\n    },\n    y: {\n      label: 'Height (cm)'\n    },\n    marks: [\n      Plot.rect(\n        data,\n        Plot.bin({ fill: \"count\" }, { x: \"weight\", y: \"height\", inset: 0 })\n      )\n    ]\n  });\n}\n```\n\n\n\n#### Average Height\n\n```{ojs}\n{\n  // Try replacing the two players below with your favourite player!\n  const labels = isDesktop\n    ? [getPlayer('John McEnroe'), getPlayer('Roger Federer')]\n    : [getPlayer('Andy Murray'), getPlayer('Ivan Lendl')];\n  const data = getData();\n\n  return Plot.plot({\n    width,\n    y: {\n      grid: true,\n      label: 'Average Height (cm)',\n      nice: true\n    },\n    marks: [\n      Plot.line(data, {\n        x: \"date\",\n        y: \"averageHeight\",\n        curve: \"natural\",\n        stroke: colours[0]\n      }),\n      Plot.area(data, {\n        x1: \"date\",\n        y1: Math.floor(d3.min(data, d => d.averageHeight)),\n        y2: \"averageHeight\",\n        curve: \"natural\",\n        fill: colours[0],\n        fillOpacity: 0.2\n      }),\n      Plot.link(labels, {\n        x1: \"dateStart\",\n        y1: \"height\",\n        x2: \"dateEnd\",\n        y2: \"height\"\n      }),\n      Plot.dot(labels, {\n        x: \"dateStart\",\n        y: \"height\",\n        fill: 'black'\n      }),\n      Plot.dot(labels, {\n        x: \"dateEnd\",\n        y: \"height\",\n        fill: 'black'\n      }),\n      Plot.text(labels, {\n        x: \"dateEnd\",\n        y: \"height\",\n        text: d => d.name + ' (' + d.height + 'cm)',\n        textAnchor: \"end\",\n        fontSize: 14,\n        dx: -5,\n        dy: 15\n      }),\n      Plot.ruleY([\n        Math.floor(d3.min(data, d => d.averageHeight)),\n        isDesktop ? Math.ceil(d3.max(data, d => d.averageHeight)) : 192\n      ])\n    ]\n  });\n}\n```\n\n#### Average Weight\n\n```{ojs}\n{\n  const data = getData();\n  const labels = [getPlayer('Michael Chang'), getPlayer('Novak Djokovic')];\n\n  return Plot.plot({\n    width,\n    y: {\n      grid: true,\n      label: 'Average Weight (kg)'\n    },\n    marks: [\n      Plot.line(getData(), {\n        x: \"date\",\n        y: \"averageWeight\",\n        curve: \"natural\",\n        stroke: colours[0]\n      }),\n      Plot.area(getData(), {\n        x1: \"date\",\n        y1: Math.floor(d3.min(data, d => d.averageWeight)),\n        y2: \"averageWeight\",\n        curve: \"natural\",\n        fill: colours[0],\n        fillOpacity: 0.2\n      }),\n      Plot.link(labels, {\n        x1: \"dateStart\",\n        y1: \"weight\",\n        x2: \"dateEnd\",\n        y2: \"weight\"\n      }),\n      Plot.dot(labels, {\n        x: \"dateStart\",\n        y: \"weight\",\n        fill: 'black'\n      }),\n      Plot.dot(labels, {\n        x: \"dateEnd\",\n        y: \"weight\",\n        fill: 'black'\n      }),\n      Plot.text(labels, {\n        x: \"dateEnd\",\n        y: \"weight\",\n        text: d => d.name + ' (' + d.weight + 'kg)',\n        textAnchor: \"end\",\n        fontSize: 14,\n        dx: -5,\n        dy: 15\n      }),\n      Plot.ruleY([\n        Math.floor(d3.min(data, d => d.averageWeight)),\n        Math.ceil(d3.max(data, d => d.averageWeight))\n      ])\n    ]\n  });\n}\n```\n\n:::\n\n## Libraries\n\n### Observable Plot\n\n<https://github.com/observablehq/plot>\n\nMost of the charts are created with Observable's new Plot library. This is my first attempt and I definitely found it easy to work with.\n\n### D3 Render\n\n<https://github.com/unkleho/d3-render>\n\nThe __Backhand Comparison__ and __Lefty vs Righty__ charts both use \\`d3-render\\`, an experimental declarative d3 library I have been working on.\n\n<https://observablehq.com/@unkleho/introducing-d3-render-truly-declarative-and-reusable-d3>\n\n## Data\n\n### Mens Top 100 Year End rankings, 1973-2021\n\nData from <https://www.atptour.com/en/rankings>\n\n```{ojs}\nrawRankingsData = d3\n  .csvParse(await FileAttachment(\"rankings.csv\").text(), d3.autoType)\n  .map(d => {\n    return {\n      ...d,\n      year: d.date.getFullYear()\n    };\n  })\n```\n\n### All Men in Top 100, 1973-2021\n\nData from <https://www.atptour.com/en/players>\n\n```{ojs}\nrawPlayersData = new Map(\n  d3\n    .csvParse(await FileAttachment(\"players.csv\").text(), d3.autoType)\n    .map(d => [d.id, d])\n)\n```\n\n```{ojs}\n//| echo: true\nplayersData = [...rawPlayersData].map(([key, value]) => value)\n```\n\n### Merged Rankings and Player Data\n\n```{ojs}\nrawPlayerRankingsData = rawRankingsData.map(d => {\n  const playerId = d.playerUrl\n    .replace('https://www.atptour.com/en/players/', '')\n    .replace('/overview', '');\n\n  return {\n    ...d,\n    ...rawPlayersData.get(playerId),\n    count: 1\n  };\n})\n// .filter(d => d.ranking <= ranking)\n```\n\n```{ojs}\nrawCountryData = d3Array.groups(\n  rawPlayerRankingsData,\n  d => d.year,\n  d => d.country\n)\n```\n\n## Helpers\n\n```{ojs}\ngetData = (ranking = 100) => {\n  const data = d3Array.rollup(\n    rawPlayerRankingsData.filter(d => d.ranking <= ranking),\n    v => {\n      const oneHandedBackhand = v.filter(d => d.backhand === 'one-handed')\n        .length;\n      const twoHandedBackhand = v.filter(d => d.backhand === 'two-handed')\n        .length;\n      const totalBackhand = oneHandedBackhand + twoHandedBackhand;\n      const oneHandedBackhandPercent = oneHandedBackhand / totalBackhand;\n      const twoHandedBackhandPercent = twoHandedBackhand / totalBackhand;\n\n      const rightHanded = v.filter(d => d.hand === 'right').length;\n      const leftHanded = v.filter(d => d.hand === 'left').length;\n      const totalHanded = rightHanded + leftHanded;\n      const rightHandedPercent = rightHanded / totalHanded;\n      const leftHandedPercent = leftHanded / totalHanded;\n\n      return {\n        averageAge: d3.mean(v, v => v.age),\n        averageHeight: d3.mean(v, v => v.height),\n        averageWeight: d3.mean(v, v => v.weight),\n        oneHandedBackhand,\n        twoHandedBackhand,\n        oneHandedBackhandPercent,\n        twoHandedBackhandPercent,\n        rightHanded,\n        leftHanded,\n        rightHandedPercent,\n        leftHandedPercent\n      };\n    },\n    d => d.year\n  );\n\n  return Array.from(data).map(([year, d]) => ({\n    year,\n    date: new Date(year, 0, 1),\n    ...d\n  }));\n}\n```\n\n```{ojs}\ngetPlayer = name => {\n  // const name = 'Roger Federer';\n  const rankingsData = rawRankingsData.filter(d => d.name === name);\n  const playerData = [...rawPlayersData]\n    .map(([key, value]) => value)\n    .find(value => value.name === name);\n\n  return {\n    dateStart: new Date(d3.min(rankingsData, d => d.year), 0, 1),\n    dateEnd: new Date(d3.max(rankingsData, d => d.year), 0, 1),\n    ...playerData\n  };\n}\n```\n\n```{ojs}\narea = d3\n  .area()\n  .curve(d3.curveBasis)\n  .x(d => x(d.data.year))\n  .y0(d => y(d[0]))\n  .y1(d => y(d[1]))\n```\n\n```{ojs}\nx = d3\n  .scaleTime()\n  .domain(\n    d3.extent(backhandData, d => {\n      return d.year;\n    })\n  )\n  .range([margin.left, width - margin.right])\n```\n\n```{ojs}\ny = d3.scaleLinear().range([height - margin.bottom, margin.top])\n```\n\n```{ojs}\ncolor = d3\n  .scaleOrdinal()\n  .domain(['oneHandedBackhandPercent', 'twoHandedBackhandPercent'])\n  .range([radixColours.blue.blue11, radixColours.cyan.cyan8])\n```\n\n```{ojs}\nxAxis = g =>\n  g.attr(\"transform\", `translate(0,${height - margin.bottom})`).call(\n    d3\n      .axisBottom(x)\n      .ticks(width / 80)\n      .tickSizeOuter(0)\n      .tickFormat(d3.format(\"d\"))\n  )\n```\n\n```{ojs}\nyAxis = g =>\n  g\n    .attr(\"transform\", `translate(${margin.left},0)`)\n    .call(d3.axisLeft(y).ticks(10, \"%\"))\n    .call(g => g.select(\".domain\").remove())\n```\n\n```{ojs}\nheight = width > 600 ? 500 : 350\n```\n\n```{ojs}\nmargin = ({ top: 4, right: 8, bottom: 20, left: 36 })\n```\n\n```{ojs}\nisDesktop = width > 600\n```\n\n```{ojs}\ncolours = [\n  radixColours.blue.blue11,\n  radixColours.orange.orange9,\n  radixColours.red.red9,\n  radixColours.cyan.cyan8,\n  radixColours.grass.grass9,\n  radixColours.yellow.yellow8\n].map(c => c.replace(/ /g, ','))\n// Need to use comma because d3.color doesn't accept space for hsl\n```\n\n## Imports\n\n```{ojs}\nimport { radio } from '@jashkenas/inputs'\n```\n\n```{ojs}\nd3 = require(\"d3@5\")\n```\n\n```{ojs}\nd3Array = require(\"d3-array\")\n```\n\n```{ojs}\nrender = d3Render.default\n```\n\n```{ojs}\nd3Render = require('d3-render')\n```\n\n```{ojs}\nradixColours = import('https://unpkg.com/@radix-ui/colors@0.1.7/index.mjs?module')\n```"
  },
  {
    "href": "docs/interactive/js/examples/passeports-colors.html",
    "title": "Passports & Colors",
    "section": "",
    "text": "Color matter\nI deliver here a cartography by proportional passports (sic). And yeah, on this map, the surface of the passports represented is proportional to their power, that is to say to the number of countries they allow to reach without prior visa (in 2019 before the Covid epidemic19). And as absurd as it may seem, when it comes to international mobility, color matters. If you have a red passport, be aware that you will be able to travel easily to an average of 135 countries. If you have a blue passport, it will give you access to 103 countries. With a black passport, you will be able to reach 88 countries. And if by misfortune you have a green passport, only 78 countries will open their doors to you. In addition, you should know that the most « powerful » passport in the world is the United Arab Emirates passport, which gives you access to 179 countries around the world (compared to 170 for a French passport). On the other hand, the least powerful passport is the Afghan passport, which gives access to only 35 countries.\nBut still, you probably think it’s absurd to take the color of passports as a criterion, don’t you? And you’re not entirely wrong, even if these colors are not chosen at random. Red, for example, was chosen by the communist countries, you will easily understand why. But red is also the choice of all European countries except Croatia. The color green, for its part, was chosen by the majority of Muslim countries. As you know, green is the color of Islam. Blue is very present in America (North and South). And finally black passports are extremely rare. Only 7 countries use them.\nEurasia, America, Muslim countries: in the end, these colors refer more or less to a regionalization of the World. More than the color of your passport, it is actually the place of your country in the world order that determines your ability to cross borders. In other words, regardless of whether you are a citizen of a powerful country rich in peace or a poor country in war, you will not have access to the same spatial opportunities. The first criterion to be entitled to international mobility is therefore above all to be born in a good place. No more and no less.\nNote: the data used here come from the website passportindex.org. But other rankings exist with significantly different data. See for example henleypassportindex.com.\n\n\n\n\n\n\n\n\ncolors = new Map()\n  .set(\"red\", \"#c76f65\")\n  .set(\"green\", \"#80bd6c\")\n  .set(\"blue\", \"#698ec9\")\n  .set(\"black\", \"#5c5959\")\n\n\n\n\n\n\n\nbycolor = Array.from(\n  d3.rollup(data, v => d3.mean(v, d => d.mobilityscore), d => d.color)\n)\n\n\n\n\n\n\n\nnd2 = Array.from(d3.group(data, d => d.color)).map(d => d[1][0])\n\n\n\n\n\n\n\nbycolor2 = d3.rollups(\n  data,\n  v => ({\n    nb: v.length,\n    score: d3.mean(v, d => d.mobilityscore)\n  }),\n  d => d.color\n)\n\n\n\n\n\n\n\nhlp = {\n  if (type == \"p\") {\n    var t = \"passport\";\n  } else {\n    var t = \"circle\";\n  }\n\n  var txt =\n    \"On this map, the\\nsurface area of each\\n \" +\n    t +\n    \" is proportional\\nto the number of\\ncountries it allows \\nto go to in 2019\\n(before\\nCovid19).\";\n  return txt.split(\"\\n\");\n}\n\n\n\n\n\n\n\n\nData Import & handling\n\nradius = d3.scaleSqrt(\n  [0, d3.max(data, d => d.mobilityscore)],\n  [0, 5.6 * Math.sqrt(k)]\n)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ndata = passeports\n  .map((d) => {\n    const id = d.id;\n    const name = d.name;\n    const thumb =\n      \"https://raw.githubusercontent.com/neocarto/resources/master/datasets/passports/outputs/thumb/\" +\n      d.id.toLowerCase() +\n      \".png\";\n    const color = d.color;\n    const mobilityscore = mobilyscore.get(d.id);\n    const feature = features.get(d.id);\n    return {\n      id,\n      position: feature && feature.properties.position,\n      name: name,\n      thumb: thumb,\n      color: color,\n      mobilityscore: +mobilityscore,\n      imgw: Math.sqrt(+mobilityscore * k * 0.7),\n      imgh: Math.sqrt((+mobilityscore * k) / 0.7)\n    };\n  })\n  .filter(\n    (d) =>\n      d.color == ch[0] ||\n      d.color == ch[1] ||\n      d.color == ch[2] ||\n      d.color == ch[3]\n  )\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAppendix\n\n\n\n\n\n\n\n\nimport { checkbox, slider, radio } from \"@jashkenas/inputs\"\n\n\n\n\n\n\n\npath = d3.geoPath(projection)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSource Code\n---\ntitle: \"Passports & Colors\"\nsubtitle: \"Originally published at <https://observablehq.com/@neocartocnrs/passeports-colors>\"\nauthor: \"neocarto\"\ndate: 2020-10-20\nlicense: mit\nformat: \n  html:\n    code-tools: true\nexecute:\n  echo: false\n---\n\n\n::: {.panel-input layout-ncol=3}\n\n```{ojs}\nviewof ch = checkbox({\n  title: \"Passport color:\",\n  options: [\n    { value: \"red\", label: \"Red\" },\n    { value: \"green\", label: \"Green\" },\n    { value: \"blue\", label: \"Blue\" },\n    { value: \"black\", label: \"Black\" }\n  ],\n  value: [\"red\", \"green\", \"blue\", \"black\"],\n  submit: false\n})\n```\n\n```{ojs}\nviewof type = radio({\n  title: \"Representation:\",\n  options: [\n    { label: 'Passports', value: 'p' },\n    { label: 'Circles', value: 'c' }\n  ],\n  value: 'p'\n})\n```\n\n```{ojs}\nviewof k = slider({\n  title: \"Symbol size:\",\n  min: 1,\n  max: 10,\n  value: 3,\n  step: 1\n})\n```\n\n:::\n\n\n```{ojs}\nmap = {\n  for (let i = 0; i < 200; i++) {\n    simulation.tick();\n  }\n\n  const svg = d3\n    .create(\"svg\")\n    .attr(\"viewBox\", [0, 0, width, height])\n    .style(\"width\", \"100%\")\n    .style(\"height\", \"auto\");\n\n  // Defs\n\n  var defs = svg.append(\"defs\");\n\n  const pattern = defs\n    .append(\"pattern\")\n    .attr(\"id\", \"hatch\")\n    .attr(\"patternUnits\", \"userSpaceOnUse\")\n    .attr(\"width\", 6)\n    .attr(\"height\", 6);\n\n  pattern\n    .append(\"line\")\n    .attr(\"x1\", 0)\n    .attr(\"y1\", 0)\n    .attr(\"x2\", 6)\n    .attr(\"y1\", 6)\n    .attr(\"stroke\", \"white\")\n    .attr(\"stroke-width\", 1)\n    .attr(\"stroke-opacity\", 0.7);\n\n  // Sphere\n\n  svg\n    .append(\"rect\")\n    .attr(\"opacity\", 1)\n    .attr(\"x\", 0)\n    .attr(\"y\", 0)\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n    .style('fill', \"#9ACBE3\")\n    .attr(\"opacity\", 0.8);\n\n  svg\n    .append(\"rect\")\n    .attr(\"fill-opacity\", 0.4)\n    .attr(\"x\", 0)\n    .attr(\"y\", height - 60)\n    .attr(\"width\", width)\n    .attr(\"height\", 60)\n    .attr('fill', \"white\");\n\n  svg\n    .append(\"rect\")\n    .attr(\"fill-opacity\", 0.4)\n    .attr(\"x\", 0)\n    .attr(\"y\", 0)\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n    .attr('fill', \"url('#hatch')\");\n\n  // Countries\n\n  svg\n    .append(\"path\")\n    .datum(topojson.feature(json, json.objects.countries))\n    .attr(\"fill\", \"white\")\n    .style('fill-opacity', 0.7)\n    .attr(\"d\", path);\n\n  // Passeports images\n\n  svg\n    .append(\"g\")\n    .selectAll(\"image\")\n    .data(data.sort((a, b) => d3.descending(a.mobilityscore, b.mobilityscore)))\n    .join(\"image\")\n    .attr(\"class\", \"pasp\")\n    .attr(\"xlink:href\", d => d.thumb)\n    .attr('width', d => d.imgw)\n    .attr('height', d => d.imgh)\n    .attr(\"x\", d => d.x - d.imgw / 2)\n    .attr(\"y\", d => d.y - d.imgh / 2)\n    .attr(\"style\", \"border: 5px solid #555\")\n    .style(\"visibility\", visib[0]);\n\n  // Test\n\n  svg\n    .selectAll('image')\n    .data(data)\n    .enter()\n    .append('image')\n    .attr(\"xlink:href\", d => d.thumb)\n    .attr('width', d => d.imgw)\n    .attr('height', d => d.imgh)\n    .attr(\"x\", d => d.x - d.imgw / 2)\n    .attr(\"y\", d => d.y - d.imgh / 2);\n\n  // Passeports circles\n\n  svg\n    .append(\"g\")\n    .selectAll(\"circle\")\n    .data(data.sort((a, b) => d3.descending(a.mobilityscore, b.mobilityscore)))\n    .join(\"circle\")\n    .attr(\"class\", \"pasp\")\n    .attr(\"r\", d => radius(d.mobilityscore))\n    .attr(\"cx\", d => d.x)\n    .attr(\"cy\", d => d.y)\n    .attr(\"fill\", d => colors.get(d.color))\n    .attr(\"stroke\", \"#404752\")\n    .attr(\"stroke-width\", 0)\n    .style(\"visibility\", visib[1]);\n\n  // Title\n\n  svg\n    .append(\"text\")\n    .attr(\"x\", width / 2)\n    .attr(\"y\", height - 17)\n    .text(\"GLOBAL PASSPORT POWER RANK\")\n    .attr(\"text-anchor\", \"middle\")\n    .attr(\"font-family\", \"sans-serif\")\n    .attr(\"fill\", \"#5c658a\")\n    .attr(\"fill-opacity\", 0.3)\n    .style(\"font-size\", \"45px\");\n\n  // Chart\n\n  svg\n    .append(\"text\")\n    .attr(\"x\", 10)\n    .attr(\"y\", 410)\n    .text(\"The Power of Colors\")\n    .attr(\"font-family\", \"sans-serif\")\n    .attr(\"font-weight\", \"bold\")\n    .attr(\"fill\", \"#4a524d\")\n    .style(\"font-size\", \"21px\");\n\n  const x1 = 10;\n  const y1 = 430;\n  const barheight = 2;\n\n  svg\n    .selectAll(\".chart\")\n    .data(bycolor)\n    .join(\"rect\")\n    .attr('height', barheight)\n    .attr('width', d => d[1] * 5)\n    .attr('y', function(d, i) {\n      return y1 + i * 7 * barheight;\n    })\n    .attr('x', x1)\n    .attr('class', \"chart\")\n    .attr(\"fill\", d => colors.get(d[0]))\n    .attr(\"opacity\", 1);\n\n  svg\n    .selectAll(\".charttxt\")\n    .data(bycolor)\n    .join(\"text\")\n    .attr('x', 10)\n    .attr('y', function(d, i) {\n      return y1 + i * 7 * barheight - 3;\n    })\n    .text(\n      d =>\n        \"People with \" +\n        d[0] +\n        \" passports can travel to an average of \" +\n        Math.round(d[1]) +\n        \" countries\"\n    )\n    .attr(\"font-family\", \"sans-serif\")\n    .attr(\"fill\", \"#545252\")\n    .style(\"font-size\", \"9px\");\n\n  // Tooltip\n\n  const tooltip = svg.append(\"g\");\n\n  tooltip.style(\"visibility\", \"hidden\");\n\n  tooltip\n    .append(\"image\")\n    .attr(\"class\", \"tooltipimg\")\n    .attr('width', 70)\n    .attr('height', 100)\n    .attr(\"x\", 10)\n    .attr(\"y\", 32);\n\n  tooltip\n    .append(\"text\")\n    .attr(\"class\", \"tooltipname\")\n    .attr(\"x\", 10)\n    .attr(\"y\", 22)\n    .attr(\"font-family\", \"sans-serif\")\n    .attr(\"font-weight\", \"bold\")\n    .attr(\"fill\", \"#4a524d\")\n    .style(\"font-size\", \"21px\");\n\n  const y = 145;\n\n  tooltip\n    .append(\"text\")\n    .attr(\"x\", 10)\n    .attr(\"y\", y)\n    .text(\"With this passport\")\n    .attr(\"font-family\", \"sans-serif\")\n    .attr(\"fill\", \"#4a524d\")\n    .style(\"font-size\", \"12px\");\n\n  tooltip\n    .append(\"text\")\n    .attr(\"x\", 10)\n    .attr(\"y\", y + 12)\n    .text(\"you can reach\")\n    .attr(\"font-family\", \"sans-serif\")\n    .attr(\"fill\", \"#4a524d\")\n    .style(\"font-size\", \"12px\");\n\n  tooltip\n    .append(\"text\")\n    .attr(\"class\", \"tooltiptxt\")\n    .attr(\"x\", 10)\n    .attr(\"y\", y + 24)\n    .attr(\"font-family\", \"sans-serif\")\n    .attr(\"font-weight\", \"bold\")\n    .attr(\"fill\", \"#4a524d\")\n    .style(\"font-size\", \"12px\");\n\n  tooltip\n    .append(\"text\")\n    .attr(\"class\", \"tooltiptxt\")\n    .attr(\"x\", 10)\n    .attr(\"y\", y + 36)\n    .text(\"without prior visa\")\n    .attr(\"font-family\", \"sans-serif\")\n    .attr(\"fill\", \"#4a524d\")\n    .style(\"font-size\", \"12px\");\n\n  tooltip\n    .append(\"text\")\n    .attr(\"class\", \"tooltiptxt\")\n    .attr(\"x\", 10)\n    .attr(\"y\", y + 48)\n    .text(\"(in 2019 before Covid19)\")\n    .attr(\"font-family\", \"sans-serif\")\n    .attr(\"fill\", \"#4a524d\")\n    .style(\"font-size\", \"12px\");\n\n  svg\n    .selectAll(\".pasp\")\n    .on(\"touchmove mousemove\", function(event, d) {\n      d3.select(this)\n        .attr(\"stroke-width\", 2)\n        .raise();\n      tooltip.style(\"visibility\", \"visible\");\n      svg.select(\".tooltipimg\").attr(\"xlink:href\", d.thumb);\n      svg.select(\".tooltipname\").text(d.name);\n      svg.select(\".tooltiptxt\").text(d.mobilityscore + \" countries\");\n    })\n    .on(\"touchend mouseleave\", function() {\n      tooltip.style(\"visibility\", \"hidden\");\n      d3.select(this)\n        .attr(\"stroke-width\", 0)\n        .lower();\n    });\n\n  // Sources\n\n  var source = svg\n    .append(\"text\")\n    .attr(\"x\", width / 2)\n    .attr(\"y\", height - 5)\n    .attr(\"text-anchor\", \"middle\")\n    .text(\n      \"Map designed by Nicolas Lambert, 2020 - Data Source: https://www.passportindex.org (2019 data before covid19) - Behind this map: see https://observablehq.com/@neocartocnrs/passeports-colors\"\n    )\n    .attr(\"font-family\", \"sans-serif\")\n    .style(\"font-size\", \"10px\")\n    .style(\"font-style\", \"italic\")\n    .attr(\"fill\", \"#5c658a\")\n    .attr(\"fill-opacity\", 0.6);\n\n  svg\n    .append(\"circle\")\n    .attr(\"fill\", \"white\")\n    .attr(\"cx\", width)\n    .attr(\"cy\", 0)\n    .attr(\"r\", 150)\n    .attr(\"opacity\", 0.4);\n\n  svg\n    .append(\"circle\")\n    .attr(\"fill\", \"white\")\n    .attr(\"cx\", width)\n    .attr(\"cy\", 0)\n    .attr(\"r\", 160)\n    .attr(\"opacity\", 0.4);\n\n  svg\n    .append(\"circle\")\n    .attr(\"fill\", \"white\")\n    .attr(\"cx\", width)\n    .attr(\"cy\", 0)\n    .attr(\"r\", 170)\n    .attr(\"opacity\", 0.4);\n\n  var help = svg\n    .append(\"text\")\n    .attr(\"y\", 5)\n    .attr(\"font-family\", \"sans-serif\")\n    .attr(\"font-weight\", \"bold\")\n    .attr(\"fill\", \"#3e4657\")\n    .style(\"font-size\", \"11px\")\n    .attr(\"fill-opacity\", 0.4)\n    .attr(\"text-anchor\", \"end\")\n    .attr(\"font-family\", \"sans-serif\");\n\n  hlp.forEach(d => {\n    help\n      .append(\"tspan\")\n      .attr(\"x\", width - 10)\n      .attr(\"dy\", 15)\n      .text(d);\n  });\n\n  return svg.node();\n}\n```\n\n# Color matter\n\nI deliver here a cartography by proportional passports (sic). And yeah, on this map, the surface of the passports represented is proportional to their power, that is to say to the number of countries they allow to reach without prior visa (in 2019 before the Covid epidemic19). And as absurd as it may seem, when it comes to international mobility, color matters. If you have a red passport, be aware that you will be able to travel easily to an average of 135 countries. If you have a blue passport, it will give you access to 103 countries. With a black passport, you will be able to reach 88 countries. And if by misfortune you have a green passport, only 78 countries will open their doors to you. In addition, you should know that the most « powerful » passport in the world is the United Arab Emirates passport, which gives you access to 179 countries around the world (compared to 170 for a French passport). On the other hand, the least powerful passport is the Afghan passport, which gives access to only 35 countries.\n\nBut still, you probably think it’s absurd to take the color of passports as a criterion, don’t you? And you’re not entirely wrong, even if these colors are not chosen at random. Red, for example, was chosen by the communist countries, you will easily understand why. But red is also the choice of all European countries except Croatia. The color green, for its part, was chosen by the majority of Muslim countries. As you know, green is the color of Islam. Blue is very present in America (North and South). And finally black passports are extremely rare. Only 7 countries use them.\n\nEurasia, America, Muslim countries: in the end, these colors refer more or less to a regionalization of the World. More than the color of your passport, it is actually the place of your country in the world order that determines your ability to cross borders. In other words, regardless of whether you are a citizen of a powerful country rich in peace or a poor country in war, you will not have access to the same spatial opportunities. The first criterion to be entitled to international mobility is therefore above all to be born in a good place. No more and no less.\n\nNote: the data used here come from the website [passportindex.org](passportindex.org). But other rankings exist with significantly different data. See for example [henleypassportindex.com](henleypassportindex.com).\n\n```{ojs}\nvisib = {\n  if (type == \"p\") {\n    var style1 = \"visible\";\n    var style2 = \"hidden\";\n  }\n\n  if (type == \"c\") {\n    var style1 = \"hidden\";\n    var style2 = \"visible\";\n  }\n\n  for (let i = 0; i < 200; i++) {\n    simulation.tick();\n  }\n  return [style1, style2];\n}\n```\n\n```{ojs}\n//| echo: true\ncolors = new Map()\n  .set(\"red\", \"#c76f65\")\n  .set(\"green\", \"#80bd6c\")\n  .set(\"blue\", \"#698ec9\")\n  .set(\"black\", \"#5c5959\")\n```\n\n```{ojs}\n//| echo: true\nbycolor = Array.from(\n  d3.rollup(data, v => d3.mean(v, d => d.mobilityscore), d => d.color)\n)\n```\n\n```{ojs}\n//| echo: true\nnd2 = Array.from(d3.group(data, d => d.color)).map(d => d[1][0])\n```\n\n```{ojs}\n//| echo: true\nbycolor2 = d3.rollups(\n  data,\n  v => ({\n    nb: v.length,\n    score: d3.mean(v, d => d.mobilityscore)\n  }),\n  d => d.color\n)\n```\n\n```{ojs}\n//| echo: true\nhlp = {\n  if (type == \"p\") {\n    var t = \"passport\";\n  } else {\n    var t = \"circle\";\n  }\n\n  var txt =\n    \"On this map, the\\nsurface area of each\\n \" +\n    t +\n    \" is proportional\\nto the number of\\ncountries it allows \\nto go to in 2019\\n(before\\nCovid19).\";\n  return txt.split(\"\\n\");\n}\n```\n\n# Data Import & handling\n\n```{ojs}\n//| echo: true\nradius = d3.scaleSqrt(\n  [0, d3.max(data, d => d.mobilityscore)],\n  [0, 5.6 * Math.sqrt(k)]\n)\n```\n\n```{ojs}\nsimulation = d3\n  .forceSimulation(data)\n  .force(\"x\", d3.forceX(d => projection(d.position)[0]))\n  .force(\"y\", d3.forceY(d => projection(d.position)[1]))\n  .force(\"collide\", d3.forceCollide(d => d.imgw / 2))\n  .stop()\n```\n\n```{ojs}\n//| echo: true\ndata = passeports\n  .map((d) => {\n    const id = d.id;\n    const name = d.name;\n    const thumb =\n      \"https://raw.githubusercontent.com/neocarto/resources/master/datasets/passports/outputs/thumb/\" +\n      d.id.toLowerCase() +\n      \".png\";\n    const color = d.color;\n    const mobilityscore = mobilyscore.get(d.id);\n    const feature = features.get(d.id);\n    return {\n      id,\n      position: feature && feature.properties.position,\n      name: name,\n      thumb: thumb,\n      color: color,\n      mobilityscore: +mobilityscore,\n      imgw: Math.sqrt(+mobilityscore * k * 0.7),\n      imgh: Math.sqrt((+mobilityscore * k) / 0.7)\n    };\n  })\n  .filter(\n    (d) =>\n      d.color == ch[0] ||\n      d.color == ch[1] ||\n      d.color == ch[2] ||\n      d.color == ch[3]\n  )\n```\n\n```{ojs}\n// centroid -> position\nfeatures = new Map(\n  topojson\n    .feature(json, json.objects.countries)\n    .features.map(d => {\n      d.properties.position = d3.geoCentroid(\n        d.geometry.type == \"Polygon\" ? d : largestPolygon(d)\n      );\n      return d;\n    })\n    .map(d => [d.properties.ISO2, d])\n)\n```\n\n```{ojs}\npasseports = d3.csv(\n  \"https://raw.githubusercontent.com/neocarto/resources/master/datasets/passports/outputs/ctrindex.csv\"\n)\n```\n\n```{ojs}\npowerrank = d3.csv(\n  \"https://raw.githubusercontent.com/neocarto/resources/master/datasets/passports/outputs/passport-power-rank-2019.csv\"\n)\n```\n\n```{ojs}\nmobilyscore = new Map(powerrank.map(d => [d.id, +d.mobilityscore]))\n```\n\n```{ojs}\njson = d3.json(\n  \"https://raw.githubusercontent.com/neocarto/resources/master/datasets/passports/outputs/countries.topojson\"\n)\n```\n\n# Appendix\n\n```{ojs}\ncallout = (g, value) => {\n  if (!value) return g.style(\"display\", \"none\");\n\n  g.style(\"display\", null)\n    .style(\"pointer-events\", \"none\")\n    .style(\"font\", \"10px sans-serif\");\n\n  const path = g\n    .selectAll(\"path\")\n    .data([null])\n    .join(\"path\")\n    .attr(\"fill\", \"white\")\n    .attr(\"stroke\", \"black\");\n\n  const text = g\n    .selectAll(\"text\")\n    .data([null])\n    .join(\"text\")\n    .call(text =>\n      text\n        .selectAll(\"tspan\")\n        .data((value + \"\").split(/\\n/))\n        .join(\"tspan\")\n        .attr(\"x\", 0)\n        .attr(\"y\", (d, i) => `${i * 1.1}em`)\n        .style(\"font-weight\", (_, i) => (i ? null : \"bold\"))\n        .style(\"font-size\", (_, i) => (i ? null : 12))\n        .text(d => d)\n    );\n\n  const { x, y, width: w, height: h } = text.node().getBBox();\n\n  text.attr(\"transform\", `translate(${-w / 2},${15 - y})`);\n  path.attr(\n    \"d\",\n    `M${-w / 2 - 10},5H-5l5,-5l5,5H${w / 2 + 10}v${h + 20}h-${w + 20}z`\n  );\n}\n```\n\n```{ojs}\n//| echo: true\nimport { checkbox, slider, radio } from \"@jashkenas/inputs\"\n```\n\n```{ojs}\n//| echo: true\npath = d3.geoPath(projection)\n```\n\n```{ojs}\nprojection = d3.geoPatterson()\n```\n\n```{ojs}\n// To fit svg width according to the projection (from @d3/projection-comparison)\nheight = {\n  const [[x0, y0], [x1, y1]] = d3\n    .geoPath(projection.fitWidth(width, sphere))\n    .bounds(sphere);\n  const dy = Math.ceil(y1 - y0),\n    l = Math.min(Math.ceil(x1 - x0), dy);\n  projection.scale((projection.scale() * (l - 1)) / l).precision(0.2);\n  return dy;\n}\n```\n\n```{ojs}\nsphere = ({ type: \"Sphere\" })\n```\n\n```{ojs}\n// To put circles in the largest polygon (from @xangregg/proportional-geographic-scatterplot-by-country)\nlargestPolygon = function(d) {\n  var best = {};\n  var bestArea = 0;\n  d.geometry.coordinates.forEach(function(coords) {\n    var poly = { type: 'Polygon', coordinates: coords };\n    var area = d3.geoArea(poly);\n    if (area > bestArea) {\n      bestArea = area;\n      best = poly;\n    }\n  });\n  return best;\n}\n```\n\n```{ojs}\ntopojson = require(\"topojson@3\")\n```\n\n```{ojs}\nd3 = require(\"d3@6\", \"d3-geo-projection@2\")\n```"
  },
  {
    "href": "docs/interactive/js/components.html#data-manipulation-arquero",
    "title": "Components",
    "section": "Data manipulation: arquero",
    "text": "Arquero is “a JavaScript library for query processing and transformation of array-backed data tables”. If you’ve used Pandas in Python (or especially dplyr in R), arquero will feel familiar. Here, we import Arquero from its Observable modules\n\nimport { aq, op } from '@uwdata/arquero';"
  },
  {
    "href": "docs/interactive/js/components.html#plotting-vega-lite-observable-plot",
    "title": "Components",
    "section": "Plotting: vega-lite / Observable plot",
    "text": "import { vl } from '@vega/vega-lite-api-v5';"
  },
  {
    "href": "docs/interactive/index.html#overview",
    "title": "Interactive Documents",
    "section": "Overview",
    "text": "Adding interactivity to an article is a great way to help readers explore the concepts and data you are presenting more deeply. There are three ways to add interactive components to Quarto documents:\n\nCreate custom JavaScript visualizations using the Observable Runtime.\nUse the Shiny R package to add interactivity to Knitr engine documents.\nIncorporate Jupyter Widgets or htmlwidgets (for the Jupyter and Knitr engines, respectively) into your document.\n\nEach of these techniques has distinct benefits and drawbacks in terms of expressiveness, ease of development, and deployment requirements. We’ll touch on these considerations briefly below, then provide links to more in depth documentation for learning more."
  },
  {
    "href": "docs/interactive/index.html#javascript",
    "title": "Interactive Documents",
    "section": "JavaScript",
    "text": ""
  },
  {
    "href": "docs/interactive/index.html#shiny",
    "title": "Interactive Documents",
    "section": "Shiny",
    "text": ""
  },
  {
    "href": "docs/interactive/index.html#widgets",
    "title": "Interactive Documents",
    "section": "Widgets",
    "text": ""
  },
  {
    "href": "docs/interactive/layout.html#overview",
    "title": "Component Layout",
    "section": "Overview",
    "text": "When you introduce interactive components into a document you’ll want to be sure to lay them out in a fashion that optimizes for readability and navigation.\nThere are of course a wide variety of ways you can incorporate interactivity spanning from visualizations embedded within a longer-form article all the way up to a more application/dashboard style layout. We’ll cover both of these layout scenarios below.\nWe’ll use examples from both JavaScript and Shiny interactive documents—if you aren’t familiar with the code/syntax used for a given example just focus on the enclosing layout markup rather than the application code."
  },
  {
    "href": "docs/interactive/layout.html#articles",
    "title": "Component Layout",
    "section": "Articles",
    "text": "When using interactive components inside an article, it’s often optimal to lay out inputs directly above or below the main component. If there is only a single input the source code might be as simple as the input and output surrounded by markdown narrative. Here’s a simple Shiny example to illustrate:\n## Old Faithful\n\nData on eruptions of the Old Faithful geyser in Yellowstone National Park, Wyoming, USA. The data was collected continuously from August 1st until August 15th, 1985.\n\n```{r}\nsliderInput(\"bins\", \"Number of bins:\", min = 1, max = 50, value = 30)\nplotOutput(\"distPlot\")\n```\n\nThe data consists of 299 pairs of measurements, referring to the time interval between the starts of successive eruptions and the duration of the subsequent eruption.\nWhich would look like this when running:\n\n\nInput Panel\nIf you have several inputs, you may want to group them inside an input panel (div with class .panel-input). For example, here’s a document containing a JavaScript map visualization with three inputs to control it:\n\nThe inputs are grouped in a panel and laid out in three columns using the following markup:\n\nA div with class .panel-input provides the background color and border treatment.\nAdding the layout-ncol=3 to the div lays out the inputs horizontally.\n\nHere’s the source code for the input panel:\n::: {.panel-input layout-ncol=3}\n\n```{}\nviewof ch = checkbox({\n  title: \"Passport color:\",\n  options: [\n    { value: \"red\", label: \"Red\" },\n    { value: \"green\", label: \"Green\" },\n    { value: \"blue\", label: \"Blue\" },\n    { value: \"black\", label: \"Black\" }\n  ],\n  value: [\"red\", \"green\", \"blue\", \"black\"],\n  submit: false\n})\n```\n\n```{}\nviewof type = radio({\n  title: \"Representation:\",\n  options: [\n    { label: 'Passports', value: 'p' },\n    { label: 'Circles', value: 'c' }\n  ],\n  value: 'p'\n})\n```\n\n```{}\nviewof k = slider({\n  title: \"Symbol size:\",\n  min: 1,\n  max: 10,\n  value: 3,\n  step: 1\n})\n```\n\n:::\nSee the Passports & Colors example for the full source code of this document.\n\n\nTabset Panel\nIf you want to allow users to toggle between multiple visualizations, use a tabset (div with class .panel-tabset). Include a heading for each tab in the tabset.\nFor example, the following JavaScript code:\n::: {.panel-tabset}\n\n## Plot\n\n```{}\n//| echo: false\nvl\n  .markPoint()    \n  .data(penguins)\n  .encode(\n    vl.x().fieldQ('body_mass_g')\n          .scale({domain: [2000, 6500]}) \n          .axis({title: \"Mass (g)\"}),\n    vl.y().fieldQ('bill_length_mm')     \n          .scale({domain: [30, 60]}),\n    vl.color().fieldN('species'),\n    vl.tooltip(['species', 'sex', 'year', 'island'])\n).render()\n```\n\n## Data\n\n```{}\n//| echo: false\npenguins.view()\n```\n\n:::\nWill result in a tabset with Plot and Data tabs:"
  },
  {
    "href": "docs/interactive/layout.html#applications",
    "title": "Component Layout",
    "section": "Applications",
    "text": "Some documents are composed entirely of interactive components—these “documents” are really applications, and therefore benefit from some distinct layout tools.\n\nFull Page Layout\nBy default Quarto documents center their content within the document viewport, and don’t exceed a maximum width of around 900 pixels. This behavior exists to optimize readability, but for an application layout you generally want to do occupy the entire page.\nTo do this, add tbe page-layout: custom option. For example:\nformat: \n  html:\n    page-layout: custom\nHere’s an example of a Shiny application that occupies the full width of the browser:\n\nYou’ll also note that the inputs are contained within a sidebar—the next section describes how to create sidebars.\n\n\nSidebar Panel\nSidebars are created using divs with class .panel-sidebar. You can do this using a markdown div container (as illustrated above for .panel-input), or, if the entire contents of your sidebar is created from a single code cell, by adding the panel: sidebar option to the cell.\nSidebar panels should always have an adjacent panel with class .panel-fill or .panel-center which they will be laid out next to. The former (.panel-fill) will fill all available space, the latter (.panel-center) will leave some horizontal margin around it’s content.\nFor example, here is the source code of the user-interface portion of the Shiny application displayed above:\n---\ntitle: \"Iris K-Means Clustering\"\nformat: \n  html:\n    page-layout: custom\nserver: shiny\n---\n\n```{r}\n#| panel: sidebar\nvars <- setdiff(names(iris), \"Species\")\nselectInput('xcol', 'X Variable', vars)\nselectInput('ycol', 'Y Variable', vars, selected = vars[[2]])\nnumericInput('clusters', 'Cluster count', 3, min = 1, max = 9)\n```\n\n```{r}\n#| panel: fill\nplotOutput('plot1')\n```\nThe panel: fill option is added to the plot output chunk. You can alternately use panel: center if you want to leave some horizontal margin around the contents of the panel.\nAdding the panel option to a code chunk is shorthand for adding the CSS class to it’s containing div (i.e. it’s equivalent to surrounding the code chunk with a div with class e.g. panel-fill).\n\nSidebar Div\nIn JavaScript interactive documents each input must be in it’s own {ojs} cell, so you’ll need to use the .panel-sidebar class on a div enclosing the inputs. For example, to create this layout:\n\nYou would use the following code:\n::: {.panel-sidebar}\n\n```{}\nviewof myage = {\n  const myage = select({\n    title: \"Quelle classe d'âge voulez-vous cartographier ?\",\n    options: ages,\n    value: \"80etplus\"\n  });\n  return myage;\n}\n```\n\n```{}\nviewof pctvax = slider({\n  title: '<br/>Objectif de vaccination',\n  description: '200% signifie 2 doses par personnes pour tout le monde',\n  min: 50,\n  max: 200,\n  value: 200,\n  step: 10,\n  format: v => v + \"%\"\n})\n```\n\n```{}\nviewof overlay = radio({\n  title: \"Écarter les cercles\",\n  options: [{ label: 'Oui', value: 'Y' }, { label: 'Non', value: 'N' }],\n  value: 'N'\n})\n```\n\n```{}\nviewof label = radio({\n  title: \"Numéros des départements\",\n  options: [{ label: 'Afficher', value: 'Y' }, { label: 'Masquer', value: 'N' }],\n  value: 'N'\n})\n```\n\n:::\n\n\n```{}\n//| panel: fill\n\n(vaccine visualization code)\n\n```\nSee the France Vaccination example for the full source code of this document.\n\n\n\nPanel Layout\nYou can arrange multiple interactive components into a panel using the layout attribute of a containing div. For example, here we have a main visualization in the first row and two ancillary visualizations in the second row:\n\nAs described in the article on Figures and Layout, you can arrange panels of figures in very flexible fashion using the layout attribute. For the example above we enclosed the three visualizations in the following div:\n::: {layout=\"[ [1], [1,1] ]\"}\n\n(outputs)\n\n:::\nSee the Men’s Tennis example for the full source code of this document.\nNote that you can apply the layout attribute to a div that is already a panel (e.g. .panel-fill) to specify layout for content adjacent to a sidebar. So the following markup is also valid:\n::: {.panel-sidebar}\n\n(inputs)\n\n:::\n\n::: {.panel-fill layout=\"[ [1], [1,1] ]\"}\n\n(outputs)\n\n:::\nThe layout attribute is an array of arrays, each of which defines a row of the layout. Above we indicate that we want the first row to encompass the first visualization, and then to split the next two equally over the second row.\nThe values in rows don’t need to add up to anything in particular (they are relative within each row), so we could have just as well have specified different relative widths for the second row if that was better suited to presenting our data:\n::: {layout=\"[ [1], [3,2] ]\"}\n\n(outputs)\n\n:::\n\ndocument.querySelectorAll(\".ojs-example code > span\")\n  .forEach(function(span) { \n    if (span.innerText === \"```{}\")\n      span.innerText = \"```{ojs}\";\n  });"
  },
  {
    "href": "docs/interactive/layout.html#section",
    "title": "Component Layout",
    "section": "",
    "text": "https://observablehq.com/@d3/quadtree-findincircle\nhttps://observablehq.com/@d3/simulation-tick\nhttps://observablehq.com/@d3/force-directed-lattice\nhttps://observablehq.com/@d3/voronoi-neighbors\nhttps://observablehq.com/@d3/zoomable-area-chart\nhttps://observablehq.com/@d3/seamless-zoomable-map-tiles\nhttps://observablehq.com/@d3/zoomable-map-tiles\nhttps://observablehq.com/@julesblm/food-com-nutritional-ternary-plot-with-d3-ternary\nhttps://observablehq.com/@neocartocnrs/dotdensity-map\nhttps://observablehq.com/@neocartocnrs/world-elevation-line-map\nhttps://observablehq.com/@neocartocnrs/countries-vs-billionaires\nhttps://observablehq.com/@neocartocnrs/dead-and-missing-migrants-in-calais\nhttps://observablehq.com/@neocartocnrs/passeports-colors\nhttps://observablehq.com/@neocartocnrs/how-to-draw-an-age-pyramid-at-different-levels-of-aggregatio\nhttps://observablehq.com/@neocartocnrs/vaccination-in-france-by-age-group\nhttps://observablehq.com/@neocartocnrs/bars-pubs-in-paris\nhttps://observablehq.com/@julesblm/rotterdam-morphing-transit-map\nhttps://observablehq.com/@d3/animated-treemap\nhttps://observablehq.com/@d3/sankey-diagram\nhttps://observablehq.com/@d3/calendar-view\nhttps://observablehq.com/@d3/index-chart\nhttps://observablehq.com/@d3/zoomable-sunburst\nhttps://observablehq.com/@d3/realtime-horizon-chart\nhttps://observablehq.com/@d3/parallel-coordinates\nhttps://observablehq.com/@d3/kernel-density-estimation\nhttps://observablehq.com/@d3/hexbin\nhttps://observablehq.com/@d3/brushable-scatterplot-matrix\nhttps://observablehq.com/@d3/multi-line-chart"
  },
  {
    "href": "docs/output-formats/html-basics.html#overview",
    "title": "HTML Basics",
    "section": "Overview",
    "text": "Use the html format to create HTML output. For example:\n---\ntitle: \"My document\"\nformat:\n  html:\n    toc: true\n    html-math-method: katex\n    css: styles.css\n---\nThis example highlights a few of the options available for HTML output. This document covers these and other options in detail."
  },
  {
    "href": "docs/output-formats/html-basics.html#table-of-contents",
    "title": "HTML Basics",
    "section": "Table of Contents",
    "text": "Use the toc option to include an automatically generated table of contents in the output document. Use the toc-depth option to specify the number of section levels to include in the table of contents. The default is 3 (which means that level-1, 2, and 3 headings will be listed in the contents). For example:\ntoc: true\ntoc-depth: 2\nYou can customize the title used for the table of contents using the toc-title option:\ntoc-title: Contents\nIf you want to exclude a heading from the table of contents, add both the .unnumbered and .unlisted classes to it:\n### More Options {.unnumbered .unlisted}\nThe HTML format by default uses a floating table of contents. You can revert to a standard table of contents that appears at the top using the following:\nformat:\n  html:\n    toc: true\n    toc-float: false\nThe floating table of contents can be used to navigate to sections of the document and also will automatically highlight the appropriate section as the user scrolls. The table of contents is responsive and will become hidden once the viewport becomes too narrow. See an example on the right of this page."
  },
  {
    "href": "docs/output-formats/html-basics.html#section-numbering",
    "title": "HTML Basics",
    "section": "Section Numbering",
    "text": "Use the number-sections option to number section headings in the output document. For example:\nnumber-sections: true\nUse the number-depth option to specify the deepest level of heading to add numbers to (by default all headings are numbered). For example:\nnumber-depth: 3\nTo exclude an individual heading from numbering, add the .unnumbered class to it:\n### More Options {.unnumbered}"
  },
  {
    "href": "docs/output-formats/html-basics.html#css-styles",
    "title": "HTML Basics",
    "section": "CSS Styles",
    "text": "To add a CSS stylesheet to your document, just provide the css option. For example:\nformat:\n  html: \n    css: styles.css\nUsing the css option works well for simple tweaks to document appearance. If you want to do more extensive customization see the documentation on HTML Themes."
  },
  {
    "href": "docs/output-formats/html-basics.html#latex-equations",
    "title": "HTML Basics",
    "section": "LaTeX Equations",
    "text": "By default, LaTeX equations are rendered using MathJax. Use the html-math-method option to choose another method. For example:\nformat:\n  html:\n    html-math-method: katex\nYou can also specify a url for the library to load for a given method:\nhtml-math-method:\n  method: mathjax\n  url: \"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"\nAvailable math rendering methods include:\n\n\n\n\n\n\n\nMethod\nDescription\n\n\n\n\nmathjax\nUse MathJax to display embedded TeX math in HTML output.\n\n\nkatex\nUse KaTeX to display embedded TeX math in HTML output.\n\n\nwebtex\nConvert TeX formulas to <img> tags that link to an external script that converts formulas to images.\n\n\ngladtex\nEnclose TeX math in <eq> tags in HTML output. The resulting HTML can then be processed by GladTeX to produce images of the typeset formulas and an HTML file with links to these images.\n\n\nmathml\nConvert TeX math to MathML (note that currently only Firefox and Safari natively support MathML)\n\n\nplain\nNo special processing (formulas are put inside a span with class=\"math\").\n\n\n\nNote that this is more detailed documentation on each of these options in the Pandoc Math Rendering in HTML documentation."
  },
  {
    "href": "docs/output-formats/html-basics.html#tabsets",
    "title": "HTML Basics",
    "section": "Tabsets",
    "text": "You can use tabsets to present content that will vary in interest depending on the audience. For example, here we provide some example code in a variety of languages:\nRPythonJavaJulia\n\n\nfizz_buzz <- function(fbnums = 1:50) {\n  output <- dplyr::case_when(\n    fbnums %% 15 == 0 ~ \"FizzBuzz\",\n    fbnums %% 3 == 0 ~ \"Fizz\",\n    fbnums %% 5 == 0 ~ \"Buzz\",\n    TRUE ~ as.character(fbnums)\n  )\n  print(output)\n}\n\n\ndef fizz_buzz(num):\n  if num % 15 == 0:\n    print(\"FizzBuzz\")\n  elif num % 5 == 0:\n    print(\"Buzz\")\n  elif num % 3 == 0:\n    print(\"Fizz\")\n  else:\n    print(num)\n\n\npublic class FizzBuzz\n{\n  public static void fizzBuzz(int num)\n  {\n    if (num % 15 == 0) {\n      System.out.println(\"FizzBuzz\");\n    } else if (num % 5 == 0) {\n      System.out.println(\"Buzz\");\n    } else if (num % 3 == 0) {\n      System.out.println(\"Fizz\");\n    } else {\n      System.out.println(num);\n    }\n  }\n}\n\n\nfunction FizzBuzz(num)\n  if num % 15 == 0\n    println(\"FizzBuzz\")\n  elseif num % 5 == 0\n    println(\"Buzz\")\n  elseif num % 3 == 0\n    println(\"Fizz\")\n  else\n    println(num)\n  end\nend\n\n\nCreate a tabset via a markdown div with the class name panel-tabset (e.g. ::: {.panel-tabset}). Each top-level heading within the div creates a new tab. For example, here is the markdown used to implement the first two tabs displayed above:\n::: {.panel-tabset}\n## R\n\n``` {.r}\nfizz_buzz <- function(fbnums = 1:50) {\n  output <- dplyr::case_when(\n    fbnums %% 15 == 0 ~ \"FizzBuzz\",\n    fbnums %% 3 == 0 ~ \"Fizz\",\n    fbnums %% 5 == 0 ~ \"Buzz\",\n    TRUE ~ as.character(fbnums)\n  )\n  print(output)\n}\n```\n\n## Python\n\n``` {.python}\ndef fizz_buzz(num):\n  if num % 15 == 0:\n    print(\"FizzBuzz\")\n  elif num % 5 == 0:\n    print(\"Buzz\")\n  elif num % 3 == 0:\n    print(\"Fizz\")\n  else:\n    print(num)\n```\n\n:::"
  },
  {
    "href": "docs/output-formats/html-basics.html#self-contained",
    "title": "HTML Basics",
    "section": "Self Contained",
    "text": "HTML documents typically have a number of external dependencies (e.g. images, CSS style sheets, JavaScript, etc.). By default these dependencies are placed in a _files directory alongside your document. For example, if you render report.md to HTML:\nquarto render report.md --to html\nThen the following output is produced:\nreport.html\nreport_files/\nYou might alternatively want to create an entirely self-contained HTML document (with images, css, etc. embedded into the HTML file). You can do this by specifying the self-contained option:\nformat:\n  html:\n    self-contained: true\nThis will produce a standalone HTML file with no external dependencies, using data: URIs to incorporate the contents of linked scripts, style sheets, images, and videos. The resulting file should be “self-contained,” in the sense that it needs no external files and no net access to be displayed properly by a browser."
  },
  {
    "href": "docs/output-formats/html-basics.html#anchor-sections",
    "title": "HTML Basics",
    "section": "Anchor Sections",
    "text": "Hover over a section title to see an anchor link. Enable/disable this behavior with:\nformat:\n  html:\n    anchor-sections: true\nAnchor links are also automatically added to figures and tables that have a cross reference defined."
  },
  {
    "href": "docs/output-formats/html-basics.html#reference-popups",
    "title": "HTML Basics",
    "section": "Reference Popups",
    "text": "Hover over Xie (2015) to see a reference to the definitive book on knitr1.\nControl this behavior with the following options:\nformat:\n  html:\n    hover-citations: true\n    hover-footnotes: true"
  },
  {
    "href": "docs/output-formats/html-basics.html#commenting",
    "title": "HTML Basics",
    "section": "Commenting",
    "text": "This page has commenting with Hypothes.is enabled via the following YAML option:\ncomments:\n  hypothesis: true\nYou can see the Hypothesis UI at the far right of the page. Rather than true, you can specify any of the available Hypothesis embedding options as a sub-key of hypothesis. For example:\ncomments:\n  hypothesis: \n    theme: clean\nYou can enable Utterances commenting using the utterances option. Here you need to specify at least the Git repo you want to use for storing comments:\ncomments:\n  utterances:\n    repo: quarto-dev/quarto-docs\nYou can also specify the other options documented here."
  },
  {
    "href": "docs/output-formats/html-basics.html#includes",
    "title": "HTML Basics",
    "section": "Includes",
    "text": "If you want to include additional content in your document from another file, you can use the include-in options:\n\n\n\n\n\n\n\nOption\nDescription\n\n\n\n\ninclude-in-header\nInclude contents of file, verbatim, at the end of the header. This can be used, for example, to include special CSS or JavaScript in HTML documents or to inject commands into the LaTeX preamble.\n\n\ninclude-before-body\nInclude contents of file, verbatim, at the beginning of the document body (e.g. after the <body> tag in HTML, or the \\begin{document} command in LaTeX). This can be used to include navigation bars or banners in HTML documents.\n\n\ninclude-after-body\nInclude contents of file, verbatim, at the end of the document body (before the </body> tag in HTML, or the \\end{document} command in LaTeX).\n\n\n\nYou can specify a single file for multiple files for each of these options. For example:\nformat:\n  html:\n    include-in-header:\n      - analytics.html\n      - comments.html\n    include-before-body: header.html\nThere are also a set of options you can use for inline includes (i.e. specifying the included content right within YAML):\n\n\n\nOption\nDescription\n\n\n\n\nheader-includes\nInline version of include-in-header\n\n\ninclude-before\nInline version of include-before-body\n\n\ninclude-after\nInline version include-after-body\n\n\n\nFor example:\nformat:\n  pdf: \n    header-includes: |\n      \\usepackage{eplain}\n      \\usepackage{easy-todo}"
  },
  {
    "href": "docs/output-formats/html-basics.html#references",
    "title": "HTML Basics",
    "section": "References",
    "text": "Xie, Yihui. 2015. Dynamic Documents with R and Knitr. 2nd ed. Boca Raton, Florida: Chapman; Hall/CRC. https://yihui.name/knitr/."
  },
  {
    "href": "docs/output-formats/html-code.html#overview",
    "title": "HTML Code Blocks",
    "section": "Overview",
    "text": "There are wide variety of options available to customize the display of source code within HTML documents, including:\n\nHiding some or all code that was executed by Knitr or Jupyter.\nCode folding for executed code (hidden by default and expandable by readers).\nHandling code that overflows the available horizontal display space.\nView the source code of the markdown file used to generate the document.\nSyntax highlighting themes and other options to control the appearance of code.\nCopy to clipboard button for code blocks.\nGenerating hyperlinks to online documentation for functions used within code blocks via the downlit package (note that this option currently only works when using the Knitr engine).\n\nDetails on using all of these options are provided below."
  },
  {
    "href": "docs/output-formats/html-code.html#hiding-code",
    "title": "HTML Code Blocks",
    "section": "Hiding Code",
    "text": "For many documents you may want to hide all of the executable source code used to produce dynamic outputs. You can do this by specifying echo: false in the document execute options. For example:\n---\ntitle: \"My Document\"\nexecute:\n  echo: false\njupyter: python3\n---\nNote that we can override this option on a per code-block basis. For example:\n```{python}\n#| echo: true\n\nimport matplotlib.pyplot as plt\nplt.plot([1,2,3,4])\nplt.show()\n```\nCode block options are included in a special comment at the top of the block (lines at the top prefaced with #| are considered options)."
  },
  {
    "href": "docs/output-formats/html-code.html#folding-code",
    "title": "HTML Code Blocks",
    "section": "Folding Code",
    "text": "Use the code-fold option to include code but have it hidden by default using the HTML <details> tag. For example, click the Code button to see the code that produced this plot.\n\n\nCode\nlibrary(ggplot2)\ndat <- data.frame(cond = rep(c(\"A\", \"B\"), each=10),\n                  xvar = 1:20 + rnorm(20,sd=3),\n                  yvar = 1:20 + rnorm(20,sd=3))\n\nggplot(dat, aes(x=xvar, y=yvar)) +\n    geom_point(shape=1) + \n    geom_smooth() \n\n\n\n\n\nHere we specify both code-fold: true as well as custom summary text (the default is just “Code” as shown above):\nformat:\n  html:\n    code-fold: true\n    code-summary: \"Show the code\"\nValid values for code-fold include:\n\n\n\nValue\nBehavior\n\n\n\n\nfalse\nNo folding (default)\n\n\ntrue\nFold code (initially hidden)\n\n\nshow\nFold code (initially shown)\n\n\n\nUse the code-fold and code-summary chunk attributes to control this on a chunk-by-chunk basis:\n```{r}\n#| code-fold: true\n#| code-summary: \"Show the code\"\n\n```"
  },
  {
    "href": "docs/output-formats/html-code.html#code-overflow",
    "title": "HTML Code Blocks",
    "section": "Code Overflow",
    "text": "In some cases the width of source code will overflow the available horizontal display space. By default, this will result in a horizontal scroll bar for the code block. However if you prefer not to have scrollbars you can have the longer lines wrap instead.\nTo set the global default behavior use the code-overflow option. For example:\nformat:\n  html:\n    code-overflow: wrap\nValid values for code-overflow are:\n\n\n\n\n\n\n\nOption\nDescription\n\n\n\n\nscroll\nScroll code blocks that exceed available width (default, corresponds to white-space: pre).\n\n\nwrap\nWrap lines of code that exceed available width (corresponds to white-space: pre-wrap).\n\n\n\nYou can also override the global default on a per-code-block basis. For computational cells you do this with the code-overflow cell option:\n```{python}\n#| code-overflow: wrap\n\n# very long line of code....\n```\nFor a static code block, add the .code-overflow-scroll or .code-overflow-wrap CSS class:\n```{.python .code-overflow-wrap}\n# very long line of code....\n```\nNote that irrespective of these options, code will always wrap within printed HTML output (as it would otherwise be clipped off the edge of the page)."
  },
  {
    "href": "docs/output-formats/html-code.html#code-tools",
    "title": "HTML Code Blocks",
    "section": "Code Tools",
    "text": "You can include a Code menu in the header of your document that provides various tools for readers to interact with the source code. Specify code-tools: true to activate these tools:\nformat:\n  html:\n    code-fold: true\n    code-tools: true\nIf you have a document that includes folded code blocks then the Code menu will present options to show and hide the folded code as well as view the full source code of the document:\n\nThis document specifies code-tools: true in it’s options so you should see the Code menu above next to the main header.\nYou can control which of these options are made available as well as the “Code” caption text using sub-options of code-tools. For example, here we specify that we want only “View Source” (no toggling of code visibility) and no caption on the code menu:\nformat:\n  html: \n    code-tools:\n      source: true\n      toggle: false\n      caption: none\nBy default, the source code is embedded in the document and shown in a popup window like this:\n\nYou can alternatively specify a URL for the value of source:\nformat:\n  html: \n    code-tools:\n      source: https://github.com/quarto-dev/quarto-web/blob/main/index.md\nIf you are within a project and have specified a repo-url option then you can just use repo and the correct link to your source file will be generated:\nformat:\n  html: \n    code-tools:\n      source: repo"
  },
  {
    "href": "docs/output-formats/html-code.html#appearance",
    "title": "HTML Code Blocks",
    "section": "Appearance",
    "text": "By default code blocks are rendered with a left border whose color is derived from the currently theme. You can customize code chunk appearance with some simple options that control the background color and left border. Options can either be booleans to enable or disable the treatment or can be legal CSS color strings (or they could even be SASS variable names!).\nHere is the default appearance for code blocks (code-background: true):\n\nYou can instead use a left border treatment using the code-border-left option:\ncode-border-left: true\n\nYou can combine a background and border treatment as well as customize the left border color:\ncode-background: true\ncode-border-left: \"#31BAE9\""
  },
  {
    "href": "docs/output-formats/html-code.html#highlighting",
    "title": "HTML Code Blocks",
    "section": "Highlighting",
    "text": "You can specify the code highlighting style using highlight-style and specifying one of the supported themes. Supported themes include all the themes included in Pandoc:\n\npygments\ntango\nespresso\nzenburn\nkate\nmonochrome\nbreezedark\nhaddock\n\nAs well as an additional set of extended themes including:\n\narrow\natom-one\nayu\nbreeze\ndracula\ngithub\ngruvbox\nmokokai\nnord\noblivion\nprinting\nradical\nsolarized\nvim-dark\n\nFor example:\nhighlight-style: github\nHighlighting themes can provide either a single highlighting definition or two definitions, one optimized for a light colored background and another optimized for a dark color background. When available, Quarto will automatically select the appropriate style based upon the code chunk background color’s darkness. Users may always opt to specify the full name (e.g. atom-one-dark) to by pass this automatic behavior.\nBy default, code is highlighted using the arrow theme, which optimized for accessibility. We’ve additionally introduced the arrow-dark theme which is designed to provide accessible highlighting against dark backgrounds.\nExamples of the light and dark themes:\n\nArrow (light)\n\n\n\nArrow (dark)\n\n\n\nAyu (light)\n\n\n\nAyu (dark)"
  },
  {
    "href": "docs/output-formats/html-code.html#copy-button",
    "title": "HTML Code Blocks",
    "section": "Copy Button",
    "text": "Hover over the code block below and you will see a copy icon in the top-right corner:\n\nlibrary(dygraphs)\ndygraph(nhtemp, main = \"New Haven Temperatures\") %>% \n  dyRangeSelector(dateWindow = c(\"1920-01-01\", \"1960-01-01\"))\n\nThis behavior is enabled by default but you configure it using the code-copy option:\nformat:\n  html:\n    code-copy: false\nValid values for code-copy include:\n\n\n\nhover\nShow button on hover (default)\n\n\ntrue\nAlways show code copy button\n\n\nfalse\nNever show code copy button"
  },
  {
    "href": "docs/output-formats/html-code.html#code-linking",
    "title": "HTML Code Blocks",
    "section": "Code Linking",
    "text": "The code-link option enables hyper-linking of functions within code blocks to their online documentation:\nformat:\n  html:\n    code-link: true\nCode linking is currently implemented only for the knitr engine (via the downlit package).\n\nSource Code\n---\ntitle: \"HTML Code Blocks\"\ndescription: \"Quarto options for customizing the display of source code in HTML output.\"\nformat: \n  html:\n    code-tools: true\nexecute:\n  warning: false\n---\n\n## Overview\n\nThere are wide variety of options available to customize the display of source code within HTML documents, including:\n\n1.  Hiding some or all code that was executed by [Knitr](https://yihui.name/knitr) or [Jupyter](https://jupyter.org).\n2.  Code folding for executed code (hidden by default and expandable by readers).\n3.  Handling code that overflows the available horizontal display space.\n4.  View the source code of the markdown file used to generate the document.\n5.  Syntax highlighting themes and other options to control the appearance of code.\n6.  Copy to clipboard button for code blocks.\n7.  Generating hyperlinks to online documentation for functions used within code blocks via the [downlit](https://downlit.r-lib.org/) package (note that this option currently only works when using the Knitr engine).\n\nDetails on using all of these options are provided below.\n\n## Hiding Code\n\nFor many documents you may want to hide all of the executable source code used to produce dynamic outputs. You can do this by specifying `echo: false` in the document `execute` options. For example:\n\n``` yaml\n---\ntitle: \"My Document\"\nexecute:\n  echo: false\njupyter: python3\n---\n```\n\nNote that we can override this option on a per code-block basis. For example:\n\n```` markdown\n```{python}`r ''`\n#| echo: true\n\nimport matplotlib.pyplot as plt\nplt.plot([1,2,3,4])\nplt.show()\n```\n````\n\nCode block options are included in a special comment at the top of the block (lines at the top prefaced with `#|` are considered options).\n\n## Folding Code\n\nUse the `code-fold` option to include code but have it hidden by default using the HTML `<details>` tag. For example, click the **Code** button to see the code that produced this plot.\n\n```{r}\n#| code-fold: true\n\nlibrary(ggplot2)\ndat <- data.frame(cond = rep(c(\"A\", \"B\"), each=10),\n                  xvar = 1:20 + rnorm(20,sd=3),\n                  yvar = 1:20 + rnorm(20,sd=3))\n\nggplot(dat, aes(x=xvar, y=yvar)) +\n    geom_point(shape=1) + \n    geom_smooth() \n```\n\nHere we specify both `code-fold: true` as well as custom summary text (the default is just \"Code\" as shown above):\n\n``` yaml\nformat:\n  html:\n    code-fold: true\n    code-summary: \"Show the code\"\n```\n\nValid values for `code-fold` include:\n\n| Value   | Behavior                     |\n|---------|------------------------------|\n| `false` | No folding (default)         |\n| `true`  | Fold code (initially hidden) |\n| `show`  | Fold code (initially shown)  |\n\nUse the `code-fold` and `code-summary` chunk attributes to control this on a chunk-by-chunk basis:\n\n```` python\n```{r}`r ''`\n#| code-fold: true\n#| code-summary: \"Show the code\"\n\n```\n````\n\n## Code Overflow\n\nIn some cases the width of source code will overflow the available horizontal display space. By default, this will result in a horizontal scroll bar for the code block. However if you prefer not to have scrollbars you can have the longer lines wrap instead.\n\nTo set the global default behavior use the `code-overflow` option. For example:\n\n``` yaml\nformat:\n  html:\n    code-overflow: wrap\n```\n\nValid values for `code-overflow` are:\n\n| Option   | Description                                                                                  |\n|----------|----------------------------------------------------------------------------------------------|\n| `scroll` | Scroll code blocks that exceed available width (default, corresponds to `white-space: pre`). |\n| `wrap`   | Wrap lines of code that exceed available width (corresponds to `white-space: pre-wrap`).     |\n\nYou can also override the global default on a per-code-block basis. For computational cells you do this with the `code-overflow` cell option:\n\n```` python\n```{python}`r ''`\n#| code-overflow: wrap\n\n# very long line of code....\n```\n````\n\nFor a static code block, add the `.code-overflow-scroll` or `.code-overflow-wrap` CSS class:\n\n```` python\n```{.python .code-overflow-wrap}\n# very long line of code....\n```\n````\n\nNote that irrespective of these options, code will always wrap within printed HTML output (as it would otherwise be clipped off the edge of the page).\n\n## Code Tools\n\nYou can include a **Code** menu in the header of your document that provides various tools for readers to interact with the source code. Specify `code-tools: true` to activate these tools:\n\n``` yaml\nformat:\n  html:\n    code-fold: true\n    code-tools: true\n```\n\nIf you have a document that includes folded code blocks then the **Code** menu will present options to show and hide the folded code as well as view the full source code of the document:\n\n![](images/code-tools-01.png){.border}\n\nThis document specifies `code-tools: true` in it's options so you should see the **Code** menu above next to the main header.\n\nYou can control which of these options are made available as well as the \"Code\" caption text using sub-options of `code-tools`. For example, here we specify that we want only \"View Source\" (no toggling of code visibility) and no caption on the code menu:\n\n``` yaml\nformat:\n  html: \n    code-tools:\n      source: true\n      toggle: false\n      caption: none\n```\n\nBy default, the source code is embedded in the document and shown in a popup window like this:\n\n![](images/code-tools-source.png)\n\nYou can alternatively specify a URL for the value of `source`:\n\n``` yaml\nformat:\n  html: \n    code-tools:\n      source: https://github.com/quarto-dev/quarto-web/blob/main/index.md\n```\n\nIf you are within a project and have specified a `repo-url` option then you can just use `repo` and the correct link to your source file will be generated:\n\n``` yaml\nformat:\n  html: \n    code-tools:\n      source: repo\n```\n\n## Appearance\n\nBy default code blocks are rendered with a left border whose color is derived from the currently theme. You can customize code chunk appearance with some simple options that control the background color and left border. Options can either be booleans to enable or disable the treatment or can be legal CSS color strings (or they could even be SASS variable names!).\n\nHere is the default appearance for code blocks (`code-background: true`):\n\n![](images/code-bg.png)\n\nYou can instead use a left border treatment using the `code-border-left` option:\n\n``` yaml\ncode-border-left: true\n```\n\n![](images/code-default.png)\n\nYou can combine a background and border treatment as well as customize the left border color:\n\n``` yaml\ncode-background: true\ncode-border-left: \"#31BAE9\"\n```\n\n![](images/code-custom.png)\n\n## Highlighting\n\nYou can specify the code highlighting style using `highlight-style` and specifying one of the supported themes. Supported themes include all the themes included in Pandoc:\n\n-   pygments\n-   tango\n-   espresso\n-   zenburn\n-   kate\n-   monochrome\n-   breezedark\n-   haddock\n\nAs well as an additional set of extended themes including:\n\n-   arrow\n-   atom-one\n-   ayu\n-   breeze\n-   dracula\n-   github\n-   gruvbox\n-   mokokai\n-   nord\n-   oblivion\n-   printing\n-   radical\n-   solarized\n-   vim-dark\n\nFor example:\n\n``` yaml\nhighlight-style: github\n```\n\nHighlighting themes can provide either a single highlighting definition or two definitions, one optimized for a light colored background and another optimized for a dark color background. When available, Quarto will automatically select the appropriate style based upon the code chunk background color's darkness. Users may always opt to specify the full name (e.g. `atom-one-dark`) to by pass this automatic behavior.\n\nBy default, code is highlighted using the `arrow` theme, which optimized for accessibility. We've additionally introduced the `arrow-dark` theme which is designed to provide accessible highlighting against dark backgrounds.\n\nExamples of the light and dark themes:\n\n#### Arrow (light)\n\n![](images/arrow.png)\n\n#### Arrow (dark)\n\n![](images/arrow-dark.png)\n\n#### Ayu (light)\n\n![](images/ayu.png)\n\n#### Ayu (dark)\n\n![](images/ayu-dark.png){.preview-image}\n\n## Copy Button\n\nHover over the code block below and you will see a copy icon in the top-right corner:\n\n```{r eval=FALSE}\nlibrary(dygraphs)\ndygraph(nhtemp, main = \"New Haven Temperatures\") %>% \n  dyRangeSelector(dateWindow = c(\"1920-01-01\", \"1960-01-01\"))\n```\n\nThis behavior is enabled by default but you configure it using the `code-copy` option:\n\n``` yaml\nformat:\n  html:\n    code-copy: false\n```\n\nValid values for `code-copy` include:\n\n|         |                                |\n|---------|--------------------------------|\n| `hover` | Show button on hover (default) |\n| `true`  | Always show code copy button   |\n| `false` | Never show code copy button    |\n\n## Code Linking\n\nThe `code-link` option enables hyper-linking of functions within code blocks to their online documentation:\n\n``` yaml\nformat:\n  html:\n    code-link: true\n```\n\nCode linking is currently implemented only for the knitr engine (via the [downlit](https://downlit.r-lib.org) package)."
  },
  {
    "href": "docs/output-formats/ms-word.html#overview",
    "title": "MS Word",
    "section": "Overview",
    "text": "Use the docx format to create MS Word output. For example:\n---\ntitle: \"My Document\"\nformat:\n  docx:\n    toc: true\n    section-numbers: true\n    highlight-style: github\nThis example highlights a few of the options available for MS Word output. This document covers these and other options in detail."
  },
  {
    "href": "docs/output-formats/ms-word.html#table-of-contents",
    "title": "MS Word",
    "section": "Table of Contents",
    "text": "Use the toc option to include an automatically generated table of contents in the output document. Use the toc-depth option to specify the number of section levels to include in the table of contents. The default is 3 (which means that level-1, 2, and 3 headings will be listed in the contents). For example:\ntoc: true\ntoc-depth: 2\nYou can customize the title used for the table of contents using the toc-title option:\ntoc-title: Contents\nIf you want to exclude a heading from the table of contents, add both the .unnumbered and .unlisted classes to it:\n### More Options {.unnumbered .unlisted}"
  },
  {
    "href": "docs/output-formats/ms-word.html#section-numbering",
    "title": "MS Word",
    "section": "Section Numbering",
    "text": "Use the number-sections option to number section headings in the output document. For example:\nnumber-sections: true\nUse the number-depth option to specify the deepest level of heading to add numbers to (by default all headings are numbered). For example:\nnumber-depth: 3\nTo exclude an individual heading from numbering, add the .unnumbered class to it:\n### More Options {.unnumbered}"
  },
  {
    "href": "docs/output-formats/ms-word.html#syntax-highlighting",
    "title": "MS Word",
    "section": "Syntax Highlighting",
    "text": "Pandoc will automatically highlight syntax in fenced code blocks that are marked with a language name.\nYou can specify the code highlighting style using highlight-style and specifying one of the supported themes. Supported themes include: arrow, pygments, tango, espresso, zenburn, kate, monochrome, breezedark, haddock, atom-one, ayu, breeze, dracula, github, gruvbox, monokai, nord, oblivion, printing, radical, solarized, and vim.\nFor example:\nhighlight-style: github\nHighlighting themes can provide either a single highlighting definition or two definitions, one optimized for a light colored background and another optimized for a dark color background. When available, Quarto will automatically select the appropriate style based upon the code chunk background color’s darkness. You may may always opt to specify the full name (e.g. atom-one-dark) to bypass this automatic behavior.\nBy default, code is highlighted using the arrow theme, which is optimized for accessibility. Here are examples of the arrow light and dark themes:\nLightDark"
  },
  {
    "href": "docs/output-formats/ms-word.html#templates",
    "title": "MS Word",
    "section": "Templates",
    "text": "If you want to customize the appearance of MS Word output, Pandoc supports a special type of template called a reference document. Here’s an example of specifying a custom reference document for docx:\nformat:\n  docx:\n    custom-reference-doc.docx\nReference documents include sample text that uses all of the output styles used by Pandoc. To create a new reference doc based on the Pandoc default, execute the following command:\n$ pandoc -o custom-reference-doc.docx --print-default-data-file reference.docx\nThen, open custom-reference-doc.docx in MS Word and modify styles as you wish:\n\n\n\nYou can open the Styles pane from the HOME tab in the MS Word toolbar.\n\n\nWhen you move the cursor to a specific element in the document, an item in the styles list will be highlighted. If you want to modify the style of any type of element, you can click the drop-down menu on the highlighted item, and you will see a dialog box like this:\n\nAfter you finish modifying the styles, you can save the document and use it as the template for future Word documents."
  },
  {
    "href": "docs/output-formats/more-formats.html#overview",
    "title": "More Formats",
    "section": "Overview",
    "text": "Pandoc support a huge array of output formats, all of which can be used with Quarto. To use any Pandoc format just use the format option or the --to command line option.\nFor example, here’s some YAML that specifies the use of the odt format as well as a couple of format options:\n---\ntitle: \"My Document\"\nformat: \n  odt:\n    toc: true\n    reference-doc: reference.odt\n---\nAlternatively you can specify the use of a format on the command line:\nquarto render document.md --to odt"
  },
  {
    "href": "docs/output-formats/more-formats.html#formats",
    "title": "More Formats",
    "section": "Formats",
    "text": "All Pandoc output formats currently available are listed below (the format “name” on the left is what you specify in the format YAML key).\nTo learn more about the specific options available for all of Pandoc’s formats, see the Pandoc User Guide.\n\n\n\n\n\n\n\nName\nDetails\n\n\n\n\nasciidoc\nhttps://asciidoc.org/\n\n\nasciidoctor\nhttps://asciidoctor.org/\n\n\nbeamer\nhttps://ctan.org/pkg/beamer\n\n\ncommonmark\ncommonmark_x\nhttp://commonmark.org/\n\n\ncontext\nhttp://www.pragma-ade.nl/\n\n\ncsljson\nhttps://citationstyles.org/\n\n\ndocbook\ndocbook4\ndocbook5\nhttp://www.docbook.org/\n\n\ndocx\nhttps://en.wikipedia.org/wiki/Office_Open_XML\n\n\ndokuwiki\nhttps://www.dokuwiki.org/wiki:syntax\n\n\ndzslides\nhttp://paulrouget.com/dzslides/\n\n\nepub\nepub2\nepub3\nhttp://en.wikipedia.org/wiki/EPUB\n\n\nfb2\nhttps://en.wikipedia.org/wiki/FictionBook\n\n\ngfm\nhttps://github.github.com/gfm/\n\n\nhaddock\nhttp://www.haskell.org/haddock/doc/html/ch03s08.html\n\n\nhtml\nhtml4\nhtml5\nhttps://en.wikipedia.org/wiki/HTML5\n\n\nicml\nhttps://wwwimages.adobe.com/content/dam/acom/en/devnet/indesign/sdk/cs6/idml/idml-specification.pdf\n\n\nipynb\nhttps://nbformat.readthedocs.io/en/latest/\n\n\njats\njats_archiving\njats_articleauthoring\njats_publishing\nhttps://jats.nlm.nih.gov/publishing/\n\n\njira\nhttps://jira.atlassian.com/secure/WikiRendererHelpAction.jspa?section=all\n\n\njson\nhttps://pandoc.org/filters.html\n\n\nlatex\n\n\n\nman\nhttp://www.gnu.org/software/groff/groff.html\n\n\nmarkdown\nmarkdown_github\nmarkdown_mmd\nmarkdown_phpextra\nmarkdown_strict\nhttps://pandoc.org/MANUAL.html#markdown-variants\n\n\nmediawiki\nhttp://www.mediawiki.org/wiki/Help:Formatting\n\n\nms\nhttp://www.gnu.org/software/groff/groff.html\n\n\nmuse\nhttps://www.gnu.org/software/emacs-muse/manual/\n\n\nnative\nhttps://pandoc.org/using-the-pandoc-api.html\n\n\nodt\nhttp://en.wikipedia.org/wiki/OpenDocument\n\n\nopendocument\nhttp://opendocument.xml.org/\n\n\nopml\nhttp://dev.opml.org/spec2.html\n\n\norg\nhttp://orgmode.org/\n\n\npdf\nhttps://en.wikipedia.org/wiki/PDF\n\n\nplain\nPlain text\n\n\npptx\nhttps://en.wikipedia.org/wiki/Microsoft_PowerPoint\n\n\nrevealjs\nhttp://lab.hakim.se/reveal-js/\n\n\nrst\nhttp://docutils.sourceforge.net/docs/ref/rst/introduction.html\n\n\nrtf\nhttps://en.wikipedia.org/wiki/Rich_Text_Format\n\n\ns5\nhttp://meyerweb.com/eric/tools/s5/\n\n\nslideous\nhttp://goessner.net/articles/slideous/\n\n\nslidy\nhttp://www.w3.org/Talks/Tools/Slidy\n\n\ntei\nhttps://github.com/TEIC/TEI-Simple\n\n\ntexinfo\nhttp://www.gnu.org/software/texinfo/\n\n\ntextile\nhttp://redcloth.org/textile\n\n\nxwiki\nhttps://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiSyntax/\n\n\nzimwik\nhttp://zim-wiki.org/manual/Help/Wiki_Syntax.html\n\n\n\nHere is a list of the currently supported formats:\nLightweight markup formats\n\nMarkdown (including CommonMark and GitHub-flavored Markdown)\nreStructuredText\nAsciiDoc\nEmacs Org-Mode\nEmacs Muse\nTextile\n\nHTML formats\n\n(X)HTML 4\nHTML5\n\nEbooks\n\nEPUB version 2 or 3\nFictionBook2\n\nDocumentation formats\n\nGNU TexInfo\nHaddock markup\n\nRoff formats\n\nroff man\nroff ms\n\nTeX formats\n\nLaTeX\nConTeXt\n\nXML formats\n\nDocBook version 4 or 5\nJATS\nTEI Simple\n\nOutline formats\n\nOPML\n\nBibliography formats\n\nBibTeX\nBibLaTeX\nCSL JSON\nCSL YAML\n\nWord processor formats\n\nMicrosoft Word docx\nOpenOffice/LibreOffice ODT\nOpenDocument XML\nMicrosoft PowerPoint\n\nInteractive notebook formats\n\nJupyter notebook (ipynb)\n\nPage layout formats\n\nInDesign ICML\n\nWiki markup formats\n\nMediaWiki markup\nDokuWiki markup\nXWiki markup\nZimWiki markup\nJira wiki markup\n\nSlide show formats\n\nLaTeX Beamer\nSlidy\nreveal.js\nSlideous\nS5\nDZSlides\n\nCustom formats\n\nCustom writers can be written in lua.\n\nPDF\n\nvia pdflatex, lualatex, xelatex, latexmk, tectonic, wkhtmltopdf, weasyprint, prince, context, or pdfroff."
  },
  {
    "href": "docs/output-formats/pdf-engine.html#overview",
    "title": "PDF Engines",
    "section": "Overview",
    "text": "Pandoc supports the use of a wide range of TeX distributions and PDF compilation engines including pdflatex, xelatex, lualatex, tectonic, and latexmk.\nWhile you can employ whatever toolchain you like for LaTeX compilation, we strongly recommend the use of TinyTeX, which is a distribution of TeX Live that provides a reasonably sized initial download (~100 MB) that includes the 200 or so most commonly used TeX packages for Pandoc documents.\nWe also recommend the use of Quarto’s built in PDF compilation engine, which among other things performs automatic installation of any missing TeX packages."
  },
  {
    "href": "docs/output-formats/pdf-engine.html#installing-tex",
    "title": "PDF Engines",
    "section": "Installing TeX",
    "text": "To install TinyTeX, use the following command:\nquarto tools install tinytex\nIf you prefer TeX Live, you can find instructions for installing it here: https://tug.org/texlive/.\nNote that Quarto’s automatic installation of missing TeX packages will work for TinyTeX and TeX Live, but not for other TeX distributions (as it relies on TeX Live’s tlmgr command)."
  },
  {
    "href": "docs/output-formats/pdf-engine.html#quarto-pdf-engine",
    "title": "PDF Engines",
    "section": "Quarto PDF Engine",
    "text": "Quarto’s built-in PDF compilation engine handles running LaTeX multiple times to resolve index and bibliography entries, and also performs automatic LaTeX package installation. This section describes customizing the built-in engine (see the Alternate PDF Engines section below for docs on using other engines).\n\nPDF Compilation\nThe following options are available for customizing PDF compilation:\n\n\n\n\n\n\n\nOption\nDescription\n\n\n\n\nlatex-min-runs\nNumber (minimum number of compilation passes)\n\n\nlatex-max-runs\nNumber (maximum number of compilation passes)\n\n\nlatex-clean\nBoolean (clean intermediates after compilation, defaults to true)\n\n\nlatex-output-dir\nString (output directory for intermediates and PDF)\n\n\nlatex-makeindex\nString (program to use for makeindex)\n\n\nlatex-makeindex-opts\nArray (options for makeindexprogram)\n\n\n\n\n\nPackage Installation\nThe following options are available for customizing automatic package installation:\n\n\n\n\n\n\n\nOption\nDescription\n\n\n\n\nlatex-auto-install\nBoolean (enable/disable automatic package installation)\n\n\nlatex-tlmgr-opts\nArray (options for tlmgr)"
  },
  {
    "href": "docs/output-formats/pdf-engine.html#alternate-pdf-engines",
    "title": "PDF Engines",
    "section": "Alternate PDF Engines",
    "text": "To disable Quarto’s built in PDF engine, set the latex-auto-mk option to false:\ntitle: \"My Document\"\nlatex-auto-mk: false\nThe above configuration will result in Pandoc’s default behavior for PDF compilation (pdf-engine: pdflatex ). You can then use the pdf-engine and pdf-engine-opts to further customize Pandoc compilation. For example:\ntitle: \"My Document\"\nlatex-auto-mk: false\npdf-engine: xelatex\npdf-engine-opt: -outdir=out"
  },
  {
    "href": "docs/output-formats/gfm.html#overview",
    "title": "GFM",
    "section": "Overview",
    "text": "While markdown is the input format for Quarto, it can also in some cases be an output format (for example, if you have a website or CMS that accepts markdown as input and want to incorporate computations from Python or R).\nThis article covers using Quarto to generate GitHub Flavored Markdown (GFM). You might want to do this in order to:\n\nGenerate a GitHub README.md from a Jupyter notebook\nCreate pages for a GitHub wiki that include computations (e.g. plot output)."
  },
  {
    "href": "docs/output-formats/gfm.html#gfm-format",
    "title": "GFM",
    "section": "GFM Format",
    "text": "Use the gfm format to create GitHub Flavored Markdown from Quarto. For example:\n---\ntitle: \"My Project\"\nformat: gfm\n---\nTo create a README.md using Quarto, start with a notebook (.ipynb) or computational markdown file (.qmd) that has README as it’s file name stem, for example:\nREADME.qmd\n---\ntitle: \"My Project\"\nformat: gfm\njupyter: python3\n---\n\nThis is a GitHub README that has content dynamically generated from Python:\n  \n```{python}\n1 + 1\n```\nRender the README with:\nquarto render README.qmd\nWhich will create README.md alongside your input file."
  },
  {
    "href": "docs/output-formats/gfm.html#github-wikis",
    "title": "GFM",
    "section": "GitHub Wikis",
    "text": "If you want to use Quarto to incorporate computations into a GitHub wiki start by cloning the wiki for local editing.\nThen, simply create a computational markdown file (.ipynb, .qmd) for each page in the wiki. You can render all of these files at once into their corresponding .md files using Quarto Projects. For example:\nquarto render\nYou don’t even strictly need a Quarto project file to do this as quarto render will render all input files in a directory by default if there is no project file."
  },
  {
    "href": "docs/output-formats/pdf-basics.html#overview",
    "title": "PDF Basics",
    "section": "Overview",
    "text": "Use the pdf format to create PDF output. For example:\n---\ntitle: \"My document\"\nformat:\n  pdf:\n    toc: true\n    number-sections: true\n    colorlinks: true\n---\nThis example highlights a few of the options available for PDF output. This article covers these and other options in detail.\nIf you want to produce raw LaTeX output (a .tex file) rather than a PDF, all of the options documented here are still available (see the LaTeX Output section below for additional details).\n\n\n\n\n\n\nNote\n\n\n\nNote that while we will focus here exclusively on the use LaTeX to create PDFs, Pandoc also has support for creating PDFs using ConTeXt, roff ms, or HTML (via wkhtmltopdf). See the Pandoc documentation on Creating a PDF for additional details.\n\n\n\nPrerequisites\nIn order to create PDFs you will need to install a recent distribution of TeX. We recommend the use of TinyTeX (which is based on TexLive), which you can install with the following command:\nquarto tools install tinytex\nSee the article on PDF Engines for details on using other TeX distributions and PDF compilation engines."
  },
  {
    "href": "docs/output-formats/pdf-basics.html#document-class",
    "title": "PDF Basics",
    "section": "Document Class",
    "text": "Quarto uses KOMA Script document classes by default for PDF documents and books. KOMA-Script classes are drop-in replacements for the standard classes with an emphasis on typography and versatility.\nFor PDF documents this results in the following Pandoc options set by default:\nformat:\n  pdf:\n    documentclass: scrartcl\n    papersize: letter\nYou can set documentclass to the standard article, report or book classes, to the KOMA Script equivalents scrartcl, scrbook, and scrreprt, or to any other class made available by LaTeX packages you have installed.\nSee the Output Options section below for additional details on customizing LaTeX document options."
  },
  {
    "href": "docs/output-formats/pdf-basics.html#table-of-contents",
    "title": "PDF Basics",
    "section": "Table of Contents",
    "text": "Use the toc option to include an automatically generated table of contents in the output document. Use the toc-depth option to specify the number of section levels to include in the table of contents. The default is 3 (which means that level-1, 2, and 3 headings will be listed in the contents). For example:\ntoc: true\ntoc-depth: 2\nYou can customize the title used for the table of contents using the toc-title option:\ntoc-title: Contents\nIf you want to exclude a heading from the table of contents, add both the .unnumbered and .unlisted classes to it:\n### More Options {.unnumbered .unlisted}"
  },
  {
    "href": "docs/output-formats/pdf-basics.html#section-numbering",
    "title": "PDF Basics",
    "section": "Section Numbering",
    "text": "Use the number-sections option to number section headings in the output document. For example:\nnumber-sections: true\nUse the number-depth option to specify the deepest level of heading to add numbers to (by default all headings are numbered). For example:\nnumber-depth: 3\nTo exclude an individual heading from numbering, add the .unnumbered class to it:\n### More Options {.unnumbered}"
  },
  {
    "href": "docs/output-formats/pdf-basics.html#syntax-highlighting",
    "title": "PDF Basics",
    "section": "Syntax Highlighting",
    "text": "Pandoc will automatically highlight syntax in fenced code blocks that are marked with a language name.\nYou can specify the code highlighting style using highlight-style and specifying one of the supported themes. Supported themes include: arrow, pygments, tango, espresso, zenburn, kate, monochrome, breezedark, haddock, atom-one, ayu, breeze, dracula, github, gruvbox, monokai, nord, oblivion, printing, radical, solarized, and vim.\nFor example:\nhighlight-style: github\nHighlighting themes can provide either a single highlighting definition or two definitions, one optimized for a light colored background and another optimized for a dark color background. When available, Quarto will automatically select the appropriate style based upon the code chunk background color’s darkness. You may may always opt to specify the full name (e.g. atom-one-dark) to bypass this automatic behavior.\nBy default, code is highlighted using the arrow theme, which is optimized for accessibility. Here are examples of the arrow light and dark themes:\nLightDark"
  },
  {
    "href": "docs/output-formats/pdf-basics.html#output-options",
    "title": "PDF Basics",
    "section": "Output Options",
    "text": "There are numerous options available for customizing PDF output, including:\n\nSpecifying document classes and their options\nIncluding lists of figures and tables\nUsing the geometry and hyperref packages\nNumerous options for customizing fonts and colors.\n\nFor example, here we use a few of these options:\n---\ntitle: \"My Document\"\nformat: \n  pdf: \n    documentclass: report\n    classoption: [twocolumn, landscape]\n    lof: true\n    lot: true\n    geometry:\n      - top=30mm\n      - left=20mm\n      - heightrounded\n    fontfamily: libertinus\n    colorlinks: true\n---\nSee the Pandoc documentation on metadata variables for LaTeX for documentation on all available options."
  },
  {
    "href": "docs/output-formats/pdf-basics.html#citations",
    "title": "PDF Basics",
    "section": "Citations",
    "text": "When creating PDFs, you can choose to use either the default Pandoc citation handling based on citeproc, or alternatively use natbib or BibLaTeX. This can be controlled using the cite-method option. For example:\nformat:\n  pdf: \n    cite-method: biblatex\nThe default is to use citeproc (Pandoc’s built in citation processor).\nSee the main article on using Citations with Quarto for additional details on citation syntax, available bibliography formats, etc.\n\nOptions\nWhen using natbib or biblatex you can specify the following additional options to affect how bibliographies are rendered:\n\n\n\nOption\nDescription\n\n\n\n\nbiblatexoptions\nList of options for biblatex\n\n\nnatbiboptions\nList of options for natbib\n\n\nbiblio-title\nTitle for bibliography\n\n\nbiblio-style\nStyle for bibliography"
  },
  {
    "href": "docs/output-formats/pdf-basics.html#raw-latex",
    "title": "PDF Basics",
    "section": "Raw LaTeX",
    "text": "When creating a PDF document, Pandoc allows the use of raw LaTeX directives intermixed with markdown. For example:\n\\begin{tabular}{|l|l|}\\hline\nAge & Frequency \\\\ \\hline\n18--25  & 15 \\\\\n26--35  & 33 \\\\\n36--45  & 22 \\\\ \\hline\n\\end{tabular}\nRaw LaTeX commands will be preserved and passed unchanged to the LaTeX writer.\n\n\n\n\n\n\nWarning\n\n\n\nWhile it’s very convenient to use raw LaTeX, raw LaTeX is ignored when rendering to other formats like HTML and MS Word. If you plan on rendering to other formats then the example above would be better written using native markdown tables.\n\n\nIn some cases raw LaTeX will require additional LaTeX packages. The LaTeX Includes section below describes how to include \\usepackage commands for these packages in your document."
  },
  {
    "href": "docs/output-formats/pdf-basics.html#latex-includes",
    "title": "PDF Basics",
    "section": "LaTeX Includes",
    "text": "If you want to include additional content in your document from another file, you can use the include-in options:\n\n\n\n\n\n\n\nOption\nDescription\n\n\n\n\ninclude-in-header\nInclude contents of file, verbatim, into the LaTeX preamble.\n\n\ninclude-before-body\nInclude contents of file, verbatim, at the beginning of the document body (e.g. after the \\begin{document} command).\n\n\ninclude-after-body\nInclude contents of file, verbatim, at the end of the document body (before the the \\end{document}).\n\n\n\nYou can specify a single file for multiple files for each of these options. For example:\nformat:\n  html:\n    include-in-header:\n      - packages.tex\n      - macros.tex\n    include-before-body: before.tex\nThere are also a set of options you can use for inline includes (i.e. specifying the included content right within YAML):\n\n\n\nOption\nDescription\n\n\n\n\nheader-includes\nInline version of include-in-header\n\n\ninclude-before\nInline version of include-before-body\n\n\ninclude-after\nInline version include-after-body\n\n\n\nFor example:\nformat:\n  pdf: \n    header-includes: |\n      \\usepackage{eplain}\n      \\usepackage{easy-todo}\nNote the use of the | character on the line with header-includes to indicate that the value is a multi-line string.\nIf you don’t already have these packages installed locally, then Quarto will automatically install them during rendering of the document."
  },
  {
    "href": "docs/output-formats/pdf-basics.html#latex-output",
    "title": "PDF Basics",
    "section": "LaTeX Output",
    "text": "If you want Quarto to produce a LaTeX file (.tex) rather than a PDF (for example, if you want to do your own processing of the PDF) there are two ways to accomplish this:\n\nUse the latex format rather than the pdf format. For example:\nformat:\n  latex:\n    documentclass: report\n    classoption: [twocolumn, landscape]\n    lof: true\n    lot: true\nNote that all of the PDF format options documented above will also work for the latex format.\nUse the pdf format along with the keep-tex option. For example:\nformat:\n  pdf:\n    documentclass: report\n    keep-tex: true\nThis technique will produce a PDF file for preview, but will also create a .tex file alongside it that you can do subsequent processing on."
  },
  {
    "href": "docs/output-formats/html-publishing.html#github-pages",
    "title": "Publishing HTML",
    "section": "GitHub Pages",
    "text": "GitHub Pages is a service that lets you publish a website from any GitHub repository. While the service supports publishing full websites, it’s also a perfectly suitable place to publish a single Quarto document.\nHere are the steps required to publish a Quarto article to GitHub Pages:\n\nCreate a new Git repository that will be used to host your article.\nConfigure your repository to publish the contents of the main branch (you can do this from the Pages section of your repository settings:\n\nNote that the Source is set to the root directory of the main branch.\nCreate a Quarto document named index.qmd within the repository (using this name will allow your article to be served as the default web page for the repository).\nWrite and render your article using Quarto.\nPush the article (including the HTML file generated when you rendered it) to GitHub. Your article is now published!\n\nGitHub Pages are served on the github.io domain (with your GitHub account as a sub-domain). For example, if your GitHub username is jsmith and your repository is named quarto-article then the article will be available at https://jsmith.github.io/quarto-article."
  },
  {
    "href": "docs/output-formats/html-publishing.html#rpubs-and-rsc",
    "title": "Publishing HTML",
    "section": "RPubs & RStudio Connect",
    "text": "RPubs is a free service from RStudio for sharing documents on the web. RStudio Connect is a server product from RStudio for secure sharing of applications, reports, and plots.\nNote that all documents published to RPubs are publicly visible, so you should only publish content you want to share publicly. Unlike RPubs, RStudio Connect is a server that you run inside an organization, so is suitable for publishing content that you only want visible within your organization’s network.\nYou can publish Quarto documents using the quarto_publish_doc() function from the R quarto package. For example, here we publish a document to both RPubs and an RStudio Connect server:\nlibrary(quarto)\nquarto_publish_doc(\"mydoc.qmd\", server = \"rpubs.com\")\nquarto_publish_doc(\"mydoc.qmd\", server = \"rsc.example.com\")\nNote that once you’ve published a document to a particular server you can omit the server argument when updating the document:\nquarto_publish_doc(\"mydoc.qmd\")\nYou can also publish to RPubs and RStudio Connect directly from within RStudio. To do this, just click the Publish button  on the editor toolbar or preview window:\n\nYou should be running the daily build of RStudio (version 1.5.184 or higher) if you want to publish Quarto documents. The daily build has many other Quarto related enhancements so is highly recommended even if you aren’t using the publishing features."
  },
  {
    "href": "docs/output-formats/html-publishing.html#standalone-html",
    "title": "Publishing HTML",
    "section": "Standalone HTML",
    "text": "You can optionally render Quarto documents into self-contained HTML, whereby all of the content required to render the article (images generated by plots, required CSS and JavaScript, etc.) are bundled into a single HTML file. Use the self-contained option to do this:\nformat:\n   html:\n     self-contained: true\nThen, you can share this HTML file using the same means you use to share other document types like spreadsheets, presentations, and PDFs (e.g by uploading it to Dropbox or any other file sharing service)."
  },
  {
    "href": "docs/output-formats/html-publishing.html#other-services",
    "title": "Publishing HTML",
    "section": "Other Services",
    "text": "Note that any web server or web host capable of hosting a static website can equally well host a single Quarto HTML document. See the article on publishing websites for details on publishing articles on a variety of other services including Netlify, Firebase, Site44, and Amazon S3."
  },
  {
    "href": "docs/output-formats/html-themes.html#overview",
    "title": "HTML Theming",
    "section": "Overview",
    "text": "HTML documents rendered with Quarto use Bootstrap 5 by default. This can be disabled or customized via the theme option:\ntheme: default # bootstrap 5 default\ntheme: cosmo   # cosmo bootswatch theme\ntheme: pandoc  # pandoc default html treatment\ntheme: none    # no css added to document\nNote that many features of Quarto HTML documents are only available when using a Bootstrap theme. Code folding, citation hover, and commenting are still available with theme: pandoc or theme: none, however most other features (e.g. floating toc, callouts, tabs) are only available for documents with Bootstrap.\nQuarto includes 25 themes from the Bootswatch project (for example, the website uses the cosmo theme). Below we describe how to use SASS to create your own themes."
  },
  {
    "href": "docs/output-formats/html-themes.html#basic-options",
    "title": "HTML Theming",
    "section": "Basic Options",
    "text": "Pandoc supports a set of basic metadata options for customizing document appearance without directly using CSS. These options are available for both the pandoc theme as well as for all Bootstrap themes.\nIf you are using a Bootstrap theme or the Pandoc theme, there are a set of options you can provide in document metadata to customize it’s appearance. These include:\n\n\n\n\n\n\n\nOption\nDescription\n\n\n\n\nmax-width\nThe maximum width occupied by page content. Defaults to 1400px for bootstrap themes and 36em for the pandoc theme.\n\n\nmainfont\nSets the font-family property for the document.\n\n\nfontsize\nSets the base CSS font-size for the document.\n\n\nfontcolor\nSets the default text color for the document.\n\n\nlinkcolor\nSets the default text color for hyperlinks.\n\n\nmonofont\nSets the font-family property for <code> elements.\n\n\nmonobackgroundcolor\nSets the background-color property for <code> elements.\n\n\nlinestretch\nSets the CSS line-height property (affects distance between lines of text, defaults to 1.5).\n\n\nbackgroundcolor\nSets the background-color for the document.\n\n\nmargin-left, margin-right, margin-top, margin-bottom\nSets the CSS margin properties for the document body.\n\n\n\nFor example. here we set the font-size a bit larger and specify that we want a bit more space between lines of text:\ntitle: \"My Document\"\nformat:\n  html: \n    theme: cosmo\n    font-size: 1.1em\n    linestretch: 1.7"
  },
  {
    "href": "docs/output-formats/html-themes.html#theme-options",
    "title": "HTML Theming",
    "section": "Theme Options",
    "text": "While the basic customization described above handles many common requirements, you can do extensive additional customization using SASS theme files. Bootstrap defines over 1,400 variables that control fonts, colors, padding, borders, and much more. You can see all of the variables here:\nhttps://github.com/twbs/bootstrap-sass/blob/master/assets/stylesheets/bootstrap/_variables.scss\nSASS theme files can define both variables that globally set things like colors and fonts, as well as rules that define more fine grained behavior. To customize an existing Bootstrap theme with your own set of variables and/or rules, just provide the base theme and then your custom theme file(s):\ntheme:\n  - cosmo\n  - custom.scss\nYour custom.scss file might look something like this:\n/*-- scss:defaults --*/\n$h2-font-size:          1.6rem !default;\n$headings-font-weight:  500 !default;\n$body-color:            $gray-700 !default;\n\n/*-- scss:rules --*/\nh1, h2, h3, h4, h5, h6 {\n  text-shadow: -1px -1px 0 rgba(0, 0, 0, .3);\n}\nNote that the variables section is denoted by the /*-- scss:defaults --*/ comment and the rules section (where normal CSS rules go) is denoted by the /*-- scss:rules --*/ comment."
  },
  {
    "href": "docs/output-formats/html-themes.html#custom-themes",
    "title": "HTML Theming",
    "section": "Custom Themes",
    "text": "You can naturally also create an entirely custom theme and provide only that (in this case you will inherit from the default Bootstrap theme):\ntheme: custom.scss\nFor example, here are the theme files for the 25 built-in Bootswatch themes:\nhttps://github.com/quarto-dev/quarto-cli/tree/main/src/resources/formats/html/bootstrap/themes\nYou can read more about the custom theming design here:\nhttps://github.com/quarto-dev/quarto-cli/blob/main/design/quarto-themes.md"
  },
  {
    "href": "docs/output-formats/html-themes.html#dark-and-light-themes",
    "title": "HTML Theming",
    "section": "Dark and Light Themes",
    "text": "In addition to providing a single theme for your html output, you may also provide a light and dark theme. For example:\ntheme:\n  light: flatly\n  dark: darkly\nSetting the above themes in your _quarto.yml results in both a dark and light version of your output being available. For example:\n\n\nFlatly Themed Output\n\n\n\n\nDarkly Themed Output\n\n\nWhen providing both a dark and light mode for your html output, Quarto will automatically create a toggle to allow your reader to select the desired dark or light appearance. The toggle will automatically appear in the top right corner of your html output. When possible, the toggle will use browser local storage to maintain the user’s preference across sessions.\nThe first appearance (light or dark) elements in the theme to determine the default appearance for your html output. For example, since the light option appears first in the above example, a reader will see the light appearance by default.\n\n\nCustomizing Themes\nAs when providing a single theme, you may provide a custom theme for dark and light mode, or a list of scss files to customize the light and dark appearance. This website, for example uses the following to use a light cosmo theme and then customizes the cosmo theme with additional Sass variables when in dark mode:\ntheme:\n  light: cosmo\n  dark: [cosmo, theme-dark.scss]\nThe contents of theme-dark.scss which is customizing the cosmo appearance is:\n/*-- scss:defaults --*/\n$body-bg: #181818;\n$body-color: white;\n$link-color: #75AADB;\n$sidebar-bg: #303030;\n$code-background-alpha: -.8;\n$popover-bg: #242424;\n$input-bg: #242424;\n\n\nSyntax Highlighting\nQuarto will automatically select the appropriate light or dark version of the text highlighter that you have specified when possible. For more information, see Code Highlighting."
  },
  {
    "href": "docs/output-formats/presentations.html#overview",
    "title": "Presentations",
    "section": "Overview",
    "text": "Pandoc markdown supports a wide variety of formats for creating presentations, including:\n\npptx — PowerPoint (MS Office)\nbeamer — Beamer (LaTeX/PDF)\nrevealjs — reveal.js (HTML)\n\nThis article covers the core syntax for presentations (slides, incremental bullets, columns, etc.). This documentation is an edited version of the complete Pandoc documentation on slide shows. After you learn the basics here you should consult the full documentation to learn about all available options."
  },
  {
    "href": "docs/output-formats/presentations.html#slide-markdown",
    "title": "Presentations",
    "section": "Slide Markdown",
    "text": "Here’s an example of a simple markdown side show. The H1 headers are used to delimit sections; the H2 headers and horizontal rule are used to delimit slides:\n---\ntitle: \"Habits\"\nauthor: \"John Doe\"\ndate: \"March 22, 2005\"\nformat: revealjs\n---\n\n# In the morning\n\n## Getting up\n\n- Turn off alarm\n- Get out of bed\n\n## Breakfast\n\n- Eat eggs\n- Drink coffee\n\n# In the evening\n\n## Dinner\n\n- Eat spaghetti\n- Drink wine\n\n------------------\n\n![picture of spaghetti](images/spaghetti.jpg)\n\n## Going to sleep\n\n- Get in bed\n- Count sheep\nBy default, the slide level is the highest heading level in the hierarchy that is followed immediately by content, and not another heading, somewhere in the document.\nIn the example above, level-1 headings are always followed by level-2 headings, which are followed by content, so the slide level is 2. This default can be overridden using the slide-level option. See the Pandoc documentation on structuring the slide show for additional details."
  },
  {
    "href": "docs/output-formats/presentations.html#incremental-lists",
    "title": "Presentations",
    "section": "Incremental Lists",
    "text": "By default number and bullet lists within slides are displayed all at once. You can override this globally using the incremental option. For example:\ntitle: \"My Presentation\"\nformat:\n  revealjs:\n    incremental: true   \nYou can also explicitly make any list incremental or non-incremental by surrounding it in a div with an explicit class that determines the mode. To make a list incremental do this:\n::: {.incremental}\n\n- Eat spaghetti\n- Drink wine\n\n:::\nTo make a list non-incremental do this:\n::: {.nonincremental}\n\n- Eat spaghetti\n- Drink wine\n\n:::\nYou can also insert a pause within a slide (keeping the content after the pause hidden) by inserting three dots separated by spaces:\n## Slide with a pause\n\ncontent before the pause\n\n. . .\n\ncontent after the pause\n\n\n\n\n\n\nWarning\n\n\n\nThe incremental/nonincremental and pause markdown syntax described above do not currently work for PowerPoint output."
  },
  {
    "href": "docs/output-formats/presentations.html#multiple-columns",
    "title": "Presentations",
    "section": "Multiple Columns",
    "text": "To put material in side by side columns, you can use a native div container with class .columns, containing two or more div containers with class .column and a width attribute:\n:::: {.columns}\n\n::: {.column width=\"40%\"}\ncontents...\n:::\n\n::: {.column width=\"60%\"}\ncontents...\n:::\n\n::::"
  },
  {
    "href": "docs/output-formats/presentations.html#speaker-notes",
    "title": "Presentations",
    "section": "Speaker Notes",
    "text": "Speaker notes are supported in reveal.js and PowerPoint (pptx) output. You can add notes to your Markdown document thus:\n## Slide with speaker notes\n\nSlide content\n\n::: {.notes}\n\nSpeaker notes go here.\n\n:::\nTo show the notes window in reveal.js, press s while viewing the presentation. Speaker notes in PowerPoint will be available, as usual, in handouts and presenter view.\nNotes are not yet supported for other slide formats, but the notes will not appear on the slides themselves."
  },
  {
    "href": "docs/output-formats/hugo.html#overview",
    "title": "Hugo",
    "section": "Overview",
    "text": "Hugo is a very popular open source website publishing system. Pages in Hugo websites are typically written in plain markdown, so don’t have a straightforward way to automatically and reproducibly incorporate computational output.\nUsing the Quarto hugo format, you can incorporate computational output (e.g. R or Python code that produces plots) into Hugo websites. This article explains how."
  },
  {
    "href": "docs/output-formats/hugo.html#creating-a-page",
    "title": "Hugo",
    "section": "Creating a Page",
    "text": "Hugo articles and posts that use Quarto should live in their own directory (taking advantage of the Hugo Page Bundles feature). This allows any content generated/referenced by the page (e.g. plot output) to live right alongside the markdown source.\nTo create a new page that uses Quarto:\n\nCreate a new directory at the location in your site’s content directory where you want the article to live.\nAdd a markdown file to that directory (usually with the same name as the directory). This file should use the .qmd extension (to prevent Hugo from rendering it).\nAdd the requisite Hugo metadata to the document’s front matter, then also specify format: hugo and any other required Quarto options.\n\nFor example, let’s say we wanted to create a new article named hello-quarto within the content directory. The filesystem would look like this:\nmysite/\n  content/\n    hello-quarto/\n      hello-quarto.qmd\nHere’s what the source code hello-quarto.qmd might look like:\n---\ntitle: Hello, Quarto\nformat: hugo\njupyter: python3\n---\n\n## Polar Axis\n\nFor a demonstration of a line plot on a polar axis, see @fig-polar.\n\n```{python}\n#| label: fig-polar\n#| fig-cap: \"A line plot on a polar axis\"\n\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nr = np.arange(0, 2, 0.01)\ntheta = 2 * np.pi * r\nfig, ax = plt.subplots(subplot_kw={'projection': 'polar'})\nax.plot(theta, r)\nax.set_rticks([0.5, 1, 1.5, 2])\nax.grid(True)\nplt.show()\n```"
  },
  {
    "href": "docs/output-formats/hugo.html#workflow",
    "title": "Hugo",
    "section": "Workflow",
    "text": "Generating pages for Hugo requires just a simple Quarto render:\nquarto render hello-quarto.qmd\nWhenever your render the hello-quarto.qmd file, Quarto will execute the code in the file (writing any generated plots, etc. into the article’s directory) and then generate an index.md file that is subsequently processed by Hugo.\nIf you are running the hugo server command for live preview, you will see the updated version of your page whenever you render.\nNote that the index.md file is only updated when you explicitly render with Quarto. Running the hugo command to build your site just renders the index.md file — if you want to regenerate this file based on updated code or data you need to explicitly quarto render it."
  },
  {
    "href": "docs/websites/website-navigation.html#overview",
    "title": "Website Navigation",
    "section": "Overview",
    "text": "There are a variety of options available for providing website navigation, including:\n\nUsing top navigation (a navbar) with optional sub-menus.\nUsing side navigation with a hierarchy of pages.\nCombining top and side navigation (where top navigation links to different sections of the site each with their own side navigation).\n\nIn addition, you can add full text search to either the top or side navigation interface."
  },
  {
    "href": "docs/websites/website-navigation.html#top-navigation",
    "title": "Website Navigation",
    "section": "Top Navigation",
    "text": "To add top-navigation to a website, add a navbar entry to the site config in _quarto.yml. For example, the following YAML:\nsite:\n  navbar:\n    type: dark\n    background: primary\n    search: true\n    left:\n      - text: \"Home\"\n        file: index.qmd\n      - talks.qmd\n      - about.qmd \nWould result in a navigation bar that looks something like this:\n\nAbove we use the left option to specify items for the left side of the navigation bar. You can also use the right option to specify items for the right side.\nThe text for navigation bar items will be taken from the underlying target document’s title. Note that in the above example we provide a custom text: \"Home\" value for index.qmd.\nYou can also create a navigation menu by including a menu (which is list of items much like left and right). For example:\nleft:\n  - text: \"More\"\n    menu:\n      - talks.qmd\n      - about.qmd \nHere are all of the options available for top navigation:\n\n\n\n\n\n\n\nOption\nDescription\n\n\n\n\ntitle\nNavbar title (uses the site: title if none is specified). Use title: false to surpress the display of the title on the navbar.\n\n\nlogo\nLogo image to be displayed left of the title.\n\n\ntype\n“dark” or “light” (each Bootstrap theme has a light and dark variation of the navigation bar)\n\n\nbackground\nBackground color (“primary”, “secondary”, “success”, “danger”, “warning”, “info”, “light”, or “dark”)\n\n\nsearch\nInclude a search box (true or false)\n\n\nleft / right\nLists of navigation items for left and right side of navbar\n\n\npinned\nAlways show the navbar (true or false). Defaults to false, and uses headroom.js to automatically show the navbar when the user scrolls up on the page.\n\n\ncollapse\nCollapse the navbar items into a hamburger menu when the display gets narrow (defaults to true)\n\n\ncollapse-below\nResponsive breakpoint at which to collapse navbar items to a hamburger menu (“sm”, “md”, “lg”, “xl”, or “xxl”, defaults to “lg”)\n\n\n\nHere are the options available for individual navigation items:\n\n\n\n\n\n\n\nOption\nDescription\n\n\n\n\nfile\nLink to file contained with the project.\n\n\nurl\nLink to external URL.\n\n\ntext\nText to display for navigation item (defaults to the document title if not provided).\n\n\nicon\nName of one of the standard Bootstrap 5 icons (e.g. “github”, “twitter”, “share”, etc.).\n\n\naria-label\nAccessible label for the navigation item.\n\n\nmenu\nList of navigation items to populate a drop-down menu."
  },
  {
    "href": "docs/websites/website-navigation.html#side-navigation",
    "title": "Website Navigation",
    "section": "Side Navigation",
    "text": "If your site consists of more than a handful of documents, you might prefer to use side navigation, which enables you to display an arbitrarily deep hierarchy or articles.\nIf you are reading this page on a desktop device then you will see the default side navigation display on the left (otherwise you’ll see a title bar at the top which you can click or touch to reveal the navigation).\nTo add side navigation to a website, add a sidebar entry to the site section of _quarto.yml. For example:\nsite:\n  sidebar:\n    style: \"docked\"\n    search: true\n    contents:\n      - section: \"Basics\"\n        contents:\n          - index.qmd\n          - basics-knitr.qmd\n          - basics-jupyter.qmd\n      - section: \"Layout\"\n        contents:\n          - layout.qmd\n          - layout-knitr.qmd\n          - layout-jupyter.qmd\nThere are two styles of side navigation available: “docked” which shows the navigation in a sidebar with a distinct background color, and “floating” which places it closer to the main body text. Here’s that the “docked” and “floating” styles look like (respectively):\n\n\n\n\n\n\n\n\nHere are all of the options available for side navigation:\n\n\n\n\n\n\n\nOption\nDescription\n\n\n\n\nid\nOptional identifier (used only for hybrid navigation, described below).\n\n\ntitle\nSidebar title (uses the project title if none is specified).\n\n\nsubtitle\nOptional subtitle\n\n\nlogo\nOptional logo image\n\n\nsearch\nInclude a search box (true or false). Note that if there is already a search box on the top navigation bar it won’t be displayed on the sidebar.\n\n\ntools\nList of sidebar tools (e.g. link to github or twitter, etc.). See the next section for details.\n\n\nfooter\nFooter content to place immediately below the sidebar.\n\n\nitems\nList of navigation items to display (typically top level items will in turn have a list of sub-items).\n\n\nstyle\n“docked” or “floating”\n\n\ntype\n“dark” or “light” (hint to make sure the text color is the inverse of the background)\n\n\nbackground\nBackground color (“none”, “primary”, “secondary”, “success”, “danger”, “warning”, “info”, “light”, “dark”, or “white”). Defaults to “light”.\n\n\nalignment\nAlignment (“left”, “right”, or “center”).\n\n\ncollapse-level\nWhether to show sidebar navigation collapsed by default. The default is 2, which shows the top and next level fully expanded (but leaves the 3rd and subsequent levels collapsed).\n\n\npinned\nAlways show a title bar that expands to show the sidebar at narrower screen widths (true or false). Defaults to false, and uses headroom.js to automatically show the navigation bar when the user scrolls up on the page.\n\n\n\n\nSidebar Tools\nIn addition to traditional navigation, the sidebar can also display a set of tools (e.g. social actions, github view or edit action, etc…) A basic tool definition consists of an icon name and an href to follow when clicked. For icon, use the icon name of any of the 1,300+ Bootstrap Icons.\nFor example:\n\n\n\n\n\n\n\nsite:\n  sidebar:\n    tools:\n      - icon: twitter\n        href: https://twitter.com\n      - icon: github\n        menu:\n          - text: Source Code\n          - url:  https://code.com\n          - text: Report a Bug\n          - url:  https://bugs.com"
  },
  {
    "href": "docs/websites/website-navigation.html#hybrid-navigation",
    "title": "Website Navigation",
    "section": "Hybrid Navigation",
    "text": "If you have a website with dozens or even hundreds of pages you will likely want to use top and side navigation together (where the top navigation links to various sections, each with their own side navigation).\nTo do this, provide a list of nav-side entries and give them each an id, which you then use to reference them from the nav-top. For example, if you are using the Diátaxis Framework for documentation, you might have separate sections for tutorials, how-to guides, explanations, and reference documents:\n\nYour configuration for this site might look something like this:\nsite:\n  navbar:\n    search: true\n    left:\n      - text: \"Home\"\n        file: index.qmd\n      - sidebar:tutorials\n      - sidebar:howto\n      - sidebar:fundamentals\n      - sidebar:reference\n\n  sidebar:\n    - id: tutorials\n      title: \"Tutorials\"\n      style: \"docked\"\n      background: light\n      collapse-level: 2\n      contents: \n        # navigation items\n        \n    - id: howto\n      title: \"How-To\"\n      contents:\n        # navigation items\n        \n    - id: fundamentals\n      title: \"Fundamentals\"\n      contents: :\n        # navigation items\n        \n    - id: reference\n      title: \"Reference\"\n      contents: \n        # navigation items\n    \nNote that the first sidebar definition contains a few options (e.g. style and background). These options are automatically inherited by the other sidebars."
  },
  {
    "href": "docs/websites/website-navigation.html#hiding-navigation",
    "title": "Website Navigation",
    "section": "Hiding Navigation",
    "text": "For specific pages, useful particularly when you’d like a completely custom layout, you can hide the navigation (either the top navigation or the side navigation). In these cases when you’d like to hide navigation, add the following to that page’s front matter:\n# Hides the side bar on this page\nsidebar: false\n\n# Hides the top navigation on this page\nnavbar: false"
  },
  {
    "href": "docs/websites/website-navigation.html#page-navigation",
    "title": "Website Navigation",
    "section": "Page Navigation",
    "text": "If you have a website with a number of pages in a section or subsection, it is often convenient to offer the user the ability to navigate to the next page (or previous page) at the bottom of the page that they’ve just finished reading. You can enable this using:\nsite:\n  page-navigation: true\nWhen enabled, page navigation will be displayed at the bottom of the page whenever there is a next or previous page (including in the next or previous section).\n\nPage Navigation and Separators\nIf you include a page separator in sidebar (either between sections or items), page navigation controls will not appear to continue pagination across the separator. For example, in the following sidebar:\nsite:\n  sidebar:\n    contents:\n      - section: \"First Section\"\n        - contents:\n          - href: document1.qmd\n          - href: document2.qmd\n          - href: document3.qmd\n      - section: \"---\"\n      - section: \"Second Section\"\n        contents:\n          - href: document4.qmd\n          - href: document5.qmd\n          - href: document6.qmd\n          \nWhen the user reaches the bottom of document3.qmd, they will see previous navigation to go back to document2.qmd, but they will not see next navigation to continue onto document 4. This behavior is useful when you have sections of contents that don’t naturally flow together in sequential order. Use the separator to denote this in the sidebar and break up pagination."
  },
  {
    "href": "docs/websites/website-navigation.html#site-search",
    "title": "Website Navigation",
    "section": "Site Search",
    "text": "You can add site search by including search: true in either your site-navbar or site-sidebar configuration. For example:\nsite:\n  sidebar:\n    style: \"docked\"\n    search: true\n    items:\n      - text: \"Basics\"\n        contents:\n          - index.qmd\n          - basics-jupyter.md\n        # etc"
  },
  {
    "href": "docs/websites/website-navigation.html#github-links",
    "title": "Website Navigation",
    "section": "GitHub Links",
    "text": "You can add various links (e.g. to edit pages, report issues, etc.) to the GitHub repository where your site source code is hosted. To do this, add a repo-url along with one or more actions in repo-actions. For example:\nsite:\n  repo-url: https://github.com/quarto-dev/quarto-demo\n  repo-actions: [edit, issue]\nThe links will be displayed immediately below the page table of contents:\n\nBy default, the main branch will be used for generating links. You can specify an alternate branch using the repo-branch option."
  },
  {
    "href": "docs/websites/website-navigation.html#redirects",
    "title": "Website Navigation",
    "section": "Redirects",
    "text": "If you rename or move a page on your site, you may want to create redirects from the old URLs so that existing links don’t break. You can do this by adding aliases from old pages to renamed pages.\nFor example, let’s say you renamed page.qmd to renamed-page.qmd. You would add the following aliases entry to renamed-page.qmd to create the redirect:\n---\ntitle: \"Renamed Page\"\naliases:\n  - page.html\n---\nThis can also be useful for situations where you re-organize content on your site into a different directory hierarchy or break one large article into smaller ones. For this case, you may want to add the URL hash of the section that you have broken into a new page. For example:\n---\ntitle: \"Learning More\"\naliases:\n  - overview.html#learning-more\n---\n\n\n\n\n\n\nTip\n\n\n\nDepending on where you are deploying your site there may be more powerful tools available for defining redirects based on patterns. For example, Netlify _redirects files or .htaccess files. Search your web host’s documentation for “redirects” to see if any of these tools are available."
  },
  {
    "href": "docs/websites/website-navigation.html#pages",
    "title": "Website Navigation",
    "section": "404 Pages",
    "text": "When a browser can’t find a requested web page, it displays a 404 error indicating that the file can’t be found. Browser default 404 pages can be pretty stark, so you may want to create a custom page with a more friendly message and perhaps pointers on how users might find what they are looking for.\nMost web serving platforms (e.g. Netlify, GH Pages, etc.) will use a file named 404.html in the root of your website as a custom error page if you provide it. You can include a custom 404 page in a Quarto website by creating a markdown file named 404.md in the root of your project. For example:\n---\ntitle: Page Not Found\n---\n\nThe page you requested cannot be found (perhaps it was moved or renamed).\n\nYou may want to try searching to find the page's new location.\nNote that you can use HTML alongside markdown within your 404.md file in order to get exactly the appearance and layout you want.\nYour 404 page will appear within the chrome of your site (e.g. fonts, css, layout, navigation, etc.). This is so that users don’t feel that they’ve irrecoverably “left” your site when they get a 404 error. If you don’t want this behavior, then provide a 404.html rather than 404.md.\nHere are some examples of how various popular websites handle custom 404 pages: https://blog.fluidui.com/top-404-error-page-examples/.\n\nSite Path Configuration\nIf your website is served from the root of a domain (e.g. https://example.com/) then simply providing a 404.md file as described above is all that’s required to create a custom 404 page.\nHowever, if your website is not served from the root of a domain then you need to provide one additional bit of configuration to make sure that resources (e.g. your site’s CSS) are resolved correctly within 404 pages.\nFor example, if your site is served from https://example.com/mysite/ then you’d add the following to your project site configuration within _quarto.yml:\nsite:\n  title: \"My Site\"\n  site-path: \"/mysite/\"\nNote that if you are already providing a site-url (which is required for generation of sitemaps and social metadata preview images) then it’s enough to simply include the path within the site-url:\nsite:\n  title: \"My Site\"\n  site-url: \"https://example.com/mysite/\""
  },
  {
    "href": "docs/websites/publishing-websites.html#overview",
    "title": "Publishing Websites",
    "section": "Overview",
    "text": "There are a wide variety of ways to publish Quarto websites. Website content is by default written to the _site sub-directory (you can customize this using the output-dir option). Publishing is simply a matter of copying the output directory to a web server or web hosting service.\nBelow we describe several convenient options for Quarto website deployment including GitHub Pages, Netlify, RStudio Connect, Firebase, Site44, and Amazon S3. We’ll mostly defer to the documentation provided by the various services, but will note any Quarto website specific configuration required."
  },
  {
    "href": "docs/websites/publishing-websites.html#rendering-for-publish",
    "title": "Publishing Websites",
    "section": "Rendering for Publish",
    "text": "The most important thing you should be sure to do before publishing is a final render of your project:\nquarto render\nIf you are publishing a book you’ll want to add the --to all argument to ensure that all output formats (e.g. PDF, EPUB) have up to date content:\nquarto render --to all\nThis is particularly important to remember because incremental changes you make when using the development server aren’t rendered into the output directory. To ensure that your output is up to date before publishing you should always do a full quarto render."
  },
  {
    "href": "docs/websites/publishing-websites.html#github-pages",
    "title": "Publishing Websites",
    "section": "GitHub Pages",
    "text": "GitHub Pages is a service that lets you publish a website from any GitHub repository. There are a few configuration steps required to host a Quarto website using GitHub Pages:\n\nCreate a file named .nojekyll in your repository (this is required to disable some processing of HTML files that GitHub does by default). You can do this with the following:\ntouch .nojekyll\nSet the output-dir within your _quarto.yml project file to “docs”:\nproject:\n  type: site\n  output-dir: docs\nConfigure your gh-pages to serve content from the “docs” directory:\n\n\nSee the GitHub Pages documentation for additional details on creating and deploying websites with GitHub."
  },
  {
    "href": "docs/websites/publishing-websites.html#netlify",
    "title": "Publishing Websites",
    "section": "Netlify",
    "text": "Netlify is a popular website hosting service that allows for both direct upload of website files or integrated publishing from Git repositories (GitHub, GitLab, or Bitbucket) via commit-hooks.\nIf you are using Netlify Git integration, be sure to set the publish directory to the output directory of your website (_site by default but modifiable via the output-dir metadata value). For example:"
  },
  {
    "href": "docs/websites/publishing-websites.html#rstudio-connect",
    "title": "Publishing Websites",
    "section": "RStudio Connect",
    "text": "RStudio Connect is a server product from RStudio for secure sharing of websites, applications, reports, and plots.\nYou can deploy a Quarto website to RStudio Connect from the command line using the quarto_publish_site() function from the R quarto package. For example:\nlibrary(quarto)\nquarto_publish_site(server = \"https://rsc.example.com\")\nNote that once you’ve published your site for the first time you can omit the server argument:\nquarto_publish_site()\nUnlike the other website publishing options described here, RStudio Connect is a server that you run inside an organization, so is suitable for publishing content that you only want visible within your organization’s network as opposed to visible to the entire internet.\nYou can also publish to RStudio Connect directly from within RStudio. To do this, just click the Publish button  on the editor toolbar or preview window:\n\nFor the time being Publish finished website only is the only option supported for publishing Quarto websites to RStudio Connect. Support for publishing websites with source code (so they can be rendered on the server) will be added to an upcoming release of RStudio Connect.\n\n\n\n\n\n\nNote\n\n\n\nYou should be running the daily build of RStudio (version 1.5.184 or higher) if you want to publish Quarto websites. The daily build has many other Quarto related enhancements so is highly recommended even if you aren’t using the publishing features."
  },
  {
    "href": "docs/websites/publishing-websites.html#google-firebase",
    "title": "Publishing Websites",
    "section": "Google Firebase",
    "text": "Google Firebase has a web hosting service that enables easy deployment of websites using a set of command line tools.\nFirebase websites by default deploy content from the public directory of the Firebase project directory. This means that you should set the output-dir to \"public\" within _quarto.yml:\nproject:\n  type: site\n  output-dir: public"
  },
  {
    "href": "docs/websites/publishing-websites.html#site44",
    "title": "Publishing Websites",
    "section": "Site44",
    "text": "Site44 is a service that allows you to publish websites from within Dropbox folders. Site44 creates a Dropbox/Apps/site44 directory, and any folders within that directory are published as websites.\nThe recommended workflow for deploying Distill websites to Site44 is to develop your website in a separate project directory, and then, when it’s ready for final publishing, copy the contents of the _site directory to the folder for your website."
  },
  {
    "href": "docs/websites/publishing-websites.html#amazon-s3",
    "title": "Publishing Websites",
    "section": "Amazon S3",
    "text": "If you are a user of Amazon Web Services you can serve your website directly from Amazon S3. Note however that this option is a bit more technically involved than GitHub Pages, Netlify, or Site44. See the article on Hosting a Static Website on Amazon S3 for additional details."
  },
  {
    "href": "docs/websites/publishing-websites.html#other-services",
    "title": "Publishing Websites",
    "section": "Other services",
    "text": "Any web server or web host can be used to deploy a Distill website. Here’s a recent CNET roundup of other web hosts you could consider. You can also deploy a Distill website on any internal (intranet) web server."
  },
  {
    "href": "docs/websites/website-tools.html#social-metadata",
    "title": "Website Tools",
    "section": "Social Metadata",
    "text": "You can enhance your website and the content that you publish to it by including additional types of metadata, including:\n\nTwitter Cards\nOpen Graph\n\n\nTwitter Cards\nTwitter Cards provide an enhanced appearance when someone links to content on Twitter. When a link to your content is included in a Tweet, Twitter automatically crawls your site and fetches any Twitter Card metadata. To enable the automatic generation of Twitter Card metadata for your content, you can add the following to your _quarto.yml configuration file:\nsite:\n  twitter-card: true\nIn this case, Quarto will automatically generated a title, description, and preview image for the content. For more information about how Quarto finds preview images, see Preview Images.\nYou may also provide additional metadata to be used when generating the Twitter Card, including:\n\n\n\n\n\n\n\nKey\nDescription\n\n\n\n\ntitle\nThe title of the content. Quarto will automatically use the title metadata from the page metadata. If you’d like you can override this just for the Twitter Card by including a title in the twitter-card metadata.\n\n\ndescription\nA short description of the content. Quarto will automatically use the description metadata from the page metadata. If you’d like you can override this just for the Twitter Card by including a description in the twitter-card metadata.\n\n\nimage\nThe path to a preview image for this content. By default, Quarto will use the image value from the site: metadata. If you provide an image, you may also optionally provide an image-width and image-height to improve the appearance of your Twitter Card.\nIf image is not provided, Quarto will automatically attempt to locate a preview image. For more information, see Preview Images.\n\n\ncard-style\nEither summary or summary_large_image. If this is not provided, the best style will automatically selected based upon other metadata. You can learn more about Twitter Card styles here.\n\n\ncreator\n@username of the website. Note that strings with special characters such as @ must be quoted in yaml.\n\n\nsite\n@username of content creator. Note that strings with special characters such as @ must be quoted in yaml.\n\n\n\nHere is a more comprehensive example of specifying Twitter Card metadata in a quarto.yml file:\nsite:\n  twitter-card:\n    creator: \"@dragsonstyle\"\n    site: \"@rstudio\"\nQuarto will automatically merge global metadata found in the site: twitter-card key with any metadata provided in the document itself in the twitter-card key. This is useful when need to specify a mix of global options (for example, site) with per document options such as title or image.\n\n\nOpen Graph\nThe Open Graph protocol is a specification that enables richer sharing of links to articles on the web. It will improve the previews of your content when a link to it is pasted into applications like Slack, Discord, Facebook, Linkedin, and more. To enable the automatic generation of Open Graph metadata for your content, include the following in your _quarto.yml configuration file:\nsite:\n  opengraph: true\nIn this case, Quarto will automatically generated a title, description, and preview image for the content. For more information about how Quarto finds preview images, see Preview Images.\nYou may also provide additional metadata to be used when generating the Open Graph metadata, including:\n\n\n\n\n\n\n\nKey\nDescription\n\n\n\n\ntitle\nThe title of the content. Quarto will automatically use the title metadata from the page metadata. If you’d like you can override this just for the Open Graph metadata by including a title in the open-graph metadata.\n\n\ndescription\nA short description of the content. Quarto will automatically use the description metadata from the page metadata. If you’d like you can override this just for the Open Graph metadata by including a description in the open-graph metadata.\n\n\nimage\nThe path to a preview image for this content. By default, Quarto will use the image value from the site: metadata. If you provide an image, you may also optionally provide an image-width and image-height.\nIf image is not provided, Quarto will automatically attempt to locate a preview image. For more information, see Preview Images.\n\n\nlocale\nThe locale that the Open Graph metadata is marked up in.\n\n\nsite_name\nThe name which should be displayed for the overall site. If not explicitly provided in the open-graph metadata, Quarto will use the site:title value.\n\n\n\nHere is a more comprehensive example of specifying Open Graph metadata in a quarto.yml file:\nsite:\n  open-graph:\n    locale: es_ES\n    site_name: Quarto\nQuarto will automatically merge global metadata found in the site: open-graph key with any metadata provided in the document itself in the open-graph key. This is useful when need to specify a mix of global options (for example, site) with per document options such as title or image.\n\n\nPreview Images\nYou can specify a preview image for your article in several different ways:\n\nYou can explicitly provide a full url to the preview image using the image field in the appropriate metadata. For example:\ntitle: \"My Document\"\ntwitter-card:\n  image: \"https://quarto.org/images/preview-code.png\"\nYou may provide a document relative path to an image (such as images/preview-code.png) or a project relative path to an image (such as /images/preview-code.png). If you provide a relative path such as this, you must also provide a site-url in your site’s metadata. For example in your _quarto.yml configuration file:\nsite:\n  site-url: \"https://www.quarto.org\"\nand in your document front matter:\ntitle: \"My Document\"\ntwitter-card:\n  image: \"/images/preview-code.png\"\nAny image that is being rendered in the page may also be used as a preview image by giving it the class name preview-image. Quarto will select the first image it finds with this class. For example, the following image will be used as the preview image when included on a page:\n![](images/jupyter-document.png){.border .preview-image}\nIf you label an image with this class, you must also provide a site-url in your site’s metadata.\nIf none of the above ways of specifying a preview image have been used, Quarto will attempt to find a preview image by looking for an image included in the rendered document with one of the following names:\n\npreview\nfeature\ncover\nthumbail\n\nIf you rely in image names to provide a preview image, you must also provide a site-url in your site’s metadata."
  },
  {
    "href": "docs/websites/website-tools.html#google-analytics",
    "title": "Website Tools",
    "section": "Google Analytics",
    "text": "You can add Google Analytics to your website by adding adding a google-analytics key to your _quarto.yml file. In its simplest form, you can just pass your Google Analytics tracking Id (e.g. UA-xxxxxxx) or Google Tag measurement Id (e.g. G-xxxxxxx) like:\nsite:\n  google-analytics: \"UA-XXXXXXXX\"\nQuarto will use the key itself to determine whether to embed Google Analytics (analytics.js) or Google Tags (gtag) as appropriate.\nIn addition to this basic configuration, you can exercise more fine grained control of your site analytics using the following keys.\n\n\n\n\n\n\n\nKey\nDescription\n\n\n\n\ntracking-id\nThe Google tracking Id or measurement Id of this website.\n\n\nstorage\ncookies - Use cookies to store unique user and session identification (default).\nnone - Do not use cookies to store unique user and session identification.\nFor more about choosing storage options see Storage.\n\n\nanonymize-ip\nAnonymize the user ip address. For more about this feature, see IP Anonymization (or IP masking) in Google Analytics.\n\n\nversion\nThe version number of Google Analytics to use. Currently supports either 3 (for analytics.js) or 4 (for gtag). This is automatically detected based upon the tracking-id, but you may specify it.\n\n\n\n\nStorage\nGoogle Analytics uses cookies to distinguish unique users and sessions. If you choose to use cookies to store this user data, you should consider whether you need to enable Cookie Consent in order to permit the viewer to control any tracking that you enable.\nIf you choose none for storage, this will have the following effects:\n\nFor Google Analytics v3 (analytics.js)\nNo tracking cookies will be used. Individual page hits will be properly tracked, enabling you to see which pages are viewed and how often they are viewed. Unique user and session tracking will not report data correctly since the tracking cookies they rely upon are not set.\nFor Google Tags (gtag)\nUser consent for ad and analytics tracking cookies will be withheld. In this mode, Google Analytics will still collect user data without the user identification, but that data is currently not displayed in the Google Analytics reports."
  },
  {
    "href": "docs/websites/website-tools.html#cookie-consent",
    "title": "Website Tools",
    "section": "Cookie Consent",
    "text": "Quarto includes the ability to request cookie consent before enabling scripts that set cookies, using Cookie Consent.\nThe user’s cookie preferences will automatically control Google Analytics (if enabled) and can be used to control custom scripts you add as well (see Custom Scripts and Cookie Consent. You can enable the default request for cookie consent using the following:\nsite:\n  cookie-consent: true\nYou can further customize the appearance and behavior of the consent using the following:\n\n\n\n\n\n\n\nKey\nDescription\n\n\n\n\ntype\nThe type of consent that should be requested, using one of these two values:\nimplied - (default)This will notify the user that the site uses cookies and permit them to change preferences, but not block cookies unless the user changes their preferences.\nexpress - This will block cookies until the user expressly agrees to allow them (or continue blocking them if the user doesn’t agree).\n\n\nstyle\nThe style of the consent banner that is displayed:\nsimple - (default) A simple dialog in the lower right corner of the website.\nheadline - A full width banner across the top of the website.\ninterstitial - An semi-transparent overlay of the entire website.\nstandalone - An opaque overlay of the entire website.\n\n\npalette\nWhether to use a dark or light appearance for the consent banner:\nlight - A light colored banner.\ndark - A dark colored banner.\n\n\npolicy-url\nThe url to the website’s cookie or privacy policy.\n\n\nprefs-text\nThe text to display for the cookie preferences link in the website footer.\n\n\n\nA custom example might look more like:\nsite:\n  cookie-consent:\n    type: express\n    style: headline\n    palette: dark\n  google-analytics:\n    tracking-id: \"G-XXXXXXX\"\n    anonymize-ip: true\n\nCookie Preferences\nIn addition to requesting consent when a new user visits your website, Cookie Consent will also add a cookie preferences link to the footer of the website. You can control the text of this link using prefs-text. If you would rather position this link yourself, just add a link with the id open_preferences_center to the website and Cookie Consent will not add the preferences link to the footer.\n\n\nCustom Scripts and Cookie Consent\nCookie Consent works by preventing the execution of scripts unless the user has expressed their consent. To control your custom scripts using Cookie Consent:\n\nInsert script tags as type='text/plain' (when the user consents, the type will be switched to text/javascript and the script will be executed).\n\n\n\nAdd a cookie-consent attribute to your script tag, setting it one of the following 4 levels:\n\n\n\n\n\n\n\nLevel\nDescription\n\n\n\n\nstrictly-necessary\nStrictly scripts are loaded automatically and cannot be disabled by the user.\n\n\nfunctionality\nScripts that are required for basic functionality of the website, for example, remembering a user language preference.\n\n\ntracking\nScripts that are used to track users, for example Google Analytics.\n\n\ntargeting\nScripts that are used for the purposed of advertising to ad targeting, for example Google AdSense remarketing.\n\n\n\n\nAn example script that is used for user tracking would look like:\n<script type=\"text/plain\" cookie-consent=\"tracking\">\n\n// My tracking JS code here\n\n</script>"
  },
  {
    "href": "docs/websites/website-tools.html#dark-and-light-themes",
    "title": "Website Tools",
    "section": "Dark and Light Themes",
    "text": "Quarto websites can support both a light and dark mode. For example, you may used the flatly and darkly themes (which are designed to be used in tandem as dark and light appearances) as:\ntheme:\n  light: flatly\n  dark: darkly\nFor more about selecting the dark and light themes for your website, see Dark and Light Themes.\n\n\n\nLight\nDark\n\n\n\n\n\n\n\n\n\nWhen enabled, a toggle that allows your reader to control the appearance of the website. The toggle will automatically be added to the website navigation as follows:\n\nIf a navbar has been specified, the toggle will appear in the top right corner of the nav bar.\nIf there is no navbar present, but a sidebar has been specified, the toggle will appear in the same location that the sidebar tools appears (adjacent to the title or logo in the sidebar).\nIf there is no navbar or sidebar present, the toggle will appear in the top right corner of the page."
  },
  {
    "href": "docs/websites/index.html#overview",
    "title": "Creating a Website",
    "section": "Overview",
    "text": "Quarto Websites are a convenient way to publish groups of documents. Document published as part of a website share navigational elements, rendering options, and visual style.\nWebsite navigation can be provided through a global navbar, a sidebar with links, or a combination of both for sites that have multiple levels of content. You can also enable full text search for websites.\nThis site is an example of a Quarto Website (you can see the source code for it here: https://github.com/quarto-dev/quarto-web)."
  },
  {
    "href": "docs/websites/index.html#getting-started",
    "title": "Creating a Website",
    "section": "Getting Started",
    "text": "To create a new website project, use the Quarto create-project command:\nquarto create-project mysite --type site\nThis will create the scaffolding for a simple website in the mysite subdirectory. Here is what the _quarto.yml config file will look like for the site:\nproject:\n  type: site\n\nsite:\n  title: \"mysite\"\n  navbar:\n    type: dark\n    background: primary\n    left:\n      - href: index.md\n        text: Home\n      - about.md\n\nformat:\n  html:\n    theme: cosmo\n    css: styles.css\n    toc: true\nTo build the website into the _site directory:\nquarto render\nSee the Project Basics article to learn more about working with projects."
  },
  {
    "href": "docs/websites/index.html#workflow",
    "title": "Creating a Website",
    "section": "Workflow",
    "text": "Quarto includes a live-reloading development server that you will likely find convenient to use while working on websites. Start the server with:\nquarto serve\nThe browser will automatically refresh whenever you save a markdown file (.md) or Jupyter Notebook (.ipynb). The browser will also refresh whenever you render a .qmd file.\nChanges to configuration files (e.g. _quarto.yml) as well site resources (e.g. theme or CSS files) will also cause an automatic refresh.\nNote that development server updates do not cause an update to the final site output. Consequently, you should always quarto render your site before deploying it, even if you have already previewed the changes with the development server.\n\nRStudio\nIf you are using Quarto from R, you can also use the quarto package to run the development server:\nlibrary(quarto)\nquarto_serve()"
  },
  {
    "href": "docs/websites/index.html#resources",
    "title": "Creating a Website",
    "section": "Resources",
    "text": "Besides input and configuration files, your site likely also includes a variety of resources (e.g. images) that you will want to publish along with your site. Quarto will automatically detect any files that you reference within your site and copy them to the output directory (e.g. _site).\nIf this auto-detection fails for any reason, or if you want to publish a file not explicitly linked to from within your site, you can add a resources entry to your configuration. For example, here we specify that we want to include all Excel spreadsheets within the project directory as part of the website:\nproject:\n  type: site\n  resources: \n    - \"*.xlsx\"\nNote that the *.xslx value is quoted: this is because YAML requires that strings that begin with non-alphanumeric characters be quoted.\nYou can also add a resources metadata value to individual files. For example:\ntitle: \"My Page\"\nresources:\n  - \"sheet.xlsx\"\nImages are the most commonly used type of resource file. If you have global images (e.g. a logo) that you want to reference from various pages within your site, you can use an site-absolute path to refer to the images, and it will be automatically converted to a relative path during publishing. For example:\n![](/images/logo.png)"
  },
  {
    "href": "index.html#introduction",
    "title": "Welcome to Quarto",
    "section": "Introduction",
    "text": "Quarto is an open-source scientific and technical publishing system built on Pandoc. Quarto documents are authored using markdown, an easy to write plain text format.\nIn addition to the core capabilities of Pandoc, Quarto includes:\n\nA variety of extensions to Pandoc markdown useful for technical writing including cross-references, sub-figures, layout panels, hover-able citations and footnotes, callouts, and more.\nEmbedding code and output from Python, R, and Julia via integration with Jupyter and Knitr.\nThe ability to create interactive documents using either client-side JavaScript or via connection to a Shiny server.\nAuthoring using a wide variety of editors and notebooks including JupyterLab, RStudio, and VS Code.\nA visual editor that provides a productive writing interface for composing long-form markdown documents.\nA project system for rendering groups of documents at once, sharing options across documents, and producing aggregate output like books and websites.\n\nThe overall design of Quarto is influenced heavily by R Markdown, however unlike R Markdown the architecture is language agnostic. In its current iteration, Quarto can render plain markdown, Jupyter Notebooks, and Knitr documents."
  },
  {
    "href": "index.html#hello-quarto",
    "title": "Welcome to Quarto",
    "section": "Hello, Quarto",
    "text": "Here’s a simple example of a markdown document that includes a cross-referenced figure generated by Matplotlib:\n---\ntitle: \"Matplotlib Demo\"\nauthor: \"Norah Smith\"\ndate: \"May 22nd, 2021\"\nformat: \n  html:\n    code-fold: true\njupyter: python3\n---\n\n## Polar Axis\n\nFor a demonstration of a line plot on a polar axis, see @fig-polar.\n\n```{python}\n#| label: fig-polar\n#| fig-cap: \"A line plot on a polar axis\"\n\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nr = np.arange(0, 2, 0.01)\ntheta = 2 * np.pi * r\nfig, ax = plt.subplots(subplot_kw={'projection': 'polar'})\nax.plot(theta, r)\nax.set_rticks([0.5, 1, 1.5, 2])\nax.grid(True)\nplt.show()\n```\nHere’s what the document looks like when rendered by Quarto:\n\nYou can render documents using the quarto command line tool:\nquarto render matplotlib-demo.qmd\nEmbedded code blocks (in this case some Python code that generates a plot) are run by Quarto, and their output is included in the final document generated by Pandoc.\nNote that we use the file extension .qmd to indicate that this isn’t a plain markdown file but rather one with embedded computations to be run by Quarto.\nDon’t worry if all the mechanics of this example aren’t obvious, the main takeaway is that Quarto enables you to enhance Pandoc markdown documents with features useful for scientific and technical communication including executable code, cross-references, and much more.\n\n\n\n\n\n\nNote\n\n\n\nWhile this example demonstrates rendering a .qmd markdown file, Quarto can also directly render existing computational document formats like Jupyter Notebooks (.ipynb) and R Markdown (.Rmd)."
  },
  {
    "href": "index.html#getting-started",
    "title": "Welcome to Quarto",
    "section": "Getting Started",
    "text": "Installation will get you up and running with Quarto (including additional dependencies required for computational documents).\nQuarto Basics will help you learn the core mechanics of rendering markdown from the command line as well as how to specify document formats and options.\nRunning Code explains how to work with Jupyter and Knitr based computational documents in more depth.\nJupyterLab, RStudio, and VS Code help you create an optimal workflow in your code editing tool(s) of choice.\nVisual Editor describes how to use Quarto’s visual interface for composing long-form markdown documents."
  },
  {
    "href": "about.html#goals",
    "title": "About Quarto",
    "section": "Goals",
    "text": "The overarching goal of Quarto is to make the process of creating and collaborating on scientific and technical documents dramatically better. We hope to do this in several dimensions:\n\nCreate a writing and publishing environment with great integreated tools for technical content. We want to make authoring with embedded code, equations, figures, complex diagrams, interactive widgets, citations, cross references, and the myriad other special requirements of scientific discourse straightforward and productive for everyone.\nHelp authors take full advantage of the web as a connected, interactive platform for communications, while still providing the ability to create excellent printed output from the same document source. Researchers shouldn’t need to choose between LaTeX, MS Word, and HTML but rather be able to author documents that target all of them at the same time.\nMake reproducible research and publications the norm rather than the exception. Reproducibility requires that the code and data required to create a manuscript are an integrated part of it. However, this isn’t often straightforward in practice—Quarto aims to make it easier to adopt a reproducible workflow than not.\n\nQuarto is open source software licensed under the GNU GPL v2. We believe that it’s better for everyone if the tools used for research and science are free and open. Reproducibility, widespread sharing of knowledge and techniques, and the leveling of the playing field by eliminating cost barriers are but a few of the shared benefits of free software in science."
  },
  {
    "href": "about.html#project",
    "title": "About Quarto",
    "section": "Project",
    "text": "At the core of Quarto is Pandoc, a powerful and flexible document processing tool. Quarto adds a number of facilities to Pandoc aimed at scientific and technical publishing, including:\n\nEmbedding code and output from Python, R, and Julia via integration with Jupyter and Knitr .\nA variety of extensions to Pandoc markdown useful for technical writing including cross-references, sub-figures, layout panels, hover-able citations and footnotes, callouts, and more.\nA project system for rendering groups of documents at once, sharing options across documents, and producing aggregate output like books and websites.\n\nDevelopment of Quarto is sponsored by RStudio, where we previously created a similar system (R Markdown) that shared the same goals, but was targeted principally at users of the R language. With Quarto, we are hoping to bring these tools to a much wider audience."
  },
  {
    "href": "about.html#contribute",
    "title": "About Quarto",
    "section": "Contribute",
    "text": "You can contribute to Quarto in many ways:\n\nBy opening issues to provide feedback and share ideas.\nBy submitting Pull Request (PR) to fix opened issues\nBy submitting Pull Request (PR) to suggest new features (it is considered good practice to open an issue for discussion before working on a pull request for a new feature).\n\nPlease be mindful of our code of conduct as you interact with other community members.\n\nPull Requests\nPull requests are very welcome! Here’s how to contribute via PR:\n\nFork the repository, clone it locally, and make your changes in a new branch specific to the PR. For example:\n# clone your fork\n$ git clone https://github.com/<username>/quarto-cli\n\n# configure for your platform (./configure-macos.sh, ./configure-linux.sh, or ./configure-windows.cmd)\n$ cd quarto-cli\n$ ./configure-macos.sh\n\n# checkout a new branch\n$ git checkout -b feature/newthing\nFor significant changes (e.g more than small bug fixes), ensure that you have signed the individual or corporate contributor agreement as appropriate. You can send the signed copy to jj@rstudio.com.\nSubmit the pull request. It is ok to submit as draft in your are still working on it but would like some feedback from us. It always good to share in the open that you are working on it.\n\nWe’ll try to be as responsive as possible in reviewing and accepting pull requests."
  }
]