---
title: "Website Search"
description: "Quarto includes built in support for searching the contents of your site using either integration with a locally created index or by connecting to an Algolia index.."
---

## Overview

Quarto includes support for allowing users to search the contents of your website. Using your `_quarto.yml` file, you can configure and customize where the search interface appears in your website, how the search interface behaves, as well as other options for controlling the search experience.

By default, Quarto will automatically index the contents of your site and make it searchable using [Fuse.js](https://fusejs.io), but this can also be customized to connect to a hosted [Algolia index](https://www.algolia.com/products/search-and-discovery/hosted-search-api/).

## Search Appearance

By default, search will be enabled for websites created using Quarto and the search UI will be adapted to the overall navigational structure of the website. If a Navbar is defined, the search UI will appear as a button on the Navbar. If a Navbar is not defined, but a Sidebar is defined, the search UI will appear as a textbox on the sidebar. You can also explicitly control how the search UI appears within your site's navigation using the following options:

+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Option     | Description                                                                                                                                                                                                                                                                                                                               |
+============+===========================================================================================================================================================================================================================================================================================================================================+
| `location` | Which navigational element should contain the search UI. Specify `navbar` if you'd like the search UI to appear in the Navbar or `sidebar` if you'd like the search UI to appear in the sidebar. If not specified, the search UI will appear in a Navbar if present, otherwise in the sidebar, or not at all if no navigation is present. |
+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `type`     | The type of search UI to include in the specified location. If you specify `textbox`, a traditional web textbox will appears in the Navbar or sidebar. If you specify `overlay`, a button will appear in the Navbar or Sidebar and pressing the button will launch a more full screen search experience.                                  |
+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

### Textbox

Below is an example of the appearance of search when the type is specified as `textbox`.

#### Navbar

![](images/navbar-textbox.png)

#### Sidebar

![](images/sidebar-textbox.png)

### Overlay

Below is an example of the appearance of search when the type is specified as `overlay`.

#### Navbar

![](images/navbar-overlay.png)

#### Sidebar

![](images/sidebar-overlay.png)

## Customizing Results

+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Option           | Description                                                                                                                                                                                                                       |
+==================+===================================================================================================================================================================================================================================+
| `limit`          | The number of results to display in the search results. Defaults to 25.                                                                                                                                                           |
+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `collapse-after` | The number of sections matching a document to show before hiding additional sections behind a 'more matches' link. Defaults to 2.                                                                                                 |
|                  |                                                                                                                                                                                                                                   |
|                  | ![](images/collapse-after.png)                                                                                                                                                                                                    |
+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `copy-button`    | If true, the search textbox will include a small icon that when clicked will copy a url to the search results to the clipboard (this is useful if users would like to share a particular search with results). Defaults to false. |
|                  |                                                                                                                                                                                                                                   |
|                  | ![](images/copy-button.png)                                                                                                                                                                                                       |
+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

## Using Algolia

In addition to the built in search capability using Fuse.js, a Quarto website can also be configured to use an existing search index. In addition, as a part of rendering the website when search is enabled, Quarto will produce a JSON file \`\_site/search.json\` which can be used to update an Algolia index (via directly uploading the file or by using their API). For more on creating indexes with Algolia, see [Send and Update Your Data](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/) using Algolia.

### Basic Configuration

In order for Quarto to connect to your Algolia index, you need to provide basic connection information in your Quarto project file. You can find this connection information for your Algolia index in the Dashboard in the [API Keys](https://www.algolia.com/api-keys) section. The following basic connection information is required:

+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Option                | Description                                                                                                                                                                                      |
+=======================+==================================================================================================================================================================================================+
| `index-name`          | The name of the index to use when performing a search.                                                                                                                                           |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `application-id`      | The unique ID used by Algolia to identify your application.                                                                                                                                      |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `search-only-api-key` | The Search-Only API key to use to connect to Algolia.                                                                                                                                            |
|                       |                                                                                                                                                                                                  |
|                       | ::: callout-important                                                                                                                                                                            |
|                       | Be sure to use the **Search Only** API key, which provides read only access to your index and is safe to include in project files. Never use your Admin API key in a Quarto document or project. |
|                       | :::                                                                                                                                                                                              |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

For example:

``` yaml
site:
  search:
    algolia:
      index-name: <my-index-name>
      application-id: <my-application-id>
      search-only-api-key: <my-search-only-api-key>
```

### Custom Index Schema

If you are simply using the `search.json` file generated by Quarto as a part of rendering your site to update your Algolia index, the above configuration information is all that is required to set up search using Algolia. If you are generating an index some other way, however, including perhaps additional or different fields in the index, you may need to provide additional information to specify which fields Quarto should use when searching. You do this by including an `index-fields` key under `aloglia` which specifies the names of specific fields in your index.

+-----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Option    | Description                                                                                                                                                                                                                |
+===========+============================================================================================================================================================================================================================+
| `href`    | The field to use to read the URL to this index entry. The user will be navigated to this URL when they select the matching search result. Note that Quarto groups results by URL (not including the anchor when grouping). |
|           |                                                                                                                                                                                                                            |
|           | This field is required (either as an existing field in your index or with a mapped field name).                                                                                                                            |
+-----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `title`   | The field to use to read the title of the index entry.                                                                                                                                                                     |
|           |                                                                                                                                                                                                                            |
|           | This field is required (either as an existing field in your index or with a mapped field name).                                                                                                                            |
+-----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `section` | The field to use to read the section of the index entry. Quarto groups results by URL and uses the section information (if present) to show matching subsections of the same document.                                     |
|           |                                                                                                                                                                                                                            |
|           | This field is optional.                                                                                                                                                                                                    |
+-----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `text`    | The field to use to read the text of the index entry.                                                                                                                                                                      |
|           |                                                                                                                                                                                                                            |
|           | This field is required (either as an existing field in your index or with a mapped field name).                                                                                                                            |
+-----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Any or all of the above may be specified in your Quarto project file. For example:

``` yaml
site:
  search:
    algolia:
      index-name: <my-index-name>
      application-id: <my-application-id>
      search-only-api-key: <my-search-only-api-key>
    index-fields:
      href: url
      section: sec
      text: body
    
```

### Algolia Insights

By default, Algolia provides a number of insights based upon the performance of your Algolia search. In addition, it may be helpful to understand more detailed tracking of the results that are viewed and clicked. You can enable click and conversion tracking using Algolia by setting the `analytics-events` to true:

``` yaml
site:
  search:
    algolia:
      index-name: <my-index-name>
      application-id: <my-application-id>
      search-only-api-key: <my-search-only-api-key>
      analytics-events: true
```

You can confirm that events are being properly sent to Algolia using the [Event Debugger](https://www.algolia.com/events/debugger). Note that the click and conversion events use cookies to maintain an anonymous user identifier- if cookie consent is enabled, search events will only be enabled if cookie consent has been granted.

### Advanced Configuration

In addition to the above configuration, you may also pass Algolia specific parameters when executing a search. For example, you may want to limit results to a particular facet or set of tags. To specify parameters, add the `params` key to your `algolia` yaml and provide params. For information about about available parameters, see Algolia's [Search API Parameters](https://www.algolia.com/doc/api-reference/search-api-parameters/).

For example:

``` yaml
site:
  search:
    algolia:
      index-name: <my-index-name>
      application-id: <my-application-id>
      search-only-api-key: <my-search-only-api-key>
    index-fields:
      href: url
      section: sec
      text: body
    params:
      tagFilters: ['tag1','tag2']
```

## Disabling Search

If you'd like to disable search support for your website, you can do so by including the following in your `_quarto.yml` file:

``` yaml
site:
  search: false
```
